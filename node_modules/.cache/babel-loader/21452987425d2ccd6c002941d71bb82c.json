{"ast":null,"code":"import 'focus-outline-manager';\nimport React, { useState, useEffect, useRef, createRef, Component } from 'react';\nimport cn from 'classnames';\nimport scrollSmooth from 'scroll-smooth';\nimport Scrollparent from 'scrollparent';\nimport debounce from 'lodash.debounce';\nimport FocusLock from 'react-focus-lock';\nimport styled, { createGlobalStyle } from 'styled-components';\nimport PropTypes from 'prop-types';\nimport { createPortal } from 'react-dom';\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function () {};\n\n      return {\n        s: F,\n        n: function () {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function (e) {\n          throw e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function () {\n      it = o[Symbol.iterator]();\n    },\n    n: function () {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function (e) {\n      didErr = true;\n      err = e;\n    },\n    f: function () {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nvar _templateObject;\n\nvar GlobalStyle = createGlobalStyle(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  .focus-outline-hidden :focus {\\n      outline: none;\\n  }\\n\"])));\n\nvar _templateObject$1;\n\nvar SvgButton = styled.button(_templateObject$1 || (_templateObject$1 = _taggedTemplateLiteral([\"\\n  display: block;\\n  padding: 0;\\n  border: 0;\\n  background: none;\\n  font-size: 0;\\n  cursor: \", \";\\n\"])), function (props) {\n  return props.disabled ? 'not-allowed' : 'pointer';\n});\n\nvar _templateObject$2, _templateObject2;\n\nvar Label = styled.span(_templateObject$2 || (_templateObject$2 = _taggedTemplateLiteral([\"\\n  font-size: 12px;\\n  line-height: 1;\\n\"])));\n\nfunction Arrow(_ref) {\n  var className = _ref.className,\n      onClick = _ref.onClick,\n      inverted = _ref.inverted,\n      label = _ref.label,\n      disabled = _ref.disabled;\n  return /*#__PURE__*/React.createElement(SvgButton, {\n    className: className,\n    onClick: onClick,\n    \"data-tour-elem\": \"\".concat(inverted ? 'right' : 'left', \"-arrow\"),\n    disabled: disabled\n  }, label ? /*#__PURE__*/React.createElement(Label, null, label) : /*#__PURE__*/React.createElement(\"svg\", {\n    viewBox: \"0 0 18.4 14.4\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: inverted ? 'M17 7.2H1M10.8 1L17 7.2l-6.2 6.2' : 'M1.4 7.2h16M7.6 1L1.4 7.2l6.2 6.2',\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeMiterlimit: \"10\"\n  })));\n}\n\nArrow.propTypes = {\n  className: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n  inverted: PropTypes.bool,\n  label: PropTypes.node,\n  disabled: PropTypes.bool\n};\nvar Arrow$1 = styled(Arrow)(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n  color: \", \";\\n\\n  \", \";\\n  \", \";\\n\\n  &:hover {\\n    color: \", \";\\n  }\\n\"])), function (props) {\n  return props.disabled ? '#caccce' : '#646464';\n}, function (props) {\n  return props.inverted ? 'margin-left: 24px;' : 'margin-right: 24px;';\n}, function (props) {\n  return !props.label && \"\\n    width: 16px;\\n    height: 12px;\\n    flex: 0 0 16px;\\n  \";\n}, function (props) {\n  return props.disabled ? '#caccce' : '#000';\n});\n\nvar _templateObject$3;\n\nfunction Close(_ref) {\n  var className = _ref.className,\n      onClick = _ref.onClick;\n  return /*#__PURE__*/React.createElement(SvgButton, {\n    className: className,\n    onClick: onClick\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    viewBox: \"0 0 9.1 9.1\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M5.9 4.5l2.8-2.8c.4-.4.4-1 0-1.4-.4-.4-1-.4-1.4 0L4.5 3.1 1.7.3C1.3-.1.7-.1.3.3c-.4.4-.4 1 0 1.4l2.8 2.8L.3 7.4c-.4.4-.4 1 0 1.4.2.2.4.3.7.3s.5-.1.7-.3L4.5 6l2.8 2.8c.3.2.5.3.8.3s.5-.1.7-.3c.4-.4.4-1 0-1.4L5.9 4.5z\"\n  })));\n}\n\nClose.propTypes = {\n  className: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired\n};\nvar StyledClose = styled(Close)(_templateObject$3 || (_templateObject$3 = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  top: 22px;\\n  right: 22px;\\n  width: 9px;\\n  height: 9px;\\n  color: #5e5e5e;\\n  &:hover {\\n    color: #000;\\n  }\\n\"])));\n\nfunction getNodeRect(node) {\n  var _node$getBoundingClie = node.getBoundingClientRect(),\n      top = _node$getBoundingClie.top,\n      right = _node$getBoundingClie.right,\n      bottom = _node$getBoundingClie.bottom,\n      left = _node$getBoundingClie.left,\n      width = _node$getBoundingClie.width,\n      height = _node$getBoundingClie.height;\n\n  return {\n    top: top,\n    right: right,\n    bottom: bottom,\n    left: left,\n    width: width,\n    height: height\n  };\n}\n\nfunction getHighlightedRect(node, step) {\n  if (!step.highlightedSelectors) {\n    return getNodeRect(node);\n  }\n\n  var attrs = getNodeRect(node);\n\n  var _iterator = _createForOfIteratorHelper(step.highlightedSelectors),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var selector = _step.value;\n      var element = document.querySelector(selector);\n\n      if (!element || element.style.display === 'none' || element.style.visibility === 'hidden') {\n        continue;\n      }\n\n      var rect = getNodeRect(element);\n\n      if (rect.top < attrs.top) {\n        attrs.top = rect.top;\n      }\n\n      if (rect.right > attrs.right) {\n        attrs.right = rect.right;\n      }\n\n      if (rect.bottom > attrs.bottom) {\n        attrs.bottom = rect.bottom;\n      }\n\n      if (rect.left < attrs.left) {\n        attrs.left = rect.left;\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  attrs.width = attrs.right - attrs.left;\n  attrs.height = attrs.bottom - attrs.top;\n  return attrs;\n}\n\nfunction inView(_ref) {\n  var top = _ref.top,\n      right = _ref.right,\n      bottom = _ref.bottom,\n      left = _ref.left,\n      w = _ref.w,\n      h = _ref.h,\n      _ref$threshold = _ref.threshold,\n      threshold = _ref$threshold === void 0 ? 0 : _ref$threshold;\n  return top >= 0 + threshold && left >= 0 + threshold && bottom <= h - threshold && right <= w - threshold;\n}\n\nfunction isBody(node) {\n  return node === document.querySelector('body') || node === document.querySelector('html');\n}\n\nvar isHoriz = function isHoriz(pos) {\n  return /(left|right)/.test(pos);\n};\n\nvar isOutsideX = function isOutsideX(val, windowWidth) {\n  return val > windowWidth;\n};\n\nvar isOutsideY = function isOutsideY(val, windowHeight) {\n  return val > windowHeight;\n};\n\nvar safe = function safe(sum) {\n  return sum < 0 ? 0 : sum;\n};\n\nfunction bestPositionOf(positions) {\n  return Object.keys(positions).map(function (p) {\n    return {\n      position: p,\n      value: positions[p]\n    };\n  }).sort(function (a, b) {\n    return b.value - a.value;\n  }).map(function (p) {\n    return p.position;\n  });\n}\n\nvar _templateObject$4;\n\nvar Guide = styled.div(_templateObject$4 || (_templateObject$4 = _taggedTemplateLiteral([\"\\n  --reactour-accent: \", \";\\n  \", \"\\n  position: fixed;\\n  transition: transform 0.3s;\\n  top: 0;\\n  left: 0;\\n  z-index: 1000000;\\n\\n  transform: \", \";\\n\"])), function (props) {\n  return props.accentColor;\n}, function (props) {\n  return props.defaultStyles ? \"\\n  max-width: 331px;\\n  min-width: 150px;\\n  padding-right: 40px;\\n  border-radius: \".concat(props.rounded, \"px;\\n  background-color: #fff;\\n  padding: 24px 30px;\\n  box-shadow: 0 0.5em 3em rgba(0, 0, 0, 0.3);\\n  color: inherit;\\n  \") : '';\n}, function (props) {\n  var targetTop = props.targetTop,\n      targetRight = props.targetRight,\n      targetBottom = props.targetBottom,\n      targetLeft = props.targetLeft,\n      windowWidth = props.windowWidth,\n      windowHeight = props.windowHeight,\n      helperWidth = props.helperWidth,\n      helperHeight = props.helperHeight,\n      helperPosition = props.helperPosition,\n      padding = props.padding;\n  var available = {\n    left: targetLeft,\n    right: windowWidth - targetRight,\n    top: targetTop,\n    bottom: windowHeight - targetBottom\n  };\n\n  var couldPositionAt = function couldPositionAt(position) {\n    return available[position] > (isHoriz(position) ? helperWidth + padding * 2 : helperHeight + padding * 2);\n  };\n\n  var autoPosition = function autoPosition(coords) {\n    var positionsOrder = bestPositionOf(available);\n\n    for (var j = 0; j < positionsOrder.length; j++) {\n      if (couldPositionAt(positionsOrder[j])) {\n        return coords[positionsOrder[j]];\n      }\n    }\n\n    return coords.center;\n  };\n\n  var pos = function pos(helperPosition) {\n    if (Array.isArray(helperPosition)) {\n      var isOutX = isOutsideX(helperPosition[0], windowWidth);\n      var isOutY = isOutsideY(helperPosition[1], windowHeight);\n\n      var warn = function warn(axis, num) {\n        console.warn(\"\".concat(axis, \":\").concat(num, \" is outside window, falling back to center\"));\n      };\n\n      if (isOutX) warn('x', helperPosition[0]);\n      if (isOutY) warn('y', helperPosition[1]);\n      return [isOutX ? windowWidth / 2 - helperWidth / 2 : helperPosition[0], isOutY ? windowHeight / 2 - helperHeight / 2 : helperPosition[1]];\n    }\n\n    var hX = isOutsideX(targetLeft + helperWidth, windowWidth) ? isOutsideX(targetRight + padding, windowWidth) ? targetRight - helperWidth : targetRight - helperWidth + padding : targetLeft - padding;\n    var x = hX > padding ? hX : padding;\n    var hY = isOutsideY(targetTop + helperHeight, windowHeight) ? isOutsideY(targetBottom + padding, windowHeight) ? targetBottom - helperHeight : targetBottom - helperHeight + padding : targetTop - padding;\n    var y = hY > padding ? hY : padding;\n    var coords = {\n      top: [x, targetTop - helperHeight - padding * 2],\n      right: [targetRight + padding * 2, y],\n      bottom: [x, targetBottom + padding * 2],\n      left: [targetLeft - helperWidth - padding * 2, y],\n      center: [windowWidth / 2 - helperWidth / 2, windowHeight / 2 - helperHeight / 2]\n    };\n\n    if (helperPosition === 'center' || couldPositionAt(helperPosition)) {\n      return coords[helperPosition];\n    }\n\n    return autoPosition(coords);\n  };\n\n  var p = pos(helperPosition);\n  return \"translate(\".concat(Math.round(p[0]), \"px, \").concat(Math.round(p[1]), \"px)\");\n});\n\nvar _templateObject$5;\n\nvar Badge = styled.span(_templateObject$5 || (_templateObject$5 = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  font-family: monospace;\\n  background: var(--reactour-accent);\\n  background: \", \";\\n  height: 1.875em;\\n  line-height: 2;\\n  padding-left: 0.8125em;\\n  padding-right: 0.8125em;\\n  font-size: 1em;\\n  border-radius: 1.625em;\\n  color: white;\\n  text-align: center;\\n  box-shadow: 0 0.25em 0.5em rgba(0, 0, 0, 0.3);\\n  top: -0.8125em;\\n  left: -0.8125em;\\n\"])), function (props) {\n  return props.accentColor;\n});\n\nvar _templateObject$6;\n\nvar Controls = styled.div(_templateObject$6 || (_templateObject$6 = _taggedTemplateLiteral([\"\\n  display: flex;\\n  margin-top: 24px;\\n  align-items: center;\\n\"])));\n\nvar _templateObject$7;\n\nvar Navigation = styled.nav(_templateObject$7 || (_templateObject$7 = _taggedTemplateLiteral([\"\\n  counter-reset: dot;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  flex-wrap: wrap;\\n\"])));\n\nvar _templateObject$8;\n\nvar Dot = styled.button(_templateObject$8 || (_templateObject$8 = _taggedTemplateLiteral([\"\\n  counter-increment: dot;\\n  width: 8px;\\n  height: 8px;\\n  border: \", \";\\n\\n  border-radius: 100%;\\n  padding: 0;\\n  display: block;\\n  margin: 4px;\\n  transition: opacity 0.3s, transform 0.3s;\\n  cursor: \", \";\\n  transform: scale(\", \");\\n\\n  color: \", \";\\n  background: \", \";\\n\\n  color: \", \";\\n  background: \", \";\\n\\n  &:before {\\n    content: counter(dot);\\n    position: absolute;\\n    bottom: calc(100% + 0.25em);\\n    left: 50%;\\n    opacity: 0;\\n    transform: translate(-50%, 1em);\\n    transition: 0.3s;\\n    display: \", \";\\n  }\\n\\n  &:hover {\\n    background-color: currentColor;\\n\\n    &:before {\\n      opacity: 0.5;\\n      transform: translate(-50%, -2px);\\n    }\\n  }\\n\"])), function (props) {\n  return props.current === props.index ? '0' : '1px solid #caccce';\n}, function (props) {\n  return props.disabled ? 'not-allowed' : 'pointer';\n}, function (props) {\n  return props.current === props.index ? 1.25 : 1;\n}, function (props) {\n  return props.current === props.index ? 'var(--reactour-accent)' : '#caccce';\n}, function (props) {\n  return props.current === props.index ? 'var(--reactour-accent)' : 'none';\n}, function (props) {\n  return props.current === props.index ? props.accentColor : '#caccce';\n}, function (props) {\n  return props.current === props.index ? props.accentColor : 'none';\n}, function (props) {\n  return props.showNumber ? 'block' : 'none';\n});\n\nvar _templateObject$9;\n\nvar SvgMaskWrapper = styled.div(_templateObject$9 || (_templateObject$9 = _taggedTemplateLiteral([\"\\n  opacity: \", \";\\n  color: \", \";\\n  width: 100%;\\n  left: 0;\\n  top: 0;\\n  height: 100%;\\n  position: fixed;\\n  z-index: 99999;\\n  pointer-events: none;\\n\"])), function (props) {\n  return !props.maskClassName && 0.7;\n}, function (props) {\n  return !props.maskClassName && '#000';\n});\n\nfunction SvgMask(_ref) {\n  var windowWidth = _ref.windowWidth,\n      windowHeight = _ref.windowHeight,\n      targetWidth = _ref.targetWidth,\n      targetHeight = _ref.targetHeight,\n      targetTop = _ref.targetTop,\n      targetLeft = _ref.targetLeft,\n      padding = _ref.padding,\n      rounded = _ref.rounded,\n      roundedStep = _ref.roundedStep,\n      disableInteraction = _ref.disableInteraction,\n      disableInteractionClassName = _ref.disableInteractionClassName,\n      className = _ref.className,\n      onClick = _ref.onClick,\n      highlightedBorder = _ref.highlightedBorder;\n  var width = safe(targetWidth + padding * 2);\n  var height = safe(targetHeight + padding * 2);\n  var top = safe(targetTop - padding);\n  var left = safe(targetLeft - padding);\n  var roundedRadius = roundedStep ? Math.min(width / 2, height / 2) : rounded;\n  return /*#__PURE__*/React.createElement(SvgMaskWrapper, {\n    onClick: onClick,\n    maskClassName: className\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    width: windowWidth,\n    height: windowHeight,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    className: className\n  }, /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"mask\", {\n    id: \"mask-main\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    x: 0,\n    y: 0,\n    width: windowWidth,\n    height: windowHeight,\n    fill: \"white\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: left,\n    y: top,\n    width: width,\n    height: height,\n    fill: \"black\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: left - 1,\n    y: top - 1,\n    width: roundedRadius,\n    height: roundedRadius,\n    fill: \"white\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: left + roundedRadius,\n    cy: top + roundedRadius,\n    r: roundedRadius,\n    fill: \"black\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: left + width - roundedRadius + 1,\n    y: top - 1,\n    width: roundedRadius,\n    height: roundedRadius,\n    fill: \"white\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: left + width - roundedRadius,\n    cy: top + roundedRadius,\n    r: roundedRadius,\n    fill: \"black\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: left - 1,\n    y: top + height - roundedRadius + 1,\n    width: roundedRadius,\n    height: roundedRadius,\n    fill: \"white\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: left + roundedRadius,\n    cy: top + height - roundedRadius,\n    r: roundedRadius,\n    fill: \"black\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: left + width - roundedRadius + 1,\n    y: top + height - roundedRadius + 1,\n    width: roundedRadius,\n    height: roundedRadius,\n    fill: \"white\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: left + width - roundedRadius,\n    cy: top + height - roundedRadius,\n    r: roundedRadius,\n    fill: \"black \"\n  })), /*#__PURE__*/React.createElement(\"clipPath\", {\n    id: \"clip-path\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    x: 0,\n    y: 0,\n    width: windowWidth,\n    height: top\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: 0,\n    y: top,\n    width: left,\n    height: height\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: targetLeft + targetWidth + padding,\n    y: top,\n    width: safe(windowWidth - targetWidth - left),\n    height: height\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: 0,\n    y: targetTop + targetHeight + padding,\n    width: windowWidth,\n    height: safe(windowHeight - targetHeight - top)\n  }))), /*#__PURE__*/React.createElement(\"rect\", {\n    x: 0,\n    y: 0,\n    width: windowWidth,\n    height: windowHeight,\n    fill: \"currentColor\",\n    mask: \"url(#mask-main)\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: 0,\n    y: 0,\n    width: windowWidth,\n    height: windowHeight,\n    fill: \"currentColor\",\n    clipPath: \"url(#clip-path)\",\n    pointerEvents: \"auto\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: left,\n    y: top,\n    width: width,\n    height: height,\n    pointerEvents: \"auto\",\n    fill: \"transparent\",\n    display: disableInteraction ? 'block' : 'none',\n    className: disableInteractionClassName\n  }), highlightedBorder && /*#__PURE__*/React.createElement(\"rect\", {\n    x: safe(left + highlightedBorder.width / 2.0),\n    y: safe(top + highlightedBorder.width / 2.0),\n    width: safe(width - highlightedBorder.width),\n    height: safe(height - highlightedBorder.width),\n    pointerEvents: \"auto\",\n    fill: \"none\",\n    strokeWidth: highlightedBorder.width,\n    stroke: highlightedBorder.color,\n    rx: roundedRadius - 2\n  })));\n}\n\nSvgMask.propTypes = {\n  windowWidth: PropTypes.number.isRequired,\n  windowHeight: PropTypes.number.isRequired,\n  targetWidth: PropTypes.number.isRequired,\n  targetHeight: PropTypes.number.isRequired,\n  targetTop: PropTypes.number.isRequired,\n  targetLeft: PropTypes.number.isRequired,\n  padding: PropTypes.number.isRequired,\n  rounded: PropTypes.number.isRequired,\n  roundedStep: PropTypes.bool,\n  disableInteraction: PropTypes.bool.isRequired,\n  disableInteractionClassName: PropTypes.string.isRequired,\n  highlightedBorder: PropTypes.shape({\n    color: PropTypes.string.isRequired,\n    width: PropTypes.number.isRequired\n  })\n};\n\nvar ReactourResizeObserver = function (_ref) {\n  var step = _ref.step,\n      refresh = _ref.refresh;\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      mutationsCounter = _useState2[0],\n      setMutationsCounter = _useState2[1]; // only use to notify main logic below\n  // that a resizeObservable has been added to DOM (or removed from it)\n\n\n  useEffect(function () {\n    if (!step.resizeObservables) {\n      return;\n    }\n\n    var incrementMutationsCounterIfObservable = function incrementMutationsCounterIfObservable(nodes) {\n      var _iterator = _createForOfIteratorHelper(nodes),\n          _step;\n\n      try {\n        var _loop = function _loop() {\n          var node = _step.value;\n\n          if (!node.attributes) {\n            return \"continue\";\n          }\n\n          var found = step.resizeObservables.find(function (observable) {\n            return node.matches(observable);\n          });\n\n          if (found) {\n            setMutationsCounter(mutationsCounter + 1);\n          }\n        };\n\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var _ret = _loop();\n\n          if (_ret === \"continue\") continue;\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    };\n\n    var mutationObserver = new MutationObserver(function (mutationsList) {\n      var _iterator2 = _createForOfIteratorHelper(mutationsList),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var mutation = _step2.value;\n\n          if (0 !== mutation.addedNodes.length) {\n            incrementMutationsCounterIfObservable(mutation.addedNodes);\n          }\n\n          if (0 !== mutation.removedNodes.length) {\n            incrementMutationsCounterIfObservable(mutation.removedNodes);\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    });\n    var observable = document.documentElement || document.body;\n    var config = {\n      childList: true,\n      subtree: true\n    };\n    mutationObserver.observe(observable, config);\n    return function () {\n      mutationObserver.disconnect();\n    };\n  }, [step, mutationsCounter]); // the main logic is here\n\n  useEffect(function () {\n    if (!step.resizeObservables) {\n      return;\n    }\n\n    var resizeObserver = new ResizeObserver(function (entries) {\n      refresh();\n    });\n\n    var _iterator3 = _createForOfIteratorHelper(step.resizeObservables),\n        _step3;\n\n    try {\n      for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n        var observable = _step3.value;\n        var element = document.querySelector(observable);\n\n        if (element) {\n          resizeObserver.observe(element);\n        }\n      }\n    } catch (err) {\n      _iterator3.e(err);\n    } finally {\n      _iterator3.f();\n    }\n\n    return function () {\n      resizeObserver.disconnect();\n    };\n  }, [step, mutationsCounter]);\n  return null;\n};\n\nvar ReactourMutationObserver = function (_ref) {\n  var step = _ref.step,\n      refresh = _ref.refresh;\n  useEffect(function () {\n    if (!step.mutationObservables) {\n      return;\n    }\n\n    var refreshHighlightedRegionIfObservable = function refreshHighlightedRegionIfObservable(nodes) {\n      var _iterator = _createForOfIteratorHelper(nodes),\n          _step;\n\n      try {\n        var _loop = function _loop() {\n          var node = _step.value;\n\n          if (!node.attributes) {\n            return \"continue\";\n          }\n\n          var found = step.mutationObservables.find(function (observable) {\n            return node.matches(observable);\n          });\n\n          if (found) {\n            refresh();\n          }\n        };\n\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var _ret = _loop();\n\n          if (_ret === \"continue\") continue;\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    };\n\n    var mutationObserver = new MutationObserver(function (mutationsList) {\n      var _iterator2 = _createForOfIteratorHelper(mutationsList),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var mutation = _step2.value;\n\n          if (0 !== mutation.addedNodes.length) {\n            refreshHighlightedRegionIfObservable(mutation.addedNodes);\n          }\n\n          if (0 !== mutation.removedNodes.length) {\n            refreshHighlightedRegionIfObservable(mutation.removedNodes);\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    });\n    var observable = document.documentElement || document.body;\n    var config = {\n      childList: true,\n      subtree: true\n    };\n    mutationObserver.observe(observable, config);\n    return function () {\n      mutationObserver.disconnect();\n    };\n  }, [step]);\n  return null;\n};\n\nfunction Portal(_ref) {\n  var children = _ref.children;\n  var ref = useRef(null);\n\n  if (ref.current === null) {\n    ref.current = document.createElement('div');\n    ref.current.setAttribute('id', '___reactour');\n  }\n\n  useEffect(function () {\n    document.body.appendChild(ref.current);\n    return function () {\n      document.body.removeChild(ref.current);\n    };\n  }, [ref]);\n  return /*#__PURE__*/createPortal(children, ref.current);\n}\n\nvar propTypes = {\n  disableFocusLock: PropTypes.bool,\n  badgeContent: PropTypes.func,\n  highlightedMaskClassName: PropTypes.string,\n  children: PropTypes.oneOfType([PropTypes.node, PropTypes.element]),\n  className: PropTypes.string,\n  closeWithMask: PropTypes.bool,\n  inViewThreshold: PropTypes.number,\n  isOpen: PropTypes.bool.isRequired,\n  lastStepNextButton: PropTypes.node,\n  maskClassName: PropTypes.string,\n  maskSpace: PropTypes.number,\n  nextButton: PropTypes.node,\n  onAfterOpen: PropTypes.func,\n  onBeforeClose: PropTypes.func,\n  onRequestClose: PropTypes.func,\n  prevButton: PropTypes.node,\n  scrollDuration: PropTypes.number,\n  scrollOffset: PropTypes.number,\n  showButtons: PropTypes.bool,\n  showCloseButton: PropTypes.bool,\n  showNavigation: PropTypes.bool,\n  showNavigationNumber: PropTypes.bool,\n  showNumber: PropTypes.bool,\n  startAt: PropTypes.number,\n  goToStep: PropTypes.number,\n  getCurrentStep: PropTypes.func,\n  nextStep: PropTypes.func,\n  prevStep: PropTypes.func,\n  steps: PropTypes.arrayOf(PropTypes.shape({\n    selector: PropTypes.string,\n    content: PropTypes.oneOfType([PropTypes.node, PropTypes.element, PropTypes.func]).isRequired,\n    position: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.number), PropTypes.oneOf(['top', 'right', 'bottom', 'left', 'center'])]),\n    action: PropTypes.func,\n    style: PropTypes.object,\n    stepInteraction: PropTypes.bool,\n    navDotAriaLabel: PropTypes.string,\n    roundedStep: PropTypes.bool\n  })),\n  update: PropTypes.string,\n  updateDelay: PropTypes.number,\n  disableInteraction: PropTypes.bool,\n  disableDotsNavigation: PropTypes.bool,\n  disableKeyboardNavigation: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOf(['esc', 'right', 'left'])), PropTypes.bool]),\n  rounded: PropTypes.number,\n  accentColor: PropTypes.string,\n  highlightedBorder: PropTypes.shape({\n    color: PropTypes.string.isRequired,\n    width: PropTypes.number.isRequired\n  })\n};\nvar defaultProps = {\n  disableFocusLock: false,\n  showNavigation: true,\n  showNavigationNumber: true,\n  showButtons: true,\n  showCloseButton: true,\n  showNumber: true,\n  scrollDuration: 1,\n  maskSpace: 10,\n  updateDelay: 1,\n  disableInteraction: false,\n  rounded: 0,\n  accentColor: '#007aff',\n  closeWithMask: true\n};\nvar CN = {\n  mask: {\n    base: 'reactour__mask',\n    isOpen: 'reactour__mask--is-open',\n    disableInteraction: 'reactour__mask--disable-interaction'\n  },\n  helper: {\n    base: 'reactour__helper',\n    isOpen: 'reactour__helper--is-open'\n  },\n  dot: {\n    base: 'reactour__dot',\n    active: 'reactour__dot--is-active'\n  }\n};\n\nvar Tour = /*#__PURE__*/function (_Component) {\n  _inherits(Tour, _Component);\n\n  var _super = _createSuper(Tour);\n\n  function Tour() {\n    var _this;\n\n    _classCallCheck(this, Tour);\n\n    _this = _super.call(this);\n\n    _defineProperty(_assertThisInitialized(_this), \"unlockFocus\", function (callback) {\n      _this.setState({\n        focusUnlocked: true\n      }, callback());\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"showStep\", function () {\n      if (!_this.helper || !_this.helper.current) return;\n      var steps = _this.props.steps;\n      var _this$state = _this.state,\n          current = _this$state.current,\n          focusUnlocked = _this$state.focusUnlocked;\n\n      if (focusUnlocked) {\n        _this.setState({\n          focusUnlocked: false\n        });\n      }\n\n      var step = steps[current];\n      var node = step.selector ? document.querySelector(step.selector) : null;\n\n      var stepCallback = function stepCallback(o) {\n        if (step.action && typeof step.action === 'function') {\n          _this.unlockFocus(function () {\n            return step.action(o);\n          });\n        }\n      };\n\n      if (step.observe) {\n        var target = document.querySelector(step.observe);\n        var config = {\n          attributes: true,\n          childList: true,\n          characterData: true\n        };\n\n        _this.setState(function (prevState) {\n          if (prevState.observer) {\n            setTimeout(function () {\n              prevState.observer.disconnect();\n            }, 0);\n          }\n\n          return {\n            observer: new MutationObserver(function (mutations) {\n              mutations.forEach(function (mutation) {\n                if (mutation.type === 'childList' && mutation.addedNodes.length > 0) {\n                  var cb = function cb() {\n                    return stepCallback(mutation.addedNodes[0]);\n                  };\n\n                  setTimeout(function () {\n                    return _this.calculateNode(mutation.addedNodes[0], step, cb);\n                  }, 100);\n                } else if (mutation.type === 'childList' && mutation.removedNodes.length > 0) {\n                  var _cb = function _cb() {\n                    return stepCallback(node);\n                  };\n\n                  _this.calculateNode(node, step, _cb);\n                }\n              });\n            })\n          };\n        }, function () {\n          return _this.state.observer.observe(target, config);\n        });\n      } else {\n        if (_this.state.observer) {\n          _this.state.observer.disconnect();\n\n          _this.setState({\n            observer: null\n          });\n        }\n      }\n\n      if (node) {\n        var cb = function cb() {\n          return stepCallback(node);\n        };\n\n        _this.calculateNode(node, step, cb);\n      } else {\n        _this.setState(setNodeState(null, step, _this.helper.current), stepCallback);\n\n        step.selector && console.warn(\"Doesn't find a DOM node '\".concat(step.selector, \"'. Please check the 'steps' Tour prop Array at position \").concat(current, \".\"));\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"calculateNode\", function (node, step, cb) {\n      var _this$props = _this.props,\n          scrollDuration = _this$props.scrollDuration,\n          inViewThreshold = _this$props.inViewThreshold,\n          scrollOffset = _this$props.scrollOffset;\n      var attrs = getHighlightedRect(node, step);\n      var w = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n      var h = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n\n      if (!inView(_objectSpread2(_objectSpread2({}, attrs), {}, {\n        w: w,\n        h: h,\n        threshold: inViewThreshold\n      }))) {\n        var parentScroll = Scrollparent(node);\n        var offset = scrollOffset ? scrollOffset : attrs.height > h ? -25 : -(h / 2) + attrs.height / 2;\n        scrollSmooth.to(node, {\n          context: isBody(parentScroll) ? window : parentScroll,\n          duration: scrollDuration,\n          offset: offset,\n          callback: function callback(nd) {\n            _this.setState(setNodeState(nd, step, _this.helper.current), cb);\n          }\n        });\n      } else {\n        _this.setState(setNodeState(node, step, _this.helper.current), cb);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"recalculateNode\", function (step) {\n      var node = document.querySelector(step.selector);\n\n      var stepCallback = function stepCallback(o) {\n        if (step.action && typeof step.action === 'function') {\n          _this.unlockFocus(function () {\n            return step.action(o);\n          });\n        }\n      };\n\n      _this.calculateNode(node, step, function () {\n        return stepCallback(node);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"maskClickHandler\", function (e) {\n      var _this$props2 = _this.props,\n          closeWithMask = _this$props2.closeWithMask,\n          onRequestClose = _this$props2.onRequestClose;\n\n      if (closeWithMask && !e.target.classList.contains(CN.mask.disableInteraction)) {\n        onRequestClose(e);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"nextStep\", function () {\n      var _this$props3 = _this.props,\n          steps = _this$props3.steps,\n          getCurrentStep = _this$props3.getCurrentStep;\n\n      _this.setState(function (prevState) {\n        var nextStep = prevState.current < steps.length - 1 ? prevState.current + 1 : prevState.current;\n\n        if (typeof getCurrentStep === 'function') {\n          getCurrentStep(nextStep);\n        }\n\n        return {\n          current: nextStep\n        };\n      }, _this.showStep);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"prevStep\", function () {\n      var getCurrentStep = _this.props.getCurrentStep;\n\n      _this.setState(function (prevState) {\n        var nextStep = prevState.current > 0 ? prevState.current - 1 : prevState.current;\n\n        if (typeof getCurrentStep === 'function') {\n          getCurrentStep(nextStep);\n        }\n\n        return {\n          current: nextStep\n        };\n      }, _this.showStep);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"gotoStep\", function (n) {\n      var _this$props4 = _this.props,\n          steps = _this$props4.steps,\n          getCurrentStep = _this$props4.getCurrentStep;\n\n      _this.setState(function (prevState) {\n        var nextStep = steps[n] ? n : prevState.current;\n\n        if (typeof getCurrentStep === 'function') {\n          getCurrentStep(nextStep);\n        }\n\n        return {\n          current: nextStep\n        };\n      }, _this.showStep);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"keyDownHandler\", function (e) {\n      var _this$props5 = _this.props,\n          onRequestClose = _this$props5.onRequestClose,\n          nextStep = _this$props5.nextStep,\n          prevStep = _this$props5.prevStep,\n          disableKeyboardNavigation = _this$props5.disableKeyboardNavigation;\n      _this$props5.showCloseButton;\n      e.stopPropagation();\n\n      if (disableKeyboardNavigation === true) {\n        return;\n      }\n\n      var isEscDisabled, isRightDisabled, isLeftDisabled;\n\n      if (disableKeyboardNavigation) {\n        isEscDisabled = disableKeyboardNavigation.includes('esc');\n        isRightDisabled = disableKeyboardNavigation.includes('right');\n        isLeftDisabled = disableKeyboardNavigation.includes('left');\n      }\n\n      if (e.keyCode === 27 && !isEscDisabled) {\n        // esc\n        e.preventDefault();\n        onRequestClose();\n      }\n\n      if (e.keyCode === 39 && !isRightDisabled) {\n        // right\n        e.preventDefault();\n        typeof nextStep === 'function' ? nextStep() : _this.nextStep();\n      }\n\n      if (e.keyCode === 37 && !isLeftDisabled) {\n        // left\n        e.preventDefault();\n        typeof prevStep === 'function' ? prevStep() : _this.prevStep();\n      }\n    });\n\n    _this.state = {\n      isOpen: false,\n      current: 0,\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n      width: 0,\n      height: 0,\n      w: 0,\n      h: 0,\n      inDOM: false,\n      observer: null,\n      focusUnlocked: false\n    };\n    _this.helper = /*#__PURE__*/createRef();\n    _this.helperElement = null;\n    _this.debouncedShowStep = debounce(_this.showStep, 70);\n    return _this;\n  }\n\n  _createClass(Tour, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props6 = this.props,\n          isOpen = _this$props6.isOpen,\n          startAt = _this$props6.startAt;\n\n      if (isOpen) {\n        this.open(startAt);\n      }\n    }\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      var _this$props7 = this.props,\n          isOpen = _this$props7.isOpen,\n          update = _this$props7.update,\n          updateDelay = _this$props7.updateDelay;\n\n      if (!isOpen && nextProps.isOpen) {\n        this.open(nextProps.startAt);\n      } else if (isOpen && !nextProps.isOpen) {\n        this.close();\n      }\n\n      if (isOpen && update !== nextProps.update) {\n        if (nextProps.steps[this.state.current]) {\n          setTimeout(this.showStep, updateDelay);\n        } else {\n          this.props.onRequestClose();\n        }\n      }\n\n      if (isOpen && nextProps.isOpen && this.state.current !== nextProps.goToStep) {\n        this.gotoStep(nextProps.goToStep);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var isOpen = this.props.isOpen;\n\n      if (isOpen) {\n        this.close();\n      }\n\n      if (this.state.observer) {\n        this.state.observer.disconnect();\n      }\n    }\n  }, {\n    key: \"open\",\n    value: function open(startAt) {\n      var _this2 = this;\n\n      var onAfterOpen = this.props.onAfterOpen;\n      this.setState(function (prevState) {\n        return {\n          isOpen: true,\n          current: startAt !== undefined ? startAt : prevState.current\n        };\n      }, function () {\n        setTimeout(_this2.showStep, 1);\n        _this2.helperElement = _this2.helper.current;\n        if (!_this2.props.disableFocusLock) _this2.helper.current.focus();\n\n        if (onAfterOpen) {\n          onAfterOpen(_this2.helperElement);\n        }\n      });\n      window.addEventListener('resize', this.debouncedShowStep, false);\n      window.addEventListener('keydown', this.keyDownHandler, false);\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      this.setState(function (prevState) {\n        if (prevState.observer) {\n          prevState.observer.disconnect();\n        }\n\n        return {\n          isOpen: false,\n          observer: null\n        };\n      }, this.onBeforeClose);\n      window.removeEventListener('resize', this.debouncedShowStep);\n      window.removeEventListener('keydown', this.keyDownHandler);\n    }\n  }, {\n    key: \"onBeforeClose\",\n    value: function onBeforeClose() {\n      var onBeforeClose = this.props.onBeforeClose;\n\n      if (onBeforeClose) {\n        onBeforeClose(this.helperElement);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props8 = this.props,\n          className = _this$props8.className,\n          steps = _this$props8.steps,\n          maskClassName = _this$props8.maskClassName,\n          showButtons = _this$props8.showButtons,\n          showCloseButton = _this$props8.showCloseButton,\n          showNavigation = _this$props8.showNavigation,\n          showNavigationNumber = _this$props8.showNavigationNumber,\n          showNumber = _this$props8.showNumber,\n          onRequestClose = _this$props8.onRequestClose,\n          maskSpace = _this$props8.maskSpace,\n          lastStepNextButton = _this$props8.lastStepNextButton,\n          nextButton = _this$props8.nextButton,\n          prevButton = _this$props8.prevButton,\n          badgeContent = _this$props8.badgeContent,\n          highlightedMaskClassName = _this$props8.highlightedMaskClassName,\n          disableInteraction = _this$props8.disableInteraction,\n          disableDotsNavigation = _this$props8.disableDotsNavigation,\n          nextStep = _this$props8.nextStep,\n          prevStep = _this$props8.prevStep,\n          rounded = _this$props8.rounded,\n          accentColor = _this$props8.accentColor,\n          CustomHelper = _this$props8.CustomHelper,\n          disableFocusLock = _this$props8.disableFocusLock,\n          highlightedBorder = _this$props8.highlightedBorder;\n      var _this$state2 = this.state,\n          isOpen = _this$state2.isOpen,\n          current = _this$state2.current,\n          inDOM = _this$state2.inDOM,\n          targetTop = _this$state2.top,\n          targetRight = _this$state2.right,\n          targetBottom = _this$state2.bottom,\n          targetLeft = _this$state2.left,\n          targetWidth = _this$state2.width,\n          targetHeight = _this$state2.height,\n          windowWidth = _this$state2.w,\n          windowHeight = _this$state2.h,\n          helperWidth = _this$state2.helperWidth,\n          helperHeight = _this$state2.helperHeight,\n          helperPosition = _this$state2.helperPosition;\n      _this$state2.focusUnlocked;\n\n      if (isOpen) {\n        return /*#__PURE__*/React.createElement(Portal, null, /*#__PURE__*/React.createElement(GlobalStyle, null), /*#__PURE__*/React.createElement(ReactourResizeObserver, {\n          step: steps[current],\n          refresh: function refresh() {\n            return _this3.recalculateNode(steps[current]);\n          }\n        }), /*#__PURE__*/React.createElement(ReactourMutationObserver, {\n          step: steps[current],\n          refresh: function refresh() {\n            return _this3.recalculateNode(steps[current]);\n          }\n        }), /*#__PURE__*/React.createElement(SvgMask, {\n          onClick: this.maskClickHandler,\n          forwardRef: function forwardRef(c) {\n            return _this3.mask = c;\n          },\n          windowWidth: windowWidth,\n          windowHeight: windowHeight,\n          targetWidth: targetWidth,\n          targetHeight: targetHeight,\n          targetTop: targetTop,\n          targetLeft: targetLeft,\n          padding: maskSpace,\n          rounded: rounded,\n          roundedStep: steps[current].roundedStep,\n          className: maskClassName,\n          disableInteraction: steps[current].stepInteraction === false || disableInteraction ? !steps[current].stepInteraction : disableInteraction,\n          disableInteractionClassName: \"\".concat(CN.mask.disableInteraction, \" \").concat(highlightedMaskClassName),\n          highlightedBorder: highlightedBorder\n        }), /*#__PURE__*/React.createElement(FocusLock, {\n          disabled: disableFocusLock\n        }, /*#__PURE__*/React.createElement(Guide, {\n          ref: this.helper,\n          targetHeight: targetHeight,\n          targetWidth: targetWidth,\n          targetTop: targetTop,\n          targetRight: targetRight,\n          targetBottom: targetBottom,\n          targetLeft: targetLeft,\n          windowWidth: windowWidth,\n          windowHeight: windowHeight,\n          helperWidth: helperWidth,\n          helperHeight: helperHeight,\n          helperPosition: helperPosition,\n          padding: maskSpace,\n          tabIndex: -1,\n          current: current,\n          style: steps[current].style ? steps[current].style : {},\n          rounded: rounded,\n          className: cn(CN.helper.base, className, _defineProperty({}, CN.helper.isOpen, isOpen)),\n          accentColor: accentColor,\n          defaultStyles: !CustomHelper,\n          role: \"dialog\"\n        }, CustomHelper ? /*#__PURE__*/React.createElement(CustomHelper, {\n          current: current,\n          totalSteps: steps.length,\n          gotoStep: this.gotoStep,\n          close: onRequestClose,\n          content: steps[current] && (typeof steps[current].content === 'function' ? steps[current].content({\n            close: onRequestClose,\n            goTo: this.gotoStep,\n            inDOM: inDOM,\n            step: current + 1\n          }) : steps[current].content)\n        }, this.props.children) : /*#__PURE__*/React.createElement(React.Fragment, null, this.props.children, steps[current] && (typeof steps[current].content === 'function' ? steps[current].content({\n          close: onRequestClose,\n          goTo: this.gotoStep,\n          inDOM: inDOM,\n          step: current + 1\n        }) : steps[current].content), showNumber && /*#__PURE__*/React.createElement(Badge, {\n          \"data-tour-elem\": \"badge\",\n          accentColor: accentColor\n        }, typeof badgeContent === 'function' ? badgeContent(current + 1, steps.length) : current + 1), (showButtons || showNavigation) && /*#__PURE__*/React.createElement(Controls, {\n          \"data-tour-elem\": \"controls\"\n        }, showButtons && /*#__PURE__*/React.createElement(Arrow$1, {\n          onClick: typeof prevStep === 'function' ? prevStep : this.prevStep,\n          disabled: current === 0,\n          label: prevButton ? prevButton : null\n        }), showNavigation && /*#__PURE__*/React.createElement(Navigation, {\n          \"data-tour-elem\": \"navigation\"\n        }, steps.map(function (s, i) {\n          return /*#__PURE__*/React.createElement(Dot, {\n            key: \"\".concat(s.selector ? s.selector : 'undef', \"_\").concat(i),\n            onClick: function onClick() {\n              return _this3.gotoStep(i);\n            },\n            current: current,\n            index: i,\n            accentColor: accentColor,\n            disabled: current === i || disableDotsNavigation,\n            showNumber: showNavigationNumber,\n            \"data-tour-elem\": \"dot\",\n            className: cn(CN.dot.base, _defineProperty({}, CN.dot.active, current === i)),\n            \"aria-label\": s.navDotAriaLabel\n          });\n        })), showButtons && /*#__PURE__*/React.createElement(Arrow$1, {\n          onClick: current === steps.length - 1 ? lastStepNextButton ? onRequestClose : function () {} : typeof nextStep === 'function' ? nextStep : this.nextStep,\n          disabled: !lastStepNextButton && current === steps.length - 1,\n          inverted: true,\n          label: lastStepNextButton && current === steps.length - 1 ? lastStepNextButton : nextButton ? nextButton : null\n        })), showCloseButton ? /*#__PURE__*/React.createElement(StyledClose, {\n          onClick: onRequestClose,\n          className: \"reactour__close\"\n        }) : null))));\n      }\n\n      return null;\n    }\n  }]);\n\n  return Tour;\n}(Component);\n\nvar setNodeState = function setNodeState(node, step, helper) {\n  var w = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n  var h = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n\n  var _hx$getNodeRect = getNodeRect(helper),\n      helperWidth = _hx$getNodeRect.width,\n      helperHeight = _hx$getNodeRect.height;\n\n  var attrs = {\n    top: h + 10,\n    right: w / 2 + 9,\n    bottom: h / 2 + 9,\n    left: w / 2 - helperWidth / 2,\n    width: 0,\n    height: 0,\n    w: w,\n    h: h,\n    helperPosition: 'center'\n  };\n\n  if (node) {\n    attrs = getHighlightedRect(node, step);\n  }\n\n  return function update() {\n    return _objectSpread2(_objectSpread2({\n      w: w,\n      h: h,\n      helperWidth: helperWidth,\n      helperHeight: helperHeight,\n      helperPosition: step.position\n    }, attrs), {}, {\n      inDOM: node ? true : false\n    });\n  };\n};\n\nTour.propTypes = propTypes;\nTour.defaultProps = defaultProps;\nexport default Tour;\nexport { Arrow$1 as Arrow, Badge, StyledClose as Close, Controls, Dot, Navigation };","map":{"version":3,"sources":["/Users/daniel/Documents/GitHub/datafluence/node_modules/reactour/dist/reactour.esm.js"],"names":["React","useState","useEffect","useRef","createRef","Component","cn","scrollSmooth","Scrollparent","debounce","FocusLock","styled","createGlobalStyle","PropTypes","createPortal","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","prototype","_defineProperty","obj","value","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","arguments","source","forEach","getOwnPropertyDescriptors","defineProperties","_inherits","subClass","superClass","create","constructor","_setPrototypeOf","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","p","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Date","toString","call","e","_assertThisInitialized","self","ReferenceError","_possibleConstructorReturn","_createSuper","Derived","hasNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","_taggedTemplateLiteral","strings","raw","slice","freeze","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","Array","isArray","Symbol","iterator","_arr","_n","_d","_e","undefined","_i","_s","next","done","err","minLen","_arrayLikeToArray","n","name","from","test","len","arr2","_createForOfIteratorHelper","allowArrayLike","it","F","s","f","normalCompletion","didErr","step","return","_templateObject","GlobalStyle","_templateObject$1","SvgButton","button","disabled","_templateObject$2","_templateObject2","Label","span","Arrow","_ref","className","onClick","inverted","label","createElement","concat","viewBox","d","fill","stroke","strokeWidth","strokeLinecap","strokeMiterlimit","propTypes","string","isRequired","func","bool","node","Arrow$1","_templateObject$3","Close","StyledClose","getNodeRect","_node$getBoundingClie","getBoundingClientRect","top","right","bottom","left","width","height","getHighlightedRect","highlightedSelectors","attrs","_iterator","_step","selector","element","document","querySelector","style","display","visibility","rect","inView","w","h","_ref$threshold","threshold","isBody","isHoriz","pos","isOutsideX","val","windowWidth","isOutsideY","windowHeight","safe","sum","bestPositionOf","positions","map","position","sort","a","b","_templateObject$4","Guide","div","accentColor","defaultStyles","rounded","targetTop","targetRight","targetBottom","targetLeft","helperWidth","helperHeight","helperPosition","padding","available","couldPositionAt","autoPosition","coords","positionsOrder","j","center","isOutX","isOutY","warn","axis","num","console","hX","x","hY","y","Math","round","_templateObject$5","Badge","_templateObject$6","Controls","_templateObject$7","Navigation","nav","_templateObject$8","Dot","current","index","showNumber","_templateObject$9","SvgMaskWrapper","maskClassName","SvgMask","targetWidth","targetHeight","roundedStep","disableInteraction","disableInteractionClassName","highlightedBorder","roundedRadius","min","xmlns","id","cx","cy","r","mask","clipPath","pointerEvents","color","rx","number","shape","ReactourResizeObserver","refresh","_useState","_useState2","mutationsCounter","setMutationsCounter","resizeObservables","incrementMutationsCounterIfObservable","nodes","_loop","attributes","found","find","observable","matches","_ret","mutationObserver","MutationObserver","mutationsList","_iterator2","_step2","mutation","addedNodes","removedNodes","documentElement","body","config","childList","subtree","observe","disconnect","resizeObserver","ResizeObserver","entries","_iterator3","_step3","ReactourMutationObserver","mutationObservables","refreshHighlightedRegionIfObservable","Portal","children","ref","setAttribute","appendChild","removeChild","disableFocusLock","badgeContent","highlightedMaskClassName","oneOfType","closeWithMask","inViewThreshold","isOpen","lastStepNextButton","maskSpace","nextButton","onAfterOpen","onBeforeClose","onRequestClose","prevButton","scrollDuration","scrollOffset","showButtons","showCloseButton","showNavigation","showNavigationNumber","startAt","goToStep","getCurrentStep","nextStep","prevStep","steps","arrayOf","content","oneOf","action","stepInteraction","navDotAriaLabel","update","updateDelay","disableDotsNavigation","disableKeyboardNavigation","defaultProps","CN","base","helper","dot","active","Tour","_Component","_super","_this","callback","setState","focusUnlocked","_this$state","state","stepCallback","unlockFocus","characterData","prevState","observer","setTimeout","mutations","type","cb","calculateNode","_cb","setNodeState","_this$props","max","clientWidth","window","innerWidth","clientHeight","innerHeight","parentScroll","offset","to","context","duration","nd","_this$props2","classList","contains","_this$props3","showStep","_this$props4","_this$props5","stopPropagation","isEscDisabled","isRightDisabled","isLeftDisabled","includes","keyCode","preventDefault","inDOM","helperElement","debouncedShowStep","componentDidMount","_this$props6","open","UNSAFE_componentWillReceiveProps","nextProps","_this$props7","close","gotoStep","componentWillUnmount","_this2","focus","addEventListener","keyDownHandler","removeEventListener","render","_this3","_this$props8","CustomHelper","_this$state2","recalculateNode","maskClickHandler","forwardRef","c","tabIndex","role","totalSteps","goTo","Fragment","_hx$getNodeRect"],"mappings":"AAAA,OAAO,uBAAP;AACA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,MAArC,EAA6CC,SAA7C,EAAwDC,SAAxD,QAAyE,OAAzE;AACA,OAAOC,EAAP,MAAe,YAAf;AACA,OAAOC,YAAP,MAAyB,eAAzB;AACA,OAAOC,YAAP,MAAyB,cAAzB;AACA,OAAOC,QAAP,MAAqB,iBAArB;AACA,OAAOC,SAAP,MAAsB,kBAAtB;AACA,OAAOC,MAAP,IAAiBC,iBAAjB,QAA0C,mBAA1C;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,YAAT,QAA6B,WAA7B;;AAEA,SAASC,eAAT,CAAyBC,QAAzB,EAAmCC,WAAnC,EAAgD;AAC9C,MAAI,EAAED,QAAQ,YAAYC,WAAtB,CAAJ,EAAwC;AACtC,UAAM,IAAIC,SAAJ,CAAc,mCAAd,CAAN;AACD;AACF;;AAED,SAASC,iBAAT,CAA2BC,MAA3B,EAAmCC,KAAnC,EAA0C;AACxC,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,KAAK,CAACE,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACrC,QAAIE,UAAU,GAAGH,KAAK,CAACC,CAAD,CAAtB;AACAE,IAAAA,UAAU,CAACC,UAAX,GAAwBD,UAAU,CAACC,UAAX,IAAyB,KAAjD;AACAD,IAAAA,UAAU,CAACE,YAAX,GAA0B,IAA1B;AACA,QAAI,WAAWF,UAAf,EAA2BA,UAAU,CAACG,QAAX,GAAsB,IAAtB;AAC3BC,IAAAA,MAAM,CAACC,cAAP,CAAsBT,MAAtB,EAA8BI,UAAU,CAACM,GAAzC,EAA8CN,UAA9C;AACD;AACF;;AAED,SAASO,YAAT,CAAsBd,WAAtB,EAAmCe,UAAnC,EAA+CC,WAA/C,EAA4D;AAC1D,MAAID,UAAJ,EAAgBb,iBAAiB,CAACF,WAAW,CAACiB,SAAb,EAAwBF,UAAxB,CAAjB;AAChB,MAAIC,WAAJ,EAAiBd,iBAAiB,CAACF,WAAD,EAAcgB,WAAd,CAAjB;AACjB,SAAOhB,WAAP;AACD;;AAED,SAASkB,eAAT,CAAyBC,GAAzB,EAA8BN,GAA9B,EAAmCO,KAAnC,EAA0C;AACxC,MAAIP,GAAG,IAAIM,GAAX,EAAgB;AACdR,IAAAA,MAAM,CAACC,cAAP,CAAsBO,GAAtB,EAA2BN,GAA3B,EAAgC;AAC9BO,MAAAA,KAAK,EAAEA,KADuB;AAE9BZ,MAAAA,UAAU,EAAE,IAFkB;AAG9BC,MAAAA,YAAY,EAAE,IAHgB;AAI9BC,MAAAA,QAAQ,EAAE;AAJoB,KAAhC;AAMD,GAPD,MAOO;AACLS,IAAAA,GAAG,CAACN,GAAD,CAAH,GAAWO,KAAX;AACD;;AAED,SAAOD,GAAP;AACD;;AAED,SAASE,OAAT,CAAiBC,MAAjB,EAAyBC,cAAzB,EAAyC;AACvC,MAAIC,IAAI,GAAGb,MAAM,CAACa,IAAP,CAAYF,MAAZ,CAAX;;AAEA,MAAIX,MAAM,CAACc,qBAAX,EAAkC;AAChC,QAAIC,OAAO,GAAGf,MAAM,CAACc,qBAAP,CAA6BH,MAA7B,CAAd;AACA,QAAIC,cAAJ,EAAoBG,OAAO,GAAGA,OAAO,CAACC,MAAR,CAAe,UAAUC,GAAV,EAAe;AAC1D,aAAOjB,MAAM,CAACkB,wBAAP,CAAgCP,MAAhC,EAAwCM,GAAxC,EAA6CpB,UAApD;AACD,KAF6B,CAAV;AAGpBgB,IAAAA,IAAI,CAACM,IAAL,CAAUC,KAAV,CAAgBP,IAAhB,EAAsBE,OAAtB;AACD;;AAED,SAAOF,IAAP;AACD;;AAED,SAASQ,cAAT,CAAwB7B,MAAxB,EAAgC;AAC9B,OAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG4B,SAAS,CAAC3B,MAA9B,EAAsCD,CAAC,EAAvC,EAA2C;AACzC,QAAI6B,MAAM,GAAGD,SAAS,CAAC5B,CAAD,CAAT,IAAgB,IAAhB,GAAuB4B,SAAS,CAAC5B,CAAD,CAAhC,GAAsC,EAAnD;;AAEA,QAAIA,CAAC,GAAG,CAAR,EAAW;AACTgB,MAAAA,OAAO,CAACV,MAAM,CAACuB,MAAD,CAAP,EAAiB,IAAjB,CAAP,CAA8BC,OAA9B,CAAsC,UAAUtB,GAAV,EAAe;AACnDK,QAAAA,eAAe,CAACf,MAAD,EAASU,GAAT,EAAcqB,MAAM,CAACrB,GAAD,CAApB,CAAf;AACD,OAFD;AAGD,KAJD,MAIO,IAAIF,MAAM,CAACyB,yBAAX,EAAsC;AAC3CzB,MAAAA,MAAM,CAAC0B,gBAAP,CAAwBlC,MAAxB,EAAgCQ,MAAM,CAACyB,yBAAP,CAAiCF,MAAjC,CAAhC;AACD,KAFM,MAEA;AACLb,MAAAA,OAAO,CAACV,MAAM,CAACuB,MAAD,CAAP,CAAP,CAAwBC,OAAxB,CAAgC,UAAUtB,GAAV,EAAe;AAC7CF,QAAAA,MAAM,CAACC,cAAP,CAAsBT,MAAtB,EAA8BU,GAA9B,EAAmCF,MAAM,CAACkB,wBAAP,CAAgCK,MAAhC,EAAwCrB,GAAxC,CAAnC;AACD,OAFD;AAGD;AACF;;AAED,SAAOV,MAAP;AACD;;AAED,SAASmC,SAAT,CAAmBC,QAAnB,EAA6BC,UAA7B,EAAyC;AACvC,MAAI,OAAOA,UAAP,KAAsB,UAAtB,IAAoCA,UAAU,KAAK,IAAvD,EAA6D;AAC3D,UAAM,IAAIvC,SAAJ,CAAc,oDAAd,CAAN;AACD;;AAEDsC,EAAAA,QAAQ,CAACtB,SAAT,GAAqBN,MAAM,CAAC8B,MAAP,CAAcD,UAAU,IAAIA,UAAU,CAACvB,SAAvC,EAAkD;AACrEyB,IAAAA,WAAW,EAAE;AACXtB,MAAAA,KAAK,EAAEmB,QADI;AAEX7B,MAAAA,QAAQ,EAAE,IAFC;AAGXD,MAAAA,YAAY,EAAE;AAHH;AADwD,GAAlD,CAArB;AAOA,MAAI+B,UAAJ,EAAgBG,eAAe,CAACJ,QAAD,EAAWC,UAAX,CAAf;AACjB;;AAED,SAASI,eAAT,CAAyBC,CAAzB,EAA4B;AAC1BD,EAAAA,eAAe,GAAGjC,MAAM,CAACmC,cAAP,GAAwBnC,MAAM,CAACoC,cAA/B,GAAgD,SAASH,eAAT,CAAyBC,CAAzB,EAA4B;AAC5F,WAAOA,CAAC,CAACG,SAAF,IAAerC,MAAM,CAACoC,cAAP,CAAsBF,CAAtB,CAAtB;AACD,GAFD;AAGA,SAAOD,eAAe,CAACC,CAAD,CAAtB;AACD;;AAED,SAASF,eAAT,CAAyBE,CAAzB,EAA4BI,CAA5B,EAA+B;AAC7BN,EAAAA,eAAe,GAAGhC,MAAM,CAACmC,cAAP,IAAyB,SAASH,eAAT,CAAyBE,CAAzB,EAA4BI,CAA5B,EAA+B;AACxEJ,IAAAA,CAAC,CAACG,SAAF,GAAcC,CAAd;AACA,WAAOJ,CAAP;AACD,GAHD;;AAKA,SAAOF,eAAe,CAACE,CAAD,EAAII,CAAJ,CAAtB;AACD;;AAED,SAASC,yBAAT,GAAqC;AACnC,MAAI,OAAOC,OAAP,KAAmB,WAAnB,IAAkC,CAACA,OAAO,CAACC,SAA/C,EAA0D,OAAO,KAAP;AAC1D,MAAID,OAAO,CAACC,SAAR,CAAkBC,IAAtB,EAA4B,OAAO,KAAP;AAC5B,MAAI,OAAOC,KAAP,KAAiB,UAArB,EAAiC,OAAO,IAAP;;AAEjC,MAAI;AACFC,IAAAA,IAAI,CAACtC,SAAL,CAAeuC,QAAf,CAAwBC,IAAxB,CAA6BN,OAAO,CAACC,SAAR,CAAkBG,IAAlB,EAAwB,EAAxB,EAA4B,YAAY,CAAE,CAA1C,CAA7B;AACA,WAAO,IAAP;AACD,GAHD,CAGE,OAAOG,CAAP,EAAU;AACV,WAAO,KAAP;AACD;AACF;;AAED,SAASC,sBAAT,CAAgCC,IAAhC,EAAsC;AACpC,MAAIA,IAAI,KAAK,KAAK,CAAlB,EAAqB;AACnB,UAAM,IAAIC,cAAJ,CAAmB,2DAAnB,CAAN;AACD;;AAED,SAAOD,IAAP;AACD;;AAED,SAASE,0BAAT,CAAoCF,IAApC,EAA0CH,IAA1C,EAAgD;AAC9C,MAAIA,IAAI,KAAK,OAAOA,IAAP,KAAgB,QAAhB,IAA4B,OAAOA,IAAP,KAAgB,UAAjD,CAAR,EAAsE;AACpE,WAAOA,IAAP;AACD;;AAED,SAAOE,sBAAsB,CAACC,IAAD,CAA7B;AACD;;AAED,SAASG,YAAT,CAAsBC,OAAtB,EAA+B;AAC7B,MAAIC,yBAAyB,GAAGf,yBAAyB,EAAzD;;AAEA,SAAO,SAASgB,oBAAT,GAAgC;AACrC,QAAIC,KAAK,GAAGvB,eAAe,CAACoB,OAAD,CAA3B;AAAA,QACII,MADJ;;AAGA,QAAIH,yBAAJ,EAA+B;AAC7B,UAAII,SAAS,GAAGzB,eAAe,CAAC,IAAD,CAAf,CAAsBF,WAAtC;;AAEA0B,MAAAA,MAAM,GAAGjB,OAAO,CAACC,SAAR,CAAkBe,KAAlB,EAAyBlC,SAAzB,EAAoCoC,SAApC,CAAT;AACD,KAJD,MAIO;AACLD,MAAAA,MAAM,GAAGD,KAAK,CAACpC,KAAN,CAAY,IAAZ,EAAkBE,SAAlB,CAAT;AACD;;AAED,WAAO6B,0BAA0B,CAAC,IAAD,EAAOM,MAAP,CAAjC;AACD,GAbD;AAcD;;AAED,SAASE,sBAAT,CAAgCC,OAAhC,EAAyCC,GAAzC,EAA8C;AAC5C,MAAI,CAACA,GAAL,EAAU;AACRA,IAAAA,GAAG,GAAGD,OAAO,CAACE,KAAR,CAAc,CAAd,CAAN;AACD;;AAED,SAAO9D,MAAM,CAAC+D,MAAP,CAAc/D,MAAM,CAAC0B,gBAAP,CAAwBkC,OAAxB,EAAiC;AACpDC,IAAAA,GAAG,EAAE;AACHpD,MAAAA,KAAK,EAAET,MAAM,CAAC+D,MAAP,CAAcF,GAAd;AADJ;AAD+C,GAAjC,CAAd,CAAP;AAKD;;AAED,SAASG,cAAT,CAAwBC,GAAxB,EAA6BvE,CAA7B,EAAgC;AAC9B,SAAOwE,eAAe,CAACD,GAAD,CAAf,IAAwBE,qBAAqB,CAACF,GAAD,EAAMvE,CAAN,CAA7C,IAAyD0E,2BAA2B,CAACH,GAAD,EAAMvE,CAAN,CAApF,IAAgG2E,gBAAgB,EAAvH;AACD;;AAED,SAASH,eAAT,CAAyBD,GAAzB,EAA8B;AAC5B,MAAIK,KAAK,CAACC,OAAN,CAAcN,GAAd,CAAJ,EAAwB,OAAOA,GAAP;AACzB;;AAED,SAASE,qBAAT,CAA+BF,GAA/B,EAAoCvE,CAApC,EAAuC;AACrC,MAAI,OAAO8E,MAAP,KAAkB,WAAlB,IAAiC,EAAEA,MAAM,CAACC,QAAP,IAAmBzE,MAAM,CAACiE,GAAD,CAA3B,CAArC,EAAwE;AACxE,MAAIS,IAAI,GAAG,EAAX;AACA,MAAIC,EAAE,GAAG,IAAT;AACA,MAAIC,EAAE,GAAG,KAAT;AACA,MAAIC,EAAE,GAAGC,SAAT;;AAEA,MAAI;AACF,SAAK,IAAIC,EAAE,GAAGd,GAAG,CAACO,MAAM,CAACC,QAAR,CAAH,EAAT,EAAiCO,EAAtC,EAA0C,EAAEL,EAAE,GAAG,CAACK,EAAE,GAAGD,EAAE,CAACE,IAAH,EAAN,EAAiBC,IAAxB,CAA1C,EAAyEP,EAAE,GAAG,IAA9E,EAAoF;AAClFD,MAAAA,IAAI,CAACvD,IAAL,CAAU6D,EAAE,CAACvE,KAAb;;AAEA,UAAIf,CAAC,IAAIgF,IAAI,CAAC/E,MAAL,KAAgBD,CAAzB,EAA4B;AAC7B;AACF,GAND,CAME,OAAOyF,GAAP,EAAY;AACZP,IAAAA,EAAE,GAAG,IAAL;AACAC,IAAAA,EAAE,GAAGM,GAAL;AACD,GATD,SASU;AACR,QAAI;AACF,UAAI,CAACR,EAAD,IAAOI,EAAE,CAAC,QAAD,CAAF,IAAgB,IAA3B,EAAiCA,EAAE,CAAC,QAAD,CAAF;AAClC,KAFD,SAEU;AACR,UAAIH,EAAJ,EAAQ,MAAMC,EAAN;AACT;AACF;;AAED,SAAOH,IAAP;AACD;;AAED,SAASN,2BAAT,CAAqClC,CAArC,EAAwCkD,MAAxC,EAAgD;AAC9C,MAAI,CAAClD,CAAL,EAAQ;AACR,MAAI,OAAOA,CAAP,KAAa,QAAjB,EAA2B,OAAOmD,iBAAiB,CAACnD,CAAD,EAAIkD,MAAJ,CAAxB;AAC3B,MAAIE,CAAC,GAAGtF,MAAM,CAACM,SAAP,CAAiBuC,QAAjB,CAA0BC,IAA1B,CAA+BZ,CAA/B,EAAkC4B,KAAlC,CAAwC,CAAxC,EAA2C,CAAC,CAA5C,CAAR;AACA,MAAIwB,CAAC,KAAK,QAAN,IAAkBpD,CAAC,CAACH,WAAxB,EAAqCuD,CAAC,GAAGpD,CAAC,CAACH,WAAF,CAAcwD,IAAlB;AACrC,MAAID,CAAC,KAAK,KAAN,IAAeA,CAAC,KAAK,KAAzB,EAAgC,OAAOhB,KAAK,CAACkB,IAAN,CAAWtD,CAAX,CAAP;AAChC,MAAIoD,CAAC,KAAK,WAAN,IAAqB,2CAA2CG,IAA3C,CAAgDH,CAAhD,CAAzB,EAA6E,OAAOD,iBAAiB,CAACnD,CAAD,EAAIkD,MAAJ,CAAxB;AAC9E;;AAED,SAASC,iBAAT,CAA2BpB,GAA3B,EAAgCyB,GAAhC,EAAqC;AACnC,MAAIA,GAAG,IAAI,IAAP,IAAeA,GAAG,GAAGzB,GAAG,CAACtE,MAA7B,EAAqC+F,GAAG,GAAGzB,GAAG,CAACtE,MAAV;;AAErC,OAAK,IAAID,CAAC,GAAG,CAAR,EAAWiG,IAAI,GAAG,IAAIrB,KAAJ,CAAUoB,GAAV,CAAvB,EAAuChG,CAAC,GAAGgG,GAA3C,EAAgDhG,CAAC,EAAjD,EAAqDiG,IAAI,CAACjG,CAAD,CAAJ,GAAUuE,GAAG,CAACvE,CAAD,CAAb;;AAErD,SAAOiG,IAAP;AACD;;AAED,SAAStB,gBAAT,GAA4B;AAC1B,QAAM,IAAI/E,SAAJ,CAAc,2IAAd,CAAN;AACD;;AAED,SAASsG,0BAAT,CAAoC1D,CAApC,EAAuC2D,cAAvC,EAAuD;AACrD,MAAIC,EAAJ;;AAEA,MAAI,OAAOtB,MAAP,KAAkB,WAAlB,IAAiCtC,CAAC,CAACsC,MAAM,CAACC,QAAR,CAAD,IAAsB,IAA3D,EAAiE;AAC/D,QAAIH,KAAK,CAACC,OAAN,CAAcrC,CAAd,MAAqB4D,EAAE,GAAG1B,2BAA2B,CAAClC,CAAD,CAArD,KAA6D2D,cAAc,IAAI3D,CAAlB,IAAuB,OAAOA,CAAC,CAACvC,MAAT,KAAoB,QAA5G,EAAsH;AACpH,UAAImG,EAAJ,EAAQ5D,CAAC,GAAG4D,EAAJ;AACR,UAAIpG,CAAC,GAAG,CAAR;;AAEA,UAAIqG,CAAC,GAAG,YAAY,CAAE,CAAtB;;AAEA,aAAO;AACLC,QAAAA,CAAC,EAAED,CADE;AAELT,QAAAA,CAAC,EAAE,YAAY;AACb,cAAI5F,CAAC,IAAIwC,CAAC,CAACvC,MAAX,EAAmB,OAAO;AACxBuF,YAAAA,IAAI,EAAE;AADkB,WAAP;AAGnB,iBAAO;AACLA,YAAAA,IAAI,EAAE,KADD;AAELzE,YAAAA,KAAK,EAAEyB,CAAC,CAACxC,CAAC,EAAF;AAFH,WAAP;AAID,SAVI;AAWLqD,QAAAA,CAAC,EAAE,UAAUA,CAAV,EAAa;AACd,gBAAMA,CAAN;AACD,SAbI;AAcLkD,QAAAA,CAAC,EAAEF;AAdE,OAAP;AAgBD;;AAED,UAAM,IAAIzG,SAAJ,CAAc,uIAAd,CAAN;AACD;;AAED,MAAI4G,gBAAgB,GAAG,IAAvB;AAAA,MACIC,MAAM,GAAG,KADb;AAAA,MAEIhB,GAFJ;AAGA,SAAO;AACLa,IAAAA,CAAC,EAAE,YAAY;AACbF,MAAAA,EAAE,GAAG5D,CAAC,CAACsC,MAAM,CAACC,QAAR,CAAD,EAAL;AACD,KAHI;AAILa,IAAAA,CAAC,EAAE,YAAY;AACb,UAAIc,IAAI,GAAGN,EAAE,CAACb,IAAH,EAAX;AACAiB,MAAAA,gBAAgB,GAAGE,IAAI,CAAClB,IAAxB;AACA,aAAOkB,IAAP;AACD,KARI;AASLrD,IAAAA,CAAC,EAAE,UAAUA,CAAV,EAAa;AACdoD,MAAAA,MAAM,GAAG,IAAT;AACAhB,MAAAA,GAAG,GAAGpC,CAAN;AACD,KAZI;AAaLkD,IAAAA,CAAC,EAAE,YAAY;AACb,UAAI;AACF,YAAI,CAACC,gBAAD,IAAqBJ,EAAE,CAACO,MAAH,IAAa,IAAtC,EAA4CP,EAAE,CAACO,MAAH;AAC7C,OAFD,SAEU;AACR,YAAIF,MAAJ,EAAY,MAAMhB,GAAN;AACb;AACF;AAnBI,GAAP;AAqBD;;AAED,IAAImB,eAAJ;;AACA,IAAIC,WAAW,GAAGvH,iBAAiB,CAACsH,eAAe,KAAKA,eAAe,GAAG3C,sBAAsB,CAAC,CAAC,iEAAD,CAAD,CAA7C,CAAhB,CAAnC;;AAEA,IAAI6C,iBAAJ;;AACA,IAAIC,SAAS,GAAG1H,MAAM,CAAC2H,MAAP,CAAcF,iBAAiB,KAAKA,iBAAiB,GAAG7C,sBAAsB,CAAC,CAAC,oGAAD,EAAuG,KAAvG,CAAD,CAA/C,CAA/B,EAAgM,UAAUlE,KAAV,EAAiB;AAC/N,SAAOA,KAAK,CAACkH,QAAN,GAAiB,aAAjB,GAAiC,SAAxC;AACD,CAFe,CAAhB;;AAIA,IAAIC,iBAAJ,EAAuBC,gBAAvB;;AACA,IAAIC,KAAK,GAAG/H,MAAM,CAACgI,IAAP,CAAYH,iBAAiB,KAAKA,iBAAiB,GAAGjD,sBAAsB,CAAC,CAAC,2CAAD,CAAD,CAA/C,CAA7B,CAAZ;;AAEA,SAASqD,KAAT,CAAeC,IAAf,EAAqB;AACnB,MAAIC,SAAS,GAAGD,IAAI,CAACC,SAArB;AAAA,MACIC,OAAO,GAAGF,IAAI,CAACE,OADnB;AAAA,MAEIC,QAAQ,GAAGH,IAAI,CAACG,QAFpB;AAAA,MAGIC,KAAK,GAAGJ,IAAI,CAACI,KAHjB;AAAA,MAIIV,QAAQ,GAAGM,IAAI,CAACN,QAJpB;AAKA,SAAO,aAAavI,KAAK,CAACkJ,aAAN,CAAoBb,SAApB,EAA+B;AACjDS,IAAAA,SAAS,EAAEA,SADsC;AAEjDC,IAAAA,OAAO,EAAEA,OAFwC;AAGjD,sBAAkB,GAAGI,MAAH,CAAUH,QAAQ,GAAG,OAAH,GAAa,MAA/B,EAAuC,QAAvC,CAH+B;AAIjDT,IAAAA,QAAQ,EAAEA;AAJuC,GAA/B,EAKjBU,KAAK,GAAG,aAAajJ,KAAK,CAACkJ,aAAN,CAAoBR,KAApB,EAA2B,IAA3B,EAAiCO,KAAjC,CAAhB,GAA0D,aAAajJ,KAAK,CAACkJ,aAAN,CAAoB,KAApB,EAA2B;AACxGE,IAAAA,OAAO,EAAE;AAD+F,GAA3B,EAE5E,aAAapJ,KAAK,CAACkJ,aAAN,CAAoB,MAApB,EAA4B;AAC1CG,IAAAA,CAAC,EAAEL,QAAQ,GAAG,kCAAH,GAAwC,mCADT;AAE1CM,IAAAA,IAAI,EAAE,MAFoC;AAG1CC,IAAAA,MAAM,EAAE,cAHkC;AAI1CC,IAAAA,WAAW,EAAE,GAJ6B;AAK1CC,IAAAA,aAAa,EAAE,OAL2B;AAM1CC,IAAAA,gBAAgB,EAAE;AANwB,GAA5B,CAF+D,CAL3D,CAApB;AAeD;;AAEDd,KAAK,CAACe,SAAN,GAAkB;AAChBb,EAAAA,SAAS,EAAEjI,SAAS,CAAC+I,MAAV,CAAiBC,UADZ;AAEhBd,EAAAA,OAAO,EAAElI,SAAS,CAACiJ,IAAV,CAAeD,UAFR;AAGhBb,EAAAA,QAAQ,EAAEnI,SAAS,CAACkJ,IAHJ;AAIhBd,EAAAA,KAAK,EAAEpI,SAAS,CAACmJ,IAJD;AAKhBzB,EAAAA,QAAQ,EAAE1H,SAAS,CAACkJ;AALJ,CAAlB;AAOA,IAAIE,OAAO,GAAGtJ,MAAM,CAACiI,KAAD,CAAN,CAAcH,gBAAgB,KAAKA,gBAAgB,GAAGlD,sBAAsB,CAAC,CAAC,aAAD,EAAgB,SAAhB,EAA2B,OAA3B,EAAoC,+BAApC,EAAqE,UAArE,CAAD,CAA9C,CAA9B,EAAiK,UAAUlE,KAAV,EAAiB;AAC9L,SAAOA,KAAK,CAACkH,QAAN,GAAiB,SAAjB,GAA6B,SAApC;AACD,CAFa,EAEX,UAAUlH,KAAV,EAAiB;AAClB,SAAOA,KAAK,CAAC2H,QAAN,GAAiB,oBAAjB,GAAwC,qBAA/C;AACD,CAJa,EAIX,UAAU3H,KAAV,EAAiB;AAClB,SAAO,CAACA,KAAK,CAAC4H,KAAP,IAAgB,gEAAvB;AACD,CANa,EAMX,UAAU5H,KAAV,EAAiB;AAClB,SAAOA,KAAK,CAACkH,QAAN,GAAiB,SAAjB,GAA6B,MAApC;AACD,CARa,CAAd;;AAUA,IAAI2B,iBAAJ;;AAEA,SAASC,KAAT,CAAetB,IAAf,EAAqB;AACnB,MAAIC,SAAS,GAAGD,IAAI,CAACC,SAArB;AAAA,MACIC,OAAO,GAAGF,IAAI,CAACE,OADnB;AAEA,SAAO,aAAa/I,KAAK,CAACkJ,aAAN,CAAoBb,SAApB,EAA+B;AACjDS,IAAAA,SAAS,EAAEA,SADsC;AAEjDC,IAAAA,OAAO,EAAEA;AAFwC,GAA/B,EAGjB,aAAa/I,KAAK,CAACkJ,aAAN,CAAoB,KAApB,EAA2B;AACzCE,IAAAA,OAAO,EAAE;AADgC,GAA3B,EAEb,aAAapJ,KAAK,CAACkJ,aAAN,CAAoB,MAApB,EAA4B;AAC1CI,IAAAA,IAAI,EAAE,cADoC;AAE1CD,IAAAA,CAAC,EAAE;AAFuC,GAA5B,CAFA,CAHI,CAApB;AASD;;AAEDc,KAAK,CAACR,SAAN,GAAkB;AAChBb,EAAAA,SAAS,EAAEjI,SAAS,CAAC+I,MAAV,CAAiBC,UADZ;AAEhBd,EAAAA,OAAO,EAAElI,SAAS,CAACiJ,IAAV,CAAeD;AAFR,CAAlB;AAIA,IAAIO,WAAW,GAAGzJ,MAAM,CAACwJ,KAAD,CAAN,CAAcD,iBAAiB,KAAKA,iBAAiB,GAAG3E,sBAAsB,CAAC,CAAC,+IAAD,CAAD,CAA/C,CAA/B,CAAlB;;AAEA,SAAS8E,WAAT,CAAqBL,IAArB,EAA2B;AACzB,MAAIM,qBAAqB,GAAGN,IAAI,CAACO,qBAAL,EAA5B;AAAA,MACIC,GAAG,GAAGF,qBAAqB,CAACE,GADhC;AAAA,MAEIC,KAAK,GAAGH,qBAAqB,CAACG,KAFlC;AAAA,MAGIC,MAAM,GAAGJ,qBAAqB,CAACI,MAHnC;AAAA,MAIIC,IAAI,GAAGL,qBAAqB,CAACK,IAJjC;AAAA,MAKIC,KAAK,GAAGN,qBAAqB,CAACM,KALlC;AAAA,MAMIC,MAAM,GAAGP,qBAAqB,CAACO,MANnC;;AAQA,SAAO;AACLL,IAAAA,GAAG,EAAEA,GADA;AAELC,IAAAA,KAAK,EAAEA,KAFF;AAGLC,IAAAA,MAAM,EAAEA,MAHH;AAILC,IAAAA,IAAI,EAAEA,IAJD;AAKLC,IAAAA,KAAK,EAAEA,KALF;AAMLC,IAAAA,MAAM,EAAEA;AANH,GAAP;AAQD;;AACD,SAASC,kBAAT,CAA4Bd,IAA5B,EAAkChC,IAAlC,EAAwC;AACtC,MAAI,CAACA,IAAI,CAAC+C,oBAAV,EAAgC;AAC9B,WAAOV,WAAW,CAACL,IAAD,CAAlB;AACD;;AAED,MAAIgB,KAAK,GAAGX,WAAW,CAACL,IAAD,CAAvB;;AAEA,MAAIiB,SAAS,GAAGzD,0BAA0B,CAACQ,IAAI,CAAC+C,oBAAN,CAA1C;AAAA,MACIG,KADJ;;AAGA,MAAI;AACF,SAAKD,SAAS,CAACrD,CAAV,EAAL,EAAoB,CAAC,CAACsD,KAAK,GAAGD,SAAS,CAAC/D,CAAV,EAAT,EAAwBJ,IAA7C,GAAoD;AAClD,UAAIqE,QAAQ,GAAGD,KAAK,CAAC7I,KAArB;AACA,UAAI+I,OAAO,GAAGC,QAAQ,CAACC,aAAT,CAAuBH,QAAvB,CAAd;;AAEA,UAAI,CAACC,OAAD,IAAYA,OAAO,CAACG,KAAR,CAAcC,OAAd,KAA0B,MAAtC,IAAgDJ,OAAO,CAACG,KAAR,CAAcE,UAAd,KAA6B,QAAjF,EAA2F;AACzF;AACD;;AAED,UAAIC,IAAI,GAAGrB,WAAW,CAACe,OAAD,CAAtB;;AAEA,UAAIM,IAAI,CAAClB,GAAL,GAAWQ,KAAK,CAACR,GAArB,EAA0B;AACxBQ,QAAAA,KAAK,CAACR,GAAN,GAAYkB,IAAI,CAAClB,GAAjB;AACD;;AAED,UAAIkB,IAAI,CAACjB,KAAL,GAAaO,KAAK,CAACP,KAAvB,EAA8B;AAC5BO,QAAAA,KAAK,CAACP,KAAN,GAAciB,IAAI,CAACjB,KAAnB;AACD;;AAED,UAAIiB,IAAI,CAAChB,MAAL,GAAcM,KAAK,CAACN,MAAxB,EAAgC;AAC9BM,QAAAA,KAAK,CAACN,MAAN,GAAegB,IAAI,CAAChB,MAApB;AACD;;AAED,UAAIgB,IAAI,CAACf,IAAL,GAAYK,KAAK,CAACL,IAAtB,EAA4B;AAC1BK,QAAAA,KAAK,CAACL,IAAN,GAAae,IAAI,CAACf,IAAlB;AACD;AACF;AACF,GA3BD,CA2BE,OAAO5D,GAAP,EAAY;AACZkE,IAAAA,SAAS,CAACtG,CAAV,CAAYoC,GAAZ;AACD,GA7BD,SA6BU;AACRkE,IAAAA,SAAS,CAACpD,CAAV;AACD;;AAEDmD,EAAAA,KAAK,CAACJ,KAAN,GAAcI,KAAK,CAACP,KAAN,GAAcO,KAAK,CAACL,IAAlC;AACAK,EAAAA,KAAK,CAACH,MAAN,GAAeG,KAAK,CAACN,MAAN,GAAeM,KAAK,CAACR,GAApC;AACA,SAAOQ,KAAP;AACD;;AACD,SAASW,MAAT,CAAgB9C,IAAhB,EAAsB;AACpB,MAAI2B,GAAG,GAAG3B,IAAI,CAAC2B,GAAf;AAAA,MACIC,KAAK,GAAG5B,IAAI,CAAC4B,KADjB;AAAA,MAEIC,MAAM,GAAG7B,IAAI,CAAC6B,MAFlB;AAAA,MAGIC,IAAI,GAAG9B,IAAI,CAAC8B,IAHhB;AAAA,MAIIiB,CAAC,GAAG/C,IAAI,CAAC+C,CAJb;AAAA,MAKIC,CAAC,GAAGhD,IAAI,CAACgD,CALb;AAAA,MAMIC,cAAc,GAAGjD,IAAI,CAACkD,SAN1B;AAAA,MAOIA,SAAS,GAAGD,cAAc,KAAK,KAAK,CAAxB,GAA4B,CAA5B,GAAgCA,cAPhD;AAQA,SAAOtB,GAAG,IAAI,IAAIuB,SAAX,IAAwBpB,IAAI,IAAI,IAAIoB,SAApC,IAAiDrB,MAAM,IAAImB,CAAC,GAAGE,SAA/D,IAA4EtB,KAAK,IAAImB,CAAC,GAAGG,SAAhG;AACD;;AACD,SAASC,MAAT,CAAgBhC,IAAhB,EAAsB;AACpB,SAAOA,IAAI,KAAKqB,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAAT,IAA2CtB,IAAI,KAAKqB,QAAQ,CAACC,aAAT,CAAuB,MAAvB,CAA3D;AACD;;AACD,IAAIW,OAAO,GAAG,SAASA,OAAT,CAAiBC,GAAjB,EAAsB;AAClC,SAAO,eAAe7E,IAAf,CAAoB6E,GAApB,CAAP;AACD,CAFD;;AAGA,IAAIC,UAAU,GAAG,SAASA,UAAT,CAAoBC,GAApB,EAAyBC,WAAzB,EAAsC;AACrD,SAAOD,GAAG,GAAGC,WAAb;AACD,CAFD;;AAGA,IAAIC,UAAU,GAAG,SAASA,UAAT,CAAoBF,GAApB,EAAyBG,YAAzB,EAAuC;AACtD,SAAOH,GAAG,GAAGG,YAAb;AACD,CAFD;;AAGA,IAAIC,IAAI,GAAG,SAASA,IAAT,CAAcC,GAAd,EAAmB;AAC5B,SAAOA,GAAG,GAAG,CAAN,GAAU,CAAV,GAAcA,GAArB;AACD,CAFD;;AAGA,SAASC,cAAT,CAAwBC,SAAxB,EAAmC;AACjC,SAAO/K,MAAM,CAACa,IAAP,CAAYkK,SAAZ,EAAuBC,GAAvB,CAA2B,UAAU1I,CAAV,EAAa;AAC7C,WAAO;AACL2I,MAAAA,QAAQ,EAAE3I,CADL;AAEL7B,MAAAA,KAAK,EAAEsK,SAAS,CAACzI,CAAD;AAFX,KAAP;AAID,GALM,EAKJ4I,IALI,CAKC,UAAUC,CAAV,EAAaC,CAAb,EAAgB;AACtB,WAAOA,CAAC,CAAC3K,KAAF,GAAU0K,CAAC,CAAC1K,KAAnB;AACD,GAPM,EAOJuK,GAPI,CAOA,UAAU1I,CAAV,EAAa;AAClB,WAAOA,CAAC,CAAC2I,QAAT;AACD,GATM,CAAP;AAUD;;AAED,IAAII,iBAAJ;;AACA,IAAIC,KAAK,GAAGvM,MAAM,CAACwM,GAAP,CAAWF,iBAAiB,KAAKA,iBAAiB,GAAG1H,sBAAsB,CAAC,CAAC,yBAAD,EAA4B,OAA5B,EAAqC,kHAArC,EAAyJ,KAAzJ,CAAD,CAA/C,CAA5B,EAA+O,UAAUlE,KAAV,EAAiB;AAC1Q,SAAOA,KAAK,CAAC+L,WAAb;AACD,CAFW,EAET,UAAU/L,KAAV,EAAiB;AAClB,SAAOA,KAAK,CAACgM,aAAN,GAAsB,wFAAwFlE,MAAxF,CAA+F9H,KAAK,CAACiM,OAArG,EAA8G,6HAA9G,CAAtB,GAAqQ,EAA5Q;AACD,CAJW,EAIT,UAAUjM,KAAV,EAAiB;AAClB,MAAIkM,SAAS,GAAGlM,KAAK,CAACkM,SAAtB;AAAA,MACIC,WAAW,GAAGnM,KAAK,CAACmM,WADxB;AAAA,MAEIC,YAAY,GAAGpM,KAAK,CAACoM,YAFzB;AAAA,MAGIC,UAAU,GAAGrM,KAAK,CAACqM,UAHvB;AAAA,MAIIrB,WAAW,GAAGhL,KAAK,CAACgL,WAJxB;AAAA,MAKIE,YAAY,GAAGlL,KAAK,CAACkL,YALzB;AAAA,MAMIoB,WAAW,GAAGtM,KAAK,CAACsM,WANxB;AAAA,MAOIC,YAAY,GAAGvM,KAAK,CAACuM,YAPzB;AAAA,MAQIC,cAAc,GAAGxM,KAAK,CAACwM,cAR3B;AAAA,MASIC,OAAO,GAAGzM,KAAK,CAACyM,OATpB;AAUA,MAAIC,SAAS,GAAG;AACdpD,IAAAA,IAAI,EAAE+C,UADQ;AAEdjD,IAAAA,KAAK,EAAE4B,WAAW,GAAGmB,WAFP;AAGdhD,IAAAA,GAAG,EAAE+C,SAHS;AAId7C,IAAAA,MAAM,EAAE6B,YAAY,GAAGkB;AAJT,GAAhB;;AAOA,MAAIO,eAAe,GAAG,SAASA,eAAT,CAAyBnB,QAAzB,EAAmC;AACvD,WAAOkB,SAAS,CAAClB,QAAD,CAAT,IAAuBZ,OAAO,CAACY,QAAD,CAAP,GAAoBc,WAAW,GAAGG,OAAO,GAAG,CAA5C,GAAgDF,YAAY,GAAGE,OAAO,GAAG,CAAhG,CAAP;AACD,GAFD;;AAIA,MAAIG,YAAY,GAAG,SAASA,YAAT,CAAsBC,MAAtB,EAA8B;AAC/C,QAAIC,cAAc,GAAGzB,cAAc,CAACqB,SAAD,CAAnC;;AAEA,SAAK,IAAIK,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGD,cAAc,CAAC5M,MAAnC,EAA2C6M,CAAC,EAA5C,EAAgD;AAC9C,UAAIJ,eAAe,CAACG,cAAc,CAACC,CAAD,CAAf,CAAnB,EAAwC;AACtC,eAAOF,MAAM,CAACC,cAAc,CAACC,CAAD,CAAf,CAAb;AACD;AACF;;AAED,WAAOF,MAAM,CAACG,MAAd;AACD,GAVD;;AAYA,MAAInC,GAAG,GAAG,SAASA,GAAT,CAAa2B,cAAb,EAA6B;AACrC,QAAI3H,KAAK,CAACC,OAAN,CAAc0H,cAAd,CAAJ,EAAmC;AACjC,UAAIS,MAAM,GAAGnC,UAAU,CAAC0B,cAAc,CAAC,CAAD,CAAf,EAAoBxB,WAApB,CAAvB;AACA,UAAIkC,MAAM,GAAGjC,UAAU,CAACuB,cAAc,CAAC,CAAD,CAAf,EAAoBtB,YAApB,CAAvB;;AAEA,UAAIiC,IAAI,GAAG,SAASA,IAAT,CAAcC,IAAd,EAAoBC,GAApB,EAAyB;AAClCC,QAAAA,OAAO,CAACH,IAAR,CAAa,GAAGrF,MAAH,CAAUsF,IAAV,EAAgB,GAAhB,EAAqBtF,MAArB,CAA4BuF,GAA5B,EAAiC,4CAAjC,CAAb;AACD,OAFD;;AAIA,UAAIJ,MAAJ,EAAYE,IAAI,CAAC,GAAD,EAAMX,cAAc,CAAC,CAAD,CAApB,CAAJ;AACZ,UAAIU,MAAJ,EAAYC,IAAI,CAAC,GAAD,EAAMX,cAAc,CAAC,CAAD,CAApB,CAAJ;AACZ,aAAO,CAACS,MAAM,GAAGjC,WAAW,GAAG,CAAd,GAAkBsB,WAAW,GAAG,CAAnC,GAAuCE,cAAc,CAAC,CAAD,CAA5D,EAAiEU,MAAM,GAAGhC,YAAY,GAAG,CAAf,GAAmBqB,YAAY,GAAG,CAArC,GAAyCC,cAAc,CAAC,CAAD,CAA9H,CAAP;AACD;;AAED,QAAIe,EAAE,GAAGzC,UAAU,CAACuB,UAAU,GAAGC,WAAd,EAA2BtB,WAA3B,CAAV,GAAoDF,UAAU,CAACqB,WAAW,GAAGM,OAAf,EAAwBzB,WAAxB,CAAV,GAAiDmB,WAAW,GAAGG,WAA/D,GAA6EH,WAAW,GAAGG,WAAd,GAA4BG,OAA7J,GAAuKJ,UAAU,GAAGI,OAA7L;AACA,QAAIe,CAAC,GAAGD,EAAE,GAAGd,OAAL,GAAec,EAAf,GAAoBd,OAA5B;AACA,QAAIgB,EAAE,GAAGxC,UAAU,CAACiB,SAAS,GAAGK,YAAb,EAA2BrB,YAA3B,CAAV,GAAqDD,UAAU,CAACmB,YAAY,GAAGK,OAAhB,EAAyBvB,YAAzB,CAAV,GAAmDkB,YAAY,GAAGG,YAAlE,GAAiFH,YAAY,GAAGG,YAAf,GAA8BE,OAApK,GAA8KP,SAAS,GAAGO,OAAnM;AACA,QAAIiB,CAAC,GAAGD,EAAE,GAAGhB,OAAL,GAAegB,EAAf,GAAoBhB,OAA5B;AACA,QAAII,MAAM,GAAG;AACX1D,MAAAA,GAAG,EAAE,CAACqE,CAAD,EAAItB,SAAS,GAAGK,YAAZ,GAA2BE,OAAO,GAAG,CAAzC,CADM;AAEXrD,MAAAA,KAAK,EAAE,CAAC+C,WAAW,GAAGM,OAAO,GAAG,CAAzB,EAA4BiB,CAA5B,CAFI;AAGXrE,MAAAA,MAAM,EAAE,CAACmE,CAAD,EAAIpB,YAAY,GAAGK,OAAO,GAAG,CAA7B,CAHG;AAIXnD,MAAAA,IAAI,EAAE,CAAC+C,UAAU,GAAGC,WAAb,GAA2BG,OAAO,GAAG,CAAtC,EAAyCiB,CAAzC,CAJK;AAKXV,MAAAA,MAAM,EAAE,CAAChC,WAAW,GAAG,CAAd,GAAkBsB,WAAW,GAAG,CAAjC,EAAoCpB,YAAY,GAAG,CAAf,GAAmBqB,YAAY,GAAG,CAAtE;AALG,KAAb;;AAQA,QAAIC,cAAc,KAAK,QAAnB,IAA+BG,eAAe,CAACH,cAAD,CAAlD,EAAoE;AAClE,aAAOK,MAAM,CAACL,cAAD,CAAb;AACD;;AAED,WAAOI,YAAY,CAACC,MAAD,CAAnB;AACD,GA/BD;;AAiCA,MAAIhK,CAAC,GAAGgI,GAAG,CAAC2B,cAAD,CAAX;AACA,SAAO,aAAa1E,MAAb,CAAoB6F,IAAI,CAACC,KAAL,CAAW/K,CAAC,CAAC,CAAD,CAAZ,CAApB,EAAsC,MAAtC,EAA8CiF,MAA9C,CAAqD6F,IAAI,CAACC,KAAL,CAAW/K,CAAC,CAAC,CAAD,CAAZ,CAArD,EAAuE,KAAvE,CAAP;AACD,CAzEW,CAAZ;;AA2EA,IAAIgL,iBAAJ;;AACA,IAAIC,KAAK,GAAGxO,MAAM,CAACgI,IAAP,CAAYuG,iBAAiB,KAAKA,iBAAiB,GAAG3J,sBAAsB,CAAC,CAAC,2GAAD,EAA8G,kRAA9G,CAAD,CAA/C,CAA7B,EAAkd,UAAUlE,KAAV,EAAiB;AAC7e,SAAOA,KAAK,CAAC+L,WAAb;AACD,CAFW,CAAZ;;AAIA,IAAIgC,iBAAJ;;AACA,IAAIC,QAAQ,GAAG1O,MAAM,CAACwM,GAAP,CAAWiC,iBAAiB,KAAKA,iBAAiB,GAAG7J,sBAAsB,CAAC,CAAC,mEAAD,CAAD,CAA/C,CAA5B,CAAf;;AAEA,IAAI+J,iBAAJ;;AACA,IAAIC,UAAU,GAAG5O,MAAM,CAAC6O,GAAP,CAAWF,iBAAiB,KAAKA,iBAAiB,GAAG/J,sBAAsB,CAAC,CAAC,qHAAD,CAAD,CAA/C,CAA5B,CAAjB;;AAEA,IAAIkK,iBAAJ;;AACA,IAAIC,GAAG,GAAG/O,MAAM,CAAC2H,MAAP,CAAcmH,iBAAiB,KAAKA,iBAAiB,GAAGlK,sBAAsB,CAAC,CAAC,wEAAD,EAA2E,wIAA3E,EAAqN,wBAArN,EAA+O,iBAA/O,EAAkQ,mBAAlQ,EAAuR,gBAAvR,EAAyS,mBAAzS,EAA8T,uNAA9T,EAAuhB,0JAAvhB,CAAD,CAA/C,CAA/B,EAAqwB,UAAUlE,KAAV,EAAiB;AAC9xB,SAAOA,KAAK,CAACsO,OAAN,KAAkBtO,KAAK,CAACuO,KAAxB,GAAgC,GAAhC,GAAsC,mBAA7C;AACD,CAFS,EAEP,UAAUvO,KAAV,EAAiB;AAClB,SAAOA,KAAK,CAACkH,QAAN,GAAiB,aAAjB,GAAiC,SAAxC;AACD,CAJS,EAIP,UAAUlH,KAAV,EAAiB;AAClB,SAAOA,KAAK,CAACsO,OAAN,KAAkBtO,KAAK,CAACuO,KAAxB,GAAgC,IAAhC,GAAuC,CAA9C;AACD,CANS,EAMP,UAAUvO,KAAV,EAAiB;AAClB,SAAOA,KAAK,CAACsO,OAAN,KAAkBtO,KAAK,CAACuO,KAAxB,GAAgC,wBAAhC,GAA2D,SAAlE;AACD,CARS,EAQP,UAAUvO,KAAV,EAAiB;AAClB,SAAOA,KAAK,CAACsO,OAAN,KAAkBtO,KAAK,CAACuO,KAAxB,GAAgC,wBAAhC,GAA2D,MAAlE;AACD,CAVS,EAUP,UAAUvO,KAAV,EAAiB;AAClB,SAAOA,KAAK,CAACsO,OAAN,KAAkBtO,KAAK,CAACuO,KAAxB,GAAgCvO,KAAK,CAAC+L,WAAtC,GAAoD,SAA3D;AACD,CAZS,EAYP,UAAU/L,KAAV,EAAiB;AAClB,SAAOA,KAAK,CAACsO,OAAN,KAAkBtO,KAAK,CAACuO,KAAxB,GAAgCvO,KAAK,CAAC+L,WAAtC,GAAoD,MAA3D;AACD,CAdS,EAcP,UAAU/L,KAAV,EAAiB;AAClB,SAAOA,KAAK,CAACwO,UAAN,GAAmB,OAAnB,GAA6B,MAApC;AACD,CAhBS,CAAV;;AAkBA,IAAIC,iBAAJ;;AACA,IAAIC,cAAc,GAAGpP,MAAM,CAACwM,GAAP,CAAW2C,iBAAiB,KAAKA,iBAAiB,GAAGvK,sBAAsB,CAAC,CAAC,eAAD,EAAkB,cAAlB,EAAkC,6HAAlC,CAAD,CAA/C,CAA5B,EAAgP,UAAUlE,KAAV,EAAiB;AACpR,SAAO,CAACA,KAAK,CAAC2O,aAAP,IAAwB,GAA/B;AACD,CAFoB,EAElB,UAAU3O,KAAV,EAAiB;AAClB,SAAO,CAACA,KAAK,CAAC2O,aAAP,IAAwB,MAA/B;AACD,CAJoB,CAArB;;AAKA,SAASC,OAAT,CAAiBpH,IAAjB,EAAuB;AACrB,MAAIwD,WAAW,GAAGxD,IAAI,CAACwD,WAAvB;AAAA,MACIE,YAAY,GAAG1D,IAAI,CAAC0D,YADxB;AAAA,MAEI2D,WAAW,GAAGrH,IAAI,CAACqH,WAFvB;AAAA,MAGIC,YAAY,GAAGtH,IAAI,CAACsH,YAHxB;AAAA,MAII5C,SAAS,GAAG1E,IAAI,CAAC0E,SAJrB;AAAA,MAKIG,UAAU,GAAG7E,IAAI,CAAC6E,UALtB;AAAA,MAMII,OAAO,GAAGjF,IAAI,CAACiF,OANnB;AAAA,MAOIR,OAAO,GAAGzE,IAAI,CAACyE,OAPnB;AAAA,MAQI8C,WAAW,GAAGvH,IAAI,CAACuH,WARvB;AAAA,MASIC,kBAAkB,GAAGxH,IAAI,CAACwH,kBAT9B;AAAA,MAUIC,2BAA2B,GAAGzH,IAAI,CAACyH,2BAVvC;AAAA,MAWIxH,SAAS,GAAGD,IAAI,CAACC,SAXrB;AAAA,MAYIC,OAAO,GAAGF,IAAI,CAACE,OAZnB;AAAA,MAaIwH,iBAAiB,GAAG1H,IAAI,CAAC0H,iBAb7B;AAcA,MAAI3F,KAAK,GAAG4B,IAAI,CAAC0D,WAAW,GAAGpC,OAAO,GAAG,CAAzB,CAAhB;AACA,MAAIjD,MAAM,GAAG2B,IAAI,CAAC2D,YAAY,GAAGrC,OAAO,GAAG,CAA1B,CAAjB;AACA,MAAItD,GAAG,GAAGgC,IAAI,CAACe,SAAS,GAAGO,OAAb,CAAd;AACA,MAAInD,IAAI,GAAG6B,IAAI,CAACkB,UAAU,GAAGI,OAAd,CAAf;AACA,MAAI0C,aAAa,GAAGJ,WAAW,GAAGpB,IAAI,CAACyB,GAAL,CAAS7F,KAAK,GAAG,CAAjB,EAAoBC,MAAM,GAAG,CAA7B,CAAH,GAAqCyC,OAApE;AACA,SAAO,aAAatN,KAAK,CAACkJ,aAAN,CAAoB6G,cAApB,EAAoC;AACtDhH,IAAAA,OAAO,EAAEA,OAD6C;AAEtDiH,IAAAA,aAAa,EAAElH;AAFuC,GAApC,EAGjB,aAAa9I,KAAK,CAACkJ,aAAN,CAAoB,KAApB,EAA2B;AACzC0B,IAAAA,KAAK,EAAEyB,WADkC;AAEzCxB,IAAAA,MAAM,EAAE0B,YAFiC;AAGzCmE,IAAAA,KAAK,EAAE,4BAHkC;AAIzC5H,IAAAA,SAAS,EAAEA;AAJ8B,GAA3B,EAKb,aAAa9I,KAAK,CAACkJ,aAAN,CAAoB,MAApB,EAA4B,IAA5B,EAAkC,aAAalJ,KAAK,CAACkJ,aAAN,CAAoB,MAApB,EAA4B;AACzFyH,IAAAA,EAAE,EAAE;AADqF,GAA5B,EAE5D,aAAa3Q,KAAK,CAACkJ,aAAN,CAAoB,MAApB,EAA4B;AAC1C2F,IAAAA,CAAC,EAAE,CADuC;AAE1CE,IAAAA,CAAC,EAAE,CAFuC;AAG1CnE,IAAAA,KAAK,EAAEyB,WAHmC;AAI1CxB,IAAAA,MAAM,EAAE0B,YAJkC;AAK1CjD,IAAAA,IAAI,EAAE;AALoC,GAA5B,CAF+C,EAQ3D,aAAatJ,KAAK,CAACkJ,aAAN,CAAoB,MAApB,EAA4B;AAC3C2F,IAAAA,CAAC,EAAElE,IADwC;AAE3CoE,IAAAA,CAAC,EAAEvE,GAFwC;AAG3CI,IAAAA,KAAK,EAAEA,KAHoC;AAI3CC,IAAAA,MAAM,EAAEA,MAJmC;AAK3CvB,IAAAA,IAAI,EAAE;AALqC,GAA5B,CAR8C,EAc3D,aAAatJ,KAAK,CAACkJ,aAAN,CAAoB,MAApB,EAA4B;AAC3C2F,IAAAA,CAAC,EAAElE,IAAI,GAAG,CADiC;AAE3CoE,IAAAA,CAAC,EAAEvE,GAAG,GAAG,CAFkC;AAG3CI,IAAAA,KAAK,EAAE4F,aAHoC;AAI3C3F,IAAAA,MAAM,EAAE2F,aAJmC;AAK3ClH,IAAAA,IAAI,EAAE;AALqC,GAA5B,CAd8C,EAoB3D,aAAatJ,KAAK,CAACkJ,aAAN,CAAoB,QAApB,EAA8B;AAC7C0H,IAAAA,EAAE,EAAEjG,IAAI,GAAG6F,aADkC;AAE7CK,IAAAA,EAAE,EAAErG,GAAG,GAAGgG,aAFmC;AAG7CM,IAAAA,CAAC,EAAEN,aAH0C;AAI7ClH,IAAAA,IAAI,EAAE;AAJuC,GAA9B,CApB8C,EAyB3D,aAAatJ,KAAK,CAACkJ,aAAN,CAAoB,MAApB,EAA4B;AAC3C2F,IAAAA,CAAC,EAAElE,IAAI,GAAGC,KAAP,GAAe4F,aAAf,GAA+B,CADS;AAE3CzB,IAAAA,CAAC,EAAEvE,GAAG,GAAG,CAFkC;AAG3CI,IAAAA,KAAK,EAAE4F,aAHoC;AAI3C3F,IAAAA,MAAM,EAAE2F,aAJmC;AAK3ClH,IAAAA,IAAI,EAAE;AALqC,GAA5B,CAzB8C,EA+B3D,aAAatJ,KAAK,CAACkJ,aAAN,CAAoB,QAApB,EAA8B;AAC7C0H,IAAAA,EAAE,EAAEjG,IAAI,GAAGC,KAAP,GAAe4F,aAD0B;AAE7CK,IAAAA,EAAE,EAAErG,GAAG,GAAGgG,aAFmC;AAG7CM,IAAAA,CAAC,EAAEN,aAH0C;AAI7ClH,IAAAA,IAAI,EAAE;AAJuC,GAA9B,CA/B8C,EAoC3D,aAAatJ,KAAK,CAACkJ,aAAN,CAAoB,MAApB,EAA4B;AAC3C2F,IAAAA,CAAC,EAAElE,IAAI,GAAG,CADiC;AAE3CoE,IAAAA,CAAC,EAAEvE,GAAG,GAAGK,MAAN,GAAe2F,aAAf,GAA+B,CAFS;AAG3C5F,IAAAA,KAAK,EAAE4F,aAHoC;AAI3C3F,IAAAA,MAAM,EAAE2F,aAJmC;AAK3ClH,IAAAA,IAAI,EAAE;AALqC,GAA5B,CApC8C,EA0C3D,aAAatJ,KAAK,CAACkJ,aAAN,CAAoB,QAApB,EAA8B;AAC7C0H,IAAAA,EAAE,EAAEjG,IAAI,GAAG6F,aADkC;AAE7CK,IAAAA,EAAE,EAAErG,GAAG,GAAGK,MAAN,GAAe2F,aAF0B;AAG7CM,IAAAA,CAAC,EAAEN,aAH0C;AAI7ClH,IAAAA,IAAI,EAAE;AAJuC,GAA9B,CA1C8C,EA+C3D,aAAatJ,KAAK,CAACkJ,aAAN,CAAoB,MAApB,EAA4B;AAC3C2F,IAAAA,CAAC,EAAElE,IAAI,GAAGC,KAAP,GAAe4F,aAAf,GAA+B,CADS;AAE3CzB,IAAAA,CAAC,EAAEvE,GAAG,GAAGK,MAAN,GAAe2F,aAAf,GAA+B,CAFS;AAG3C5F,IAAAA,KAAK,EAAE4F,aAHoC;AAI3C3F,IAAAA,MAAM,EAAE2F,aAJmC;AAK3ClH,IAAAA,IAAI,EAAE;AALqC,GAA5B,CA/C8C,EAqD3D,aAAatJ,KAAK,CAACkJ,aAAN,CAAoB,QAApB,EAA8B;AAC7C0H,IAAAA,EAAE,EAAEjG,IAAI,GAAGC,KAAP,GAAe4F,aAD0B;AAE7CK,IAAAA,EAAE,EAAErG,GAAG,GAAGK,MAAN,GAAe2F,aAF0B;AAG7CM,IAAAA,CAAC,EAAEN,aAH0C;AAI7ClH,IAAAA,IAAI,EAAE;AAJuC,GAA9B,CArD8C,CAA/C,EA0DX,aAAatJ,KAAK,CAACkJ,aAAN,CAAoB,UAApB,EAAgC;AAChDyH,IAAAA,EAAE,EAAE;AAD4C,GAAhC,EAEf,aAAa3Q,KAAK,CAACkJ,aAAN,CAAoB,MAApB,EAA4B;AAC1C2F,IAAAA,CAAC,EAAE,CADuC;AAE1CE,IAAAA,CAAC,EAAE,CAFuC;AAG1CnE,IAAAA,KAAK,EAAEyB,WAHmC;AAI1CxB,IAAAA,MAAM,EAAEL;AAJkC,GAA5B,CAFE,EAOd,aAAaxK,KAAK,CAACkJ,aAAN,CAAoB,MAApB,EAA4B;AAC3C2F,IAAAA,CAAC,EAAE,CADwC;AAE3CE,IAAAA,CAAC,EAAEvE,GAFwC;AAG3CI,IAAAA,KAAK,EAAED,IAHoC;AAI3CE,IAAAA,MAAM,EAAEA;AAJmC,GAA5B,CAPC,EAYd,aAAa7K,KAAK,CAACkJ,aAAN,CAAoB,MAApB,EAA4B;AAC3C2F,IAAAA,CAAC,EAAEnB,UAAU,GAAGwC,WAAb,GAA2BpC,OADa;AAE3CiB,IAAAA,CAAC,EAAEvE,GAFwC;AAG3CI,IAAAA,KAAK,EAAE4B,IAAI,CAACH,WAAW,GAAG6D,WAAd,GAA4BvF,IAA7B,CAHgC;AAI3CE,IAAAA,MAAM,EAAEA;AAJmC,GAA5B,CAZC,EAiBd,aAAa7K,KAAK,CAACkJ,aAAN,CAAoB,MAApB,EAA4B;AAC3C2F,IAAAA,CAAC,EAAE,CADwC;AAE3CE,IAAAA,CAAC,EAAExB,SAAS,GAAG4C,YAAZ,GAA2BrC,OAFa;AAG3ClD,IAAAA,KAAK,EAAEyB,WAHoC;AAI3CxB,IAAAA,MAAM,EAAE2B,IAAI,CAACD,YAAY,GAAG4D,YAAf,GAA8B3F,GAA/B;AAJ+B,GAA5B,CAjBC,CA1DF,CALA,EAqFV,aAAaxK,KAAK,CAACkJ,aAAN,CAAoB,MAApB,EAA4B;AAC7C2F,IAAAA,CAAC,EAAE,CAD0C;AAE7CE,IAAAA,CAAC,EAAE,CAF0C;AAG7CnE,IAAAA,KAAK,EAAEyB,WAHsC;AAI7CxB,IAAAA,MAAM,EAAE0B,YAJqC;AAK7CjD,IAAAA,IAAI,EAAE,cALuC;AAM7CyH,IAAAA,IAAI,EAAE;AANuC,GAA5B,CArFH,EA4FZ,aAAa/Q,KAAK,CAACkJ,aAAN,CAAoB,MAApB,EAA4B;AAC3C2F,IAAAA,CAAC,EAAE,CADwC;AAE3CE,IAAAA,CAAC,EAAE,CAFwC;AAG3CnE,IAAAA,KAAK,EAAEyB,WAHoC;AAI3CxB,IAAAA,MAAM,EAAE0B,YAJmC;AAK3CjD,IAAAA,IAAI,EAAE,cALqC;AAM3C0H,IAAAA,QAAQ,EAAE,iBANiC;AAO3CC,IAAAA,aAAa,EAAE;AAP4B,GAA5B,CA5FD,EAoGZ,aAAajR,KAAK,CAACkJ,aAAN,CAAoB,MAApB,EAA4B;AAC3C2F,IAAAA,CAAC,EAAElE,IADwC;AAE3CoE,IAAAA,CAAC,EAAEvE,GAFwC;AAG3CI,IAAAA,KAAK,EAAEA,KAHoC;AAI3CC,IAAAA,MAAM,EAAEA,MAJmC;AAK3CoG,IAAAA,aAAa,EAAE,MAL4B;AAM3C3H,IAAAA,IAAI,EAAE,aANqC;AAO3CkC,IAAAA,OAAO,EAAE6E,kBAAkB,GAAG,OAAH,GAAa,MAPG;AAQ3CvH,IAAAA,SAAS,EAAEwH;AARgC,GAA5B,CApGD,EA6GZC,iBAAiB,IAAI,aAAavQ,KAAK,CAACkJ,aAAN,CAAoB,MAApB,EAA4B;AAChE2F,IAAAA,CAAC,EAAErC,IAAI,CAAC7B,IAAI,GAAG4F,iBAAiB,CAAC3F,KAAlB,GAA0B,GAAlC,CADyD;AAEhEmE,IAAAA,CAAC,EAAEvC,IAAI,CAAChC,GAAG,GAAG+F,iBAAiB,CAAC3F,KAAlB,GAA0B,GAAjC,CAFyD;AAGhEA,IAAAA,KAAK,EAAE4B,IAAI,CAAC5B,KAAK,GAAG2F,iBAAiB,CAAC3F,KAA3B,CAHqD;AAIhEC,IAAAA,MAAM,EAAE2B,IAAI,CAAC3B,MAAM,GAAG0F,iBAAiB,CAAC3F,KAA5B,CAJoD;AAKhEqG,IAAAA,aAAa,EAAE,MALiD;AAMhE3H,IAAAA,IAAI,EAAE,MAN0D;AAOhEE,IAAAA,WAAW,EAAE+G,iBAAiB,CAAC3F,KAPiC;AAQhErB,IAAAA,MAAM,EAAEgH,iBAAiB,CAACW,KARsC;AAShEC,IAAAA,EAAE,EAAEX,aAAa,GAAG;AAT4C,GAA5B,CA7GtB,CAHI,CAApB;AA2HD;;AACDP,OAAO,CAACtG,SAAR,GAAoB;AAClB0C,EAAAA,WAAW,EAAExL,SAAS,CAACuQ,MAAV,CAAiBvH,UADZ;AAElB0C,EAAAA,YAAY,EAAE1L,SAAS,CAACuQ,MAAV,CAAiBvH,UAFb;AAGlBqG,EAAAA,WAAW,EAAErP,SAAS,CAACuQ,MAAV,CAAiBvH,UAHZ;AAIlBsG,EAAAA,YAAY,EAAEtP,SAAS,CAACuQ,MAAV,CAAiBvH,UAJb;AAKlB0D,EAAAA,SAAS,EAAE1M,SAAS,CAACuQ,MAAV,CAAiBvH,UALV;AAMlB6D,EAAAA,UAAU,EAAE7M,SAAS,CAACuQ,MAAV,CAAiBvH,UANX;AAOlBiE,EAAAA,OAAO,EAAEjN,SAAS,CAACuQ,MAAV,CAAiBvH,UAPR;AAQlByD,EAAAA,OAAO,EAAEzM,SAAS,CAACuQ,MAAV,CAAiBvH,UARR;AASlBuG,EAAAA,WAAW,EAAEvP,SAAS,CAACkJ,IATL;AAUlBsG,EAAAA,kBAAkB,EAAExP,SAAS,CAACkJ,IAAV,CAAeF,UAVjB;AAWlByG,EAAAA,2BAA2B,EAAEzP,SAAS,CAAC+I,MAAV,CAAiBC,UAX5B;AAYlB0G,EAAAA,iBAAiB,EAAE1P,SAAS,CAACwQ,KAAV,CAAgB;AACjCH,IAAAA,KAAK,EAAErQ,SAAS,CAAC+I,MAAV,CAAiBC,UADS;AAEjCe,IAAAA,KAAK,EAAE/J,SAAS,CAACuQ,MAAV,CAAiBvH;AAFS,GAAhB;AAZD,CAApB;;AAkBA,IAAIyH,sBAAsB,GAAI,UAAUzI,IAAV,EAAgB;AAC5C,MAAIb,IAAI,GAAGa,IAAI,CAACb,IAAhB;AAAA,MACIuJ,OAAO,GAAG1I,IAAI,CAAC0I,OADnB;;AAGA,MAAIC,SAAS,GAAGvR,QAAQ,CAAC,CAAD,CAAxB;AAAA,MACIwR,UAAU,GAAG7L,cAAc,CAAC4L,SAAD,EAAY,CAAZ,CAD/B;AAAA,MAEIE,gBAAgB,GAAGD,UAAU,CAAC,CAAD,CAFjC;AAAA,MAGIE,mBAAmB,GAAGF,UAAU,CAAC,CAAD,CAHpC,CAJ4C,CAOH;AACzC;;;AAGAvR,EAAAA,SAAS,CAAC,YAAY;AACpB,QAAI,CAAC8H,IAAI,CAAC4J,iBAAV,EAA6B;AAC3B;AACD;;AAED,QAAIC,qCAAqC,GAAG,SAASA,qCAAT,CAA+CC,KAA/C,EAAsD;AAChG,UAAI7G,SAAS,GAAGzD,0BAA0B,CAACsK,KAAD,CAA1C;AAAA,UACI5G,KADJ;;AAGA,UAAI;AACF,YAAI6G,KAAK,GAAG,SAASA,KAAT,GAAiB;AAC3B,cAAI/H,IAAI,GAAGkB,KAAK,CAAC7I,KAAjB;;AAEA,cAAI,CAAC2H,IAAI,CAACgI,UAAV,EAAsB;AACpB,mBAAO,UAAP;AACD;;AAED,cAAIC,KAAK,GAAGjK,IAAI,CAAC4J,iBAAL,CAAuBM,IAAvB,CAA4B,UAAUC,UAAV,EAAsB;AAC5D,mBAAOnI,IAAI,CAACoI,OAAL,CAAaD,UAAb,CAAP;AACD,WAFW,CAAZ;;AAIA,cAAIF,KAAJ,EAAW;AACTN,YAAAA,mBAAmB,CAACD,gBAAgB,GAAG,CAApB,CAAnB;AACD;AACF,SAdD;;AAgBA,aAAKzG,SAAS,CAACrD,CAAV,EAAL,EAAoB,CAAC,CAACsD,KAAK,GAAGD,SAAS,CAAC/D,CAAV,EAAT,EAAwBJ,IAA7C,GAAoD;AAClD,cAAIuL,IAAI,GAAGN,KAAK,EAAhB;;AAEA,cAAIM,IAAI,KAAK,UAAb,EAAyB;AAC1B;AACF,OAtBD,CAsBE,OAAOtL,GAAP,EAAY;AACZkE,QAAAA,SAAS,CAACtG,CAAV,CAAYoC,GAAZ;AACD,OAxBD,SAwBU;AACRkE,QAAAA,SAAS,CAACpD,CAAV;AACD;AACF,KA/BD;;AAiCA,QAAIyK,gBAAgB,GAAG,IAAIC,gBAAJ,CAAqB,UAAUC,aAAV,EAAyB;AACnE,UAAIC,UAAU,GAAGjL,0BAA0B,CAACgL,aAAD,CAA3C;AAAA,UACIE,MADJ;;AAGA,UAAI;AACF,aAAKD,UAAU,CAAC7K,CAAX,EAAL,EAAqB,CAAC,CAAC8K,MAAM,GAAGD,UAAU,CAACvL,CAAX,EAAV,EAA0BJ,IAAhD,GAAuD;AACrD,cAAI6L,QAAQ,GAAGD,MAAM,CAACrQ,KAAtB;;AAEA,cAAI,MAAMsQ,QAAQ,CAACC,UAAT,CAAoBrR,MAA9B,EAAsC;AACpCsQ,YAAAA,qCAAqC,CAACc,QAAQ,CAACC,UAAV,CAArC;AACD;;AAED,cAAI,MAAMD,QAAQ,CAACE,YAAT,CAAsBtR,MAAhC,EAAwC;AACtCsQ,YAAAA,qCAAqC,CAACc,QAAQ,CAACE,YAAV,CAArC;AACD;AACF;AACF,OAZD,CAYE,OAAO9L,GAAP,EAAY;AACZ0L,QAAAA,UAAU,CAAC9N,CAAX,CAAaoC,GAAb;AACD,OAdD,SAcU;AACR0L,QAAAA,UAAU,CAAC5K,CAAX;AACD;AACF,KArBsB,CAAvB;AAsBA,QAAIsK,UAAU,GAAG9G,QAAQ,CAACyH,eAAT,IAA4BzH,QAAQ,CAAC0H,IAAtD;AACA,QAAIC,MAAM,GAAG;AACXC,MAAAA,SAAS,EAAE,IADA;AAEXC,MAAAA,OAAO,EAAE;AAFE,KAAb;AAIAZ,IAAAA,gBAAgB,CAACa,OAAjB,CAAyBhB,UAAzB,EAAqCa,MAArC;AACA,WAAO,YAAY;AACjBV,MAAAA,gBAAgB,CAACc,UAAjB;AACD,KAFD;AAGD,GArEQ,EAqEN,CAACpL,IAAD,EAAO0J,gBAAP,CArEM,CAAT,CAX4C,CAgFd;;AAE9BxR,EAAAA,SAAS,CAAC,YAAY;AACpB,QAAI,CAAC8H,IAAI,CAAC4J,iBAAV,EAA6B;AAC3B;AACD;;AAED,QAAIyB,cAAc,GAAG,IAAIC,cAAJ,CAAmB,UAAUC,OAAV,EAAmB;AACzDhC,MAAAA,OAAO;AACR,KAFoB,CAArB;;AAIA,QAAIiC,UAAU,GAAGhM,0BAA0B,CAACQ,IAAI,CAAC4J,iBAAN,CAA3C;AAAA,QACI6B,MADJ;;AAGA,QAAI;AACF,WAAKD,UAAU,CAAC5L,CAAX,EAAL,EAAqB,CAAC,CAAC6L,MAAM,GAAGD,UAAU,CAACtM,CAAX,EAAV,EAA0BJ,IAAhD,GAAuD;AACrD,YAAIqL,UAAU,GAAGsB,MAAM,CAACpR,KAAxB;AACA,YAAI+I,OAAO,GAAGC,QAAQ,CAACC,aAAT,CAAuB6G,UAAvB,CAAd;;AAEA,YAAI/G,OAAJ,EAAa;AACXiI,UAAAA,cAAc,CAACF,OAAf,CAAuB/H,OAAvB;AACD;AACF;AACF,KATD,CASE,OAAOrE,GAAP,EAAY;AACZyM,MAAAA,UAAU,CAAC7O,CAAX,CAAaoC,GAAb;AACD,KAXD,SAWU;AACRyM,MAAAA,UAAU,CAAC3L,CAAX;AACD;;AAED,WAAO,YAAY;AACjBwL,MAAAA,cAAc,CAACD,UAAf;AACD,KAFD;AAGD,GA9BQ,EA8BN,CAACpL,IAAD,EAAO0J,gBAAP,CA9BM,CAAT;AA+BA,SAAO,IAAP;AACD,CAlHD;;AAoHA,IAAIgC,wBAAwB,GAAI,UAAU7K,IAAV,EAAgB;AAC9C,MAAIb,IAAI,GAAGa,IAAI,CAACb,IAAhB;AAAA,MACIuJ,OAAO,GAAG1I,IAAI,CAAC0I,OADnB;AAEArR,EAAAA,SAAS,CAAC,YAAY;AACpB,QAAI,CAAC8H,IAAI,CAAC2L,mBAAV,EAA+B;AAC7B;AACD;;AAED,QAAIC,oCAAoC,GAAG,SAASA,oCAAT,CAA8C9B,KAA9C,EAAqD;AAC9F,UAAI7G,SAAS,GAAGzD,0BAA0B,CAACsK,KAAD,CAA1C;AAAA,UACI5G,KADJ;;AAGA,UAAI;AACF,YAAI6G,KAAK,GAAG,SAASA,KAAT,GAAiB;AAC3B,cAAI/H,IAAI,GAAGkB,KAAK,CAAC7I,KAAjB;;AAEA,cAAI,CAAC2H,IAAI,CAACgI,UAAV,EAAsB;AACpB,mBAAO,UAAP;AACD;;AAED,cAAIC,KAAK,GAAGjK,IAAI,CAAC2L,mBAAL,CAAyBzB,IAAzB,CAA8B,UAAUC,UAAV,EAAsB;AAC9D,mBAAOnI,IAAI,CAACoI,OAAL,CAAaD,UAAb,CAAP;AACD,WAFW,CAAZ;;AAIA,cAAIF,KAAJ,EAAW;AACTV,YAAAA,OAAO;AACR;AACF,SAdD;;AAgBA,aAAKtG,SAAS,CAACrD,CAAV,EAAL,EAAoB,CAAC,CAACsD,KAAK,GAAGD,SAAS,CAAC/D,CAAV,EAAT,EAAwBJ,IAA7C,GAAoD;AAClD,cAAIuL,IAAI,GAAGN,KAAK,EAAhB;;AAEA,cAAIM,IAAI,KAAK,UAAb,EAAyB;AAC1B;AACF,OAtBD,CAsBE,OAAOtL,GAAP,EAAY;AACZkE,QAAAA,SAAS,CAACtG,CAAV,CAAYoC,GAAZ;AACD,OAxBD,SAwBU;AACRkE,QAAAA,SAAS,CAACpD,CAAV;AACD;AACF,KA/BD;;AAiCA,QAAIyK,gBAAgB,GAAG,IAAIC,gBAAJ,CAAqB,UAAUC,aAAV,EAAyB;AACnE,UAAIC,UAAU,GAAGjL,0BAA0B,CAACgL,aAAD,CAA3C;AAAA,UACIE,MADJ;;AAGA,UAAI;AACF,aAAKD,UAAU,CAAC7K,CAAX,EAAL,EAAqB,CAAC,CAAC8K,MAAM,GAAGD,UAAU,CAACvL,CAAX,EAAV,EAA0BJ,IAAhD,GAAuD;AACrD,cAAI6L,QAAQ,GAAGD,MAAM,CAACrQ,KAAtB;;AAEA,cAAI,MAAMsQ,QAAQ,CAACC,UAAT,CAAoBrR,MAA9B,EAAsC;AACpCqS,YAAAA,oCAAoC,CAACjB,QAAQ,CAACC,UAAV,CAApC;AACD;;AAED,cAAI,MAAMD,QAAQ,CAACE,YAAT,CAAsBtR,MAAhC,EAAwC;AACtCqS,YAAAA,oCAAoC,CAACjB,QAAQ,CAACE,YAAV,CAApC;AACD;AACF;AACF,OAZD,CAYE,OAAO9L,GAAP,EAAY;AACZ0L,QAAAA,UAAU,CAAC9N,CAAX,CAAaoC,GAAb;AACD,OAdD,SAcU;AACR0L,QAAAA,UAAU,CAAC5K,CAAX;AACD;AACF,KArBsB,CAAvB;AAsBA,QAAIsK,UAAU,GAAG9G,QAAQ,CAACyH,eAAT,IAA4BzH,QAAQ,CAAC0H,IAAtD;AACA,QAAIC,MAAM,GAAG;AACXC,MAAAA,SAAS,EAAE,IADA;AAEXC,MAAAA,OAAO,EAAE;AAFE,KAAb;AAIAZ,IAAAA,gBAAgB,CAACa,OAAjB,CAAyBhB,UAAzB,EAAqCa,MAArC;AACA,WAAO,YAAY;AACjBV,MAAAA,gBAAgB,CAACc,UAAjB;AACD,KAFD;AAGD,GArEQ,EAqEN,CAACpL,IAAD,CArEM,CAAT;AAsEA,SAAO,IAAP;AACD,CA1ED;;AA4EA,SAAS6L,MAAT,CAAgBhL,IAAhB,EAAsB;AACpB,MAAIiL,QAAQ,GAAGjL,IAAI,CAACiL,QAApB;AACA,MAAIC,GAAG,GAAG5T,MAAM,CAAC,IAAD,CAAhB;;AAEA,MAAI4T,GAAG,CAACpE,OAAJ,KAAgB,IAApB,EAA0B;AACxBoE,IAAAA,GAAG,CAACpE,OAAJ,GAActE,QAAQ,CAACnC,aAAT,CAAuB,KAAvB,CAAd;AACA6K,IAAAA,GAAG,CAACpE,OAAJ,CAAYqE,YAAZ,CAAyB,IAAzB,EAA+B,aAA/B;AACD;;AAED9T,EAAAA,SAAS,CAAC,YAAY;AACpBmL,IAAAA,QAAQ,CAAC0H,IAAT,CAAckB,WAAd,CAA0BF,GAAG,CAACpE,OAA9B;AACA,WAAO,YAAY;AACjBtE,MAAAA,QAAQ,CAAC0H,IAAT,CAAcmB,WAAd,CAA0BH,GAAG,CAACpE,OAA9B;AACD,KAFD;AAGD,GALQ,EAKN,CAACoE,GAAD,CALM,CAAT;AAMA,SAAO,aAAajT,YAAY,CAACgT,QAAD,EAAWC,GAAG,CAACpE,OAAf,CAAhC;AACD;;AAED,IAAIhG,SAAS,GAAG;AACdwK,EAAAA,gBAAgB,EAAEtT,SAAS,CAACkJ,IADd;AAEdqK,EAAAA,YAAY,EAAEvT,SAAS,CAACiJ,IAFV;AAGduK,EAAAA,wBAAwB,EAAExT,SAAS,CAAC+I,MAHtB;AAIdkK,EAAAA,QAAQ,EAAEjT,SAAS,CAACyT,SAAV,CAAoB,CAACzT,SAAS,CAACmJ,IAAX,EAAiBnJ,SAAS,CAACuK,OAA3B,CAApB,CAJI;AAKdtC,EAAAA,SAAS,EAAEjI,SAAS,CAAC+I,MALP;AAMd2K,EAAAA,aAAa,EAAE1T,SAAS,CAACkJ,IANX;AAOdyK,EAAAA,eAAe,EAAE3T,SAAS,CAACuQ,MAPb;AAQdqD,EAAAA,MAAM,EAAE5T,SAAS,CAACkJ,IAAV,CAAeF,UART;AASd6K,EAAAA,kBAAkB,EAAE7T,SAAS,CAACmJ,IAThB;AAUdgG,EAAAA,aAAa,EAAEnP,SAAS,CAAC+I,MAVX;AAWd+K,EAAAA,SAAS,EAAE9T,SAAS,CAACuQ,MAXP;AAYdwD,EAAAA,UAAU,EAAE/T,SAAS,CAACmJ,IAZR;AAad6K,EAAAA,WAAW,EAAEhU,SAAS,CAACiJ,IAbT;AAcdgL,EAAAA,aAAa,EAAEjU,SAAS,CAACiJ,IAdX;AAediL,EAAAA,cAAc,EAAElU,SAAS,CAACiJ,IAfZ;AAgBdkL,EAAAA,UAAU,EAAEnU,SAAS,CAACmJ,IAhBR;AAiBdiL,EAAAA,cAAc,EAAEpU,SAAS,CAACuQ,MAjBZ;AAkBd8D,EAAAA,YAAY,EAAErU,SAAS,CAACuQ,MAlBV;AAmBd+D,EAAAA,WAAW,EAAEtU,SAAS,CAACkJ,IAnBT;AAoBdqL,EAAAA,eAAe,EAAEvU,SAAS,CAACkJ,IApBb;AAqBdsL,EAAAA,cAAc,EAAExU,SAAS,CAACkJ,IArBZ;AAsBduL,EAAAA,oBAAoB,EAAEzU,SAAS,CAACkJ,IAtBlB;AAuBd8F,EAAAA,UAAU,EAAEhP,SAAS,CAACkJ,IAvBR;AAwBdwL,EAAAA,OAAO,EAAE1U,SAAS,CAACuQ,MAxBL;AAyBdoE,EAAAA,QAAQ,EAAE3U,SAAS,CAACuQ,MAzBN;AA0BdqE,EAAAA,cAAc,EAAE5U,SAAS,CAACiJ,IA1BZ;AA2Bd4L,EAAAA,QAAQ,EAAE7U,SAAS,CAACiJ,IA3BN;AA4Bd6L,EAAAA,QAAQ,EAAE9U,SAAS,CAACiJ,IA5BN;AA6Bd8L,EAAAA,KAAK,EAAE/U,SAAS,CAACgV,OAAV,CAAkBhV,SAAS,CAACwQ,KAAV,CAAgB;AACvClG,IAAAA,QAAQ,EAAEtK,SAAS,CAAC+I,MADmB;AAEvCkM,IAAAA,OAAO,EAAEjV,SAAS,CAACyT,SAAV,CAAoB,CAACzT,SAAS,CAACmJ,IAAX,EAAiBnJ,SAAS,CAACuK,OAA3B,EAAoCvK,SAAS,CAACiJ,IAA9C,CAApB,EAAyED,UAF3C;AAGvCgD,IAAAA,QAAQ,EAAEhM,SAAS,CAACyT,SAAV,CAAoB,CAACzT,SAAS,CAACgV,OAAV,CAAkBhV,SAAS,CAACuQ,MAA5B,CAAD,EAAsCvQ,SAAS,CAACkV,KAAV,CAAgB,CAAC,KAAD,EAAQ,OAAR,EAAiB,QAAjB,EAA2B,MAA3B,EAAmC,QAAnC,CAAhB,CAAtC,CAApB,CAH6B;AAIvCC,IAAAA,MAAM,EAAEnV,SAAS,CAACiJ,IAJqB;AAKvCyB,IAAAA,KAAK,EAAE1K,SAAS,CAAC0B,MALsB;AAMvC0T,IAAAA,eAAe,EAAEpV,SAAS,CAACkJ,IANY;AAOvCmM,IAAAA,eAAe,EAAErV,SAAS,CAAC+I,MAPY;AAQvCwG,IAAAA,WAAW,EAAEvP,SAAS,CAACkJ;AARgB,GAAhB,CAAlB,CA7BO;AAuCdoM,EAAAA,MAAM,EAAEtV,SAAS,CAAC+I,MAvCJ;AAwCdwM,EAAAA,WAAW,EAAEvV,SAAS,CAACuQ,MAxCT;AAyCdf,EAAAA,kBAAkB,EAAExP,SAAS,CAACkJ,IAzChB;AA0CdsM,EAAAA,qBAAqB,EAAExV,SAAS,CAACkJ,IA1CnB;AA2CduM,EAAAA,yBAAyB,EAAEzV,SAAS,CAACyT,SAAV,CAAoB,CAACzT,SAAS,CAACgV,OAAV,CAAkBhV,SAAS,CAACkV,KAAV,CAAgB,CAAC,KAAD,EAAQ,OAAR,EAAiB,MAAjB,CAAhB,CAAlB,CAAD,EAA+DlV,SAAS,CAACkJ,IAAzE,CAApB,CA3Cb;AA4CduD,EAAAA,OAAO,EAAEzM,SAAS,CAACuQ,MA5CL;AA6CdhE,EAAAA,WAAW,EAAEvM,SAAS,CAAC+I,MA7CT;AA8Cd2G,EAAAA,iBAAiB,EAAE1P,SAAS,CAACwQ,KAAV,CAAgB;AACjCH,IAAAA,KAAK,EAAErQ,SAAS,CAAC+I,MAAV,CAAiBC,UADS;AAEjCe,IAAAA,KAAK,EAAE/J,SAAS,CAACuQ,MAAV,CAAiBvH;AAFS,GAAhB;AA9CL,CAAhB;AAmDA,IAAI0M,YAAY,GAAG;AACjBpC,EAAAA,gBAAgB,EAAE,KADD;AAEjBkB,EAAAA,cAAc,EAAE,IAFC;AAGjBC,EAAAA,oBAAoB,EAAE,IAHL;AAIjBH,EAAAA,WAAW,EAAE,IAJI;AAKjBC,EAAAA,eAAe,EAAE,IALA;AAMjBvF,EAAAA,UAAU,EAAE,IANK;AAOjBoF,EAAAA,cAAc,EAAE,CAPC;AAQjBN,EAAAA,SAAS,EAAE,EARM;AASjByB,EAAAA,WAAW,EAAE,CATI;AAUjB/F,EAAAA,kBAAkB,EAAE,KAVH;AAWjB/C,EAAAA,OAAO,EAAE,CAXQ;AAYjBF,EAAAA,WAAW,EAAE,SAZI;AAajBmH,EAAAA,aAAa,EAAE;AAbE,CAAnB;AAgBA,IAAIiC,EAAE,GAAG;AACPzF,EAAAA,IAAI,EAAE;AACJ0F,IAAAA,IAAI,EAAE,gBADF;AAEJhC,IAAAA,MAAM,EAAE,yBAFJ;AAGJpE,IAAAA,kBAAkB,EAAE;AAHhB,GADC;AAMPqG,EAAAA,MAAM,EAAE;AACND,IAAAA,IAAI,EAAE,kBADA;AAENhC,IAAAA,MAAM,EAAE;AAFF,GAND;AAUPkC,EAAAA,GAAG,EAAE;AACHF,IAAAA,IAAI,EAAE,eADH;AAEHG,IAAAA,MAAM,EAAE;AAFL;AAVE,CAAT;;AAgBA,IAAIC,IAAI,GAAG,aAAa,UAAUC,UAAV,EAAsB;AAC5CvT,EAAAA,SAAS,CAACsT,IAAD,EAAOC,UAAP,CAAT;;AAEA,MAAIC,MAAM,GAAG/R,YAAY,CAAC6R,IAAD,CAAzB;;AAEA,WAASA,IAAT,GAAgB;AACd,QAAIG,KAAJ;;AAEAjW,IAAAA,eAAe,CAAC,IAAD,EAAO8V,IAAP,CAAf;;AAEAG,IAAAA,KAAK,GAAGD,MAAM,CAACrS,IAAP,CAAY,IAAZ,CAAR;;AAEAvC,IAAAA,eAAe,CAACyC,sBAAsB,CAACoS,KAAD,CAAvB,EAAgC,aAAhC,EAA+C,UAAUC,QAAV,EAAoB;AAChFD,MAAAA,KAAK,CAACE,QAAN,CAAe;AACbC,QAAAA,aAAa,EAAE;AADF,OAAf,EAEGF,QAAQ,EAFX;AAGD,KAJc,CAAf;;AAMA9U,IAAAA,eAAe,CAACyC,sBAAsB,CAACoS,KAAD,CAAvB,EAAgC,UAAhC,EAA4C,YAAY;AACrE,UAAI,CAACA,KAAK,CAACN,MAAP,IAAiB,CAACM,KAAK,CAACN,MAAN,CAAa/G,OAAnC,EAA4C;AAC5C,UAAIiG,KAAK,GAAGoB,KAAK,CAAC3V,KAAN,CAAYuU,KAAxB;AACA,UAAIwB,WAAW,GAAGJ,KAAK,CAACK,KAAxB;AAAA,UACI1H,OAAO,GAAGyH,WAAW,CAACzH,OAD1B;AAAA,UAEIwH,aAAa,GAAGC,WAAW,CAACD,aAFhC;;AAIA,UAAIA,aAAJ,EAAmB;AACjBH,QAAAA,KAAK,CAACE,QAAN,CAAe;AACbC,UAAAA,aAAa,EAAE;AADF,SAAf;AAGD;;AAED,UAAInP,IAAI,GAAG4N,KAAK,CAACjG,OAAD,CAAhB;AACA,UAAI3F,IAAI,GAAGhC,IAAI,CAACmD,QAAL,GAAgBE,QAAQ,CAACC,aAAT,CAAuBtD,IAAI,CAACmD,QAA5B,CAAhB,GAAwD,IAAnE;;AAEA,UAAImM,YAAY,GAAG,SAASA,YAAT,CAAsBxT,CAAtB,EAAyB;AAC1C,YAAIkE,IAAI,CAACgO,MAAL,IAAe,OAAOhO,IAAI,CAACgO,MAAZ,KAAuB,UAA1C,EAAsD;AACpDgB,UAAAA,KAAK,CAACO,WAAN,CAAkB,YAAY;AAC5B,mBAAOvP,IAAI,CAACgO,MAAL,CAAYlS,CAAZ,CAAP;AACD,WAFD;AAGD;AACF,OAND;;AAQA,UAAIkE,IAAI,CAACmL,OAAT,EAAkB;AAChB,YAAI/R,MAAM,GAAGiK,QAAQ,CAACC,aAAT,CAAuBtD,IAAI,CAACmL,OAA5B,CAAb;AACA,YAAIH,MAAM,GAAG;AACXhB,UAAAA,UAAU,EAAE,IADD;AAEXiB,UAAAA,SAAS,EAAE,IAFA;AAGXuE,UAAAA,aAAa,EAAE;AAHJ,SAAb;;AAMAR,QAAAA,KAAK,CAACE,QAAN,CAAe,UAAUO,SAAV,EAAqB;AAClC,cAAIA,SAAS,CAACC,QAAd,EAAwB;AACtBC,YAAAA,UAAU,CAAC,YAAY;AACrBF,cAAAA,SAAS,CAACC,QAAV,CAAmBtE,UAAnB;AACD,aAFS,EAEP,CAFO,CAAV;AAGD;;AAED,iBAAO;AACLsE,YAAAA,QAAQ,EAAE,IAAInF,gBAAJ,CAAqB,UAAUqF,SAAV,EAAqB;AAClDA,cAAAA,SAAS,CAACxU,OAAV,CAAkB,UAAUuP,QAAV,EAAoB;AACpC,oBAAIA,QAAQ,CAACkF,IAAT,KAAkB,WAAlB,IAAiClF,QAAQ,CAACC,UAAT,CAAoBrR,MAApB,GAA6B,CAAlE,EAAqE;AACnE,sBAAIuW,EAAE,GAAG,SAASA,EAAT,GAAc;AACrB,2BAAOR,YAAY,CAAC3E,QAAQ,CAACC,UAAT,CAAoB,CAApB,CAAD,CAAnB;AACD,mBAFD;;AAIA+E,kBAAAA,UAAU,CAAC,YAAY;AACrB,2BAAOX,KAAK,CAACe,aAAN,CAAoBpF,QAAQ,CAACC,UAAT,CAAoB,CAApB,CAApB,EAA4C5K,IAA5C,EAAkD8P,EAAlD,CAAP;AACD,mBAFS,EAEP,GAFO,CAAV;AAGD,iBARD,MAQO,IAAInF,QAAQ,CAACkF,IAAT,KAAkB,WAAlB,IAAiClF,QAAQ,CAACE,YAAT,CAAsBtR,MAAtB,GAA+B,CAApE,EAAuE;AAC5E,sBAAIyW,GAAG,GAAG,SAASA,GAAT,GAAe;AACvB,2BAAOV,YAAY,CAACtN,IAAD,CAAnB;AACD,mBAFD;;AAIAgN,kBAAAA,KAAK,CAACe,aAAN,CAAoB/N,IAApB,EAA0BhC,IAA1B,EAAgCgQ,GAAhC;AACD;AACF,eAhBD;AAiBD,aAlBS;AADL,WAAP;AAqBD,SA5BD,EA4BG,YAAY;AACb,iBAAOhB,KAAK,CAACK,KAAN,CAAYK,QAAZ,CAAqBvE,OAArB,CAA6B/R,MAA7B,EAAqC4R,MAArC,CAAP;AACD,SA9BD;AA+BD,OAvCD,MAuCO;AACL,YAAIgE,KAAK,CAACK,KAAN,CAAYK,QAAhB,EAA0B;AACxBV,UAAAA,KAAK,CAACK,KAAN,CAAYK,QAAZ,CAAqBtE,UAArB;;AAEA4D,UAAAA,KAAK,CAACE,QAAN,CAAe;AACbQ,YAAAA,QAAQ,EAAE;AADG,WAAf;AAGD;AACF;;AAED,UAAI1N,IAAJ,EAAU;AACR,YAAI8N,EAAE,GAAG,SAASA,EAAT,GAAc;AACrB,iBAAOR,YAAY,CAACtN,IAAD,CAAnB;AACD,SAFD;;AAIAgN,QAAAA,KAAK,CAACe,aAAN,CAAoB/N,IAApB,EAA0BhC,IAA1B,EAAgC8P,EAAhC;AACD,OAND,MAMO;AACLd,QAAAA,KAAK,CAACE,QAAN,CAAee,YAAY,CAAC,IAAD,EAAOjQ,IAAP,EAAagP,KAAK,CAACN,MAAN,CAAa/G,OAA1B,CAA3B,EAA+D2H,YAA/D;;AAEAtP,QAAAA,IAAI,CAACmD,QAAL,IAAiBwD,OAAO,CAACH,IAAR,CAAa,4BAA4BrF,MAA5B,CAAmCnB,IAAI,CAACmD,QAAxC,EAAkD,0DAAlD,EAA8GhC,MAA9G,CAAqHwG,OAArH,EAA8H,GAA9H,CAAb,CAAjB;AACD;AACF,KApFc,CAAf;;AAsFAxN,IAAAA,eAAe,CAACyC,sBAAsB,CAACoS,KAAD,CAAvB,EAAgC,eAAhC,EAAiD,UAAUhN,IAAV,EAAgBhC,IAAhB,EAAsB8P,EAAtB,EAA0B;AACxF,UAAII,WAAW,GAAGlB,KAAK,CAAC3V,KAAxB;AAAA,UACI4T,cAAc,GAAGiD,WAAW,CAACjD,cADjC;AAAA,UAEIT,eAAe,GAAG0D,WAAW,CAAC1D,eAFlC;AAAA,UAGIU,YAAY,GAAGgD,WAAW,CAAChD,YAH/B;AAIA,UAAIlK,KAAK,GAAGF,kBAAkB,CAACd,IAAD,EAAOhC,IAAP,CAA9B;AACA,UAAI4D,CAAC,GAAGoD,IAAI,CAACmJ,GAAL,CAAS9M,QAAQ,CAACyH,eAAT,CAAyBsF,WAAlC,EAA+CC,MAAM,CAACC,UAAP,IAAqB,CAApE,CAAR;AACA,UAAIzM,CAAC,GAAGmD,IAAI,CAACmJ,GAAL,CAAS9M,QAAQ,CAACyH,eAAT,CAAyByF,YAAlC,EAAgDF,MAAM,CAACG,WAAP,IAAsB,CAAtE,CAAR;;AAEA,UAAI,CAAC7M,MAAM,CAAC1I,cAAc,CAACA,cAAc,CAAC,EAAD,EAAK+H,KAAL,CAAf,EAA4B,EAA5B,EAAgC;AACxDY,QAAAA,CAAC,EAAEA,CADqD;AAExDC,QAAAA,CAAC,EAAEA,CAFqD;AAGxDE,QAAAA,SAAS,EAAEyI;AAH6C,OAAhC,CAAf,CAAX,EAIK;AACH,YAAIiE,YAAY,GAAGjY,YAAY,CAACwJ,IAAD,CAA/B;AACA,YAAI0O,MAAM,GAAGxD,YAAY,GAAGA,YAAH,GAAkBlK,KAAK,CAACH,MAAN,GAAegB,CAAf,GAAmB,CAAC,EAApB,GAAyB,EAAEA,CAAC,GAAG,CAAN,IAAWb,KAAK,CAACH,MAAN,GAAe,CAA9F;AACAtK,QAAAA,YAAY,CAACoY,EAAb,CAAgB3O,IAAhB,EAAsB;AACpB4O,UAAAA,OAAO,EAAE5M,MAAM,CAACyM,YAAD,CAAN,GAAuBJ,MAAvB,GAAgCI,YADrB;AAEpBI,UAAAA,QAAQ,EAAE5D,cAFU;AAGpByD,UAAAA,MAAM,EAAEA,MAHY;AAIpBzB,UAAAA,QAAQ,EAAE,SAASA,QAAT,CAAkB6B,EAAlB,EAAsB;AAC9B9B,YAAAA,KAAK,CAACE,QAAN,CAAee,YAAY,CAACa,EAAD,EAAK9Q,IAAL,EAAWgP,KAAK,CAACN,MAAN,CAAa/G,OAAxB,CAA3B,EAA6DmI,EAA7D;AACD;AANmB,SAAtB;AAQD,OAfD,MAeO;AACLd,QAAAA,KAAK,CAACE,QAAN,CAAee,YAAY,CAACjO,IAAD,EAAOhC,IAAP,EAAagP,KAAK,CAACN,MAAN,CAAa/G,OAA1B,CAA3B,EAA+DmI,EAA/D;AACD;AACF,KA3Bc,CAAf;;AA6BA3V,IAAAA,eAAe,CAACyC,sBAAsB,CAACoS,KAAD,CAAvB,EAAgC,iBAAhC,EAAmD,UAAUhP,IAAV,EAAgB;AAChF,UAAIgC,IAAI,GAAGqB,QAAQ,CAACC,aAAT,CAAuBtD,IAAI,CAACmD,QAA5B,CAAX;;AAEA,UAAImM,YAAY,GAAG,SAASA,YAAT,CAAsBxT,CAAtB,EAAyB;AAC1C,YAAIkE,IAAI,CAACgO,MAAL,IAAe,OAAOhO,IAAI,CAACgO,MAAZ,KAAuB,UAA1C,EAAsD;AACpDgB,UAAAA,KAAK,CAACO,WAAN,CAAkB,YAAY;AAC5B,mBAAOvP,IAAI,CAACgO,MAAL,CAAYlS,CAAZ,CAAP;AACD,WAFD;AAGD;AACF,OAND;;AAQAkT,MAAAA,KAAK,CAACe,aAAN,CAAoB/N,IAApB,EAA0BhC,IAA1B,EAAgC,YAAY;AAC1C,eAAOsP,YAAY,CAACtN,IAAD,CAAnB;AACD,OAFD;AAGD,KAdc,CAAf;;AAgBA7H,IAAAA,eAAe,CAACyC,sBAAsB,CAACoS,KAAD,CAAvB,EAAgC,kBAAhC,EAAoD,UAAUrS,CAAV,EAAa;AAC9E,UAAIoU,YAAY,GAAG/B,KAAK,CAAC3V,KAAzB;AAAA,UACIkT,aAAa,GAAGwE,YAAY,CAACxE,aADjC;AAAA,UAEIQ,cAAc,GAAGgE,YAAY,CAAChE,cAFlC;;AAIA,UAAIR,aAAa,IAAI,CAAC5P,CAAC,CAACvD,MAAF,CAAS4X,SAAT,CAAmBC,QAAnB,CAA4BzC,EAAE,CAACzF,IAAH,CAAQV,kBAApC,CAAtB,EAA+E;AAC7E0E,QAAAA,cAAc,CAACpQ,CAAD,CAAd;AACD;AACF,KARc,CAAf;;AAUAxC,IAAAA,eAAe,CAACyC,sBAAsB,CAACoS,KAAD,CAAvB,EAAgC,UAAhC,EAA4C,YAAY;AACrE,UAAIkC,YAAY,GAAGlC,KAAK,CAAC3V,KAAzB;AAAA,UACIuU,KAAK,GAAGsD,YAAY,CAACtD,KADzB;AAAA,UAEIH,cAAc,GAAGyD,YAAY,CAACzD,cAFlC;;AAIAuB,MAAAA,KAAK,CAACE,QAAN,CAAe,UAAUO,SAAV,EAAqB;AAClC,YAAI/B,QAAQ,GAAG+B,SAAS,CAAC9H,OAAV,GAAoBiG,KAAK,CAACrU,MAAN,GAAe,CAAnC,GAAuCkW,SAAS,CAAC9H,OAAV,GAAoB,CAA3D,GAA+D8H,SAAS,CAAC9H,OAAxF;;AAEA,YAAI,OAAO8F,cAAP,KAA0B,UAA9B,EAA0C;AACxCA,UAAAA,cAAc,CAACC,QAAD,CAAd;AACD;;AAED,eAAO;AACL/F,UAAAA,OAAO,EAAE+F;AADJ,SAAP;AAGD,OAVD,EAUGsB,KAAK,CAACmC,QAVT;AAWD,KAhBc,CAAf;;AAkBAhX,IAAAA,eAAe,CAACyC,sBAAsB,CAACoS,KAAD,CAAvB,EAAgC,UAAhC,EAA4C,YAAY;AACrE,UAAIvB,cAAc,GAAGuB,KAAK,CAAC3V,KAAN,CAAYoU,cAAjC;;AAEAuB,MAAAA,KAAK,CAACE,QAAN,CAAe,UAAUO,SAAV,EAAqB;AAClC,YAAI/B,QAAQ,GAAG+B,SAAS,CAAC9H,OAAV,GAAoB,CAApB,GAAwB8H,SAAS,CAAC9H,OAAV,GAAoB,CAA5C,GAAgD8H,SAAS,CAAC9H,OAAzE;;AAEA,YAAI,OAAO8F,cAAP,KAA0B,UAA9B,EAA0C;AACxCA,UAAAA,cAAc,CAACC,QAAD,CAAd;AACD;;AAED,eAAO;AACL/F,UAAAA,OAAO,EAAE+F;AADJ,SAAP;AAGD,OAVD,EAUGsB,KAAK,CAACmC,QAVT;AAWD,KAdc,CAAf;;AAgBAhX,IAAAA,eAAe,CAACyC,sBAAsB,CAACoS,KAAD,CAAvB,EAAgC,UAAhC,EAA4C,UAAU9P,CAAV,EAAa;AACtE,UAAIkS,YAAY,GAAGpC,KAAK,CAAC3V,KAAzB;AAAA,UACIuU,KAAK,GAAGwD,YAAY,CAACxD,KADzB;AAAA,UAEIH,cAAc,GAAG2D,YAAY,CAAC3D,cAFlC;;AAIAuB,MAAAA,KAAK,CAACE,QAAN,CAAe,UAAUO,SAAV,EAAqB;AAClC,YAAI/B,QAAQ,GAAGE,KAAK,CAAC1O,CAAD,CAAL,GAAWA,CAAX,GAAeuQ,SAAS,CAAC9H,OAAxC;;AAEA,YAAI,OAAO8F,cAAP,KAA0B,UAA9B,EAA0C;AACxCA,UAAAA,cAAc,CAACC,QAAD,CAAd;AACD;;AAED,eAAO;AACL/F,UAAAA,OAAO,EAAE+F;AADJ,SAAP;AAGD,OAVD,EAUGsB,KAAK,CAACmC,QAVT;AAWD,KAhBc,CAAf;;AAkBAhX,IAAAA,eAAe,CAACyC,sBAAsB,CAACoS,KAAD,CAAvB,EAAgC,gBAAhC,EAAkD,UAAUrS,CAAV,EAAa;AAC5E,UAAI0U,YAAY,GAAGrC,KAAK,CAAC3V,KAAzB;AAAA,UACI0T,cAAc,GAAGsE,YAAY,CAACtE,cADlC;AAAA,UAEIW,QAAQ,GAAG2D,YAAY,CAAC3D,QAF5B;AAAA,UAGIC,QAAQ,GAAG0D,YAAY,CAAC1D,QAH5B;AAAA,UAIIW,yBAAyB,GAAG+C,YAAY,CAAC/C,yBAJ7C;AAKI+C,MAAAA,YAAY,CAACjE,eAAb;AACJzQ,MAAAA,CAAC,CAAC2U,eAAF;;AAEA,UAAIhD,yBAAyB,KAAK,IAAlC,EAAwC;AACtC;AACD;;AAED,UAAIiD,aAAJ,EAAmBC,eAAnB,EAAoCC,cAApC;;AAEA,UAAInD,yBAAJ,EAA+B;AAC7BiD,QAAAA,aAAa,GAAGjD,yBAAyB,CAACoD,QAA1B,CAAmC,KAAnC,CAAhB;AACAF,QAAAA,eAAe,GAAGlD,yBAAyB,CAACoD,QAA1B,CAAmC,OAAnC,CAAlB;AACAD,QAAAA,cAAc,GAAGnD,yBAAyB,CAACoD,QAA1B,CAAmC,MAAnC,CAAjB;AACD;;AAED,UAAI/U,CAAC,CAACgV,OAAF,KAAc,EAAd,IAAoB,CAACJ,aAAzB,EAAwC;AACtC;AACA5U,QAAAA,CAAC,CAACiV,cAAF;AACA7E,QAAAA,cAAc;AACf;;AAED,UAAIpQ,CAAC,CAACgV,OAAF,KAAc,EAAd,IAAoB,CAACH,eAAzB,EAA0C;AACxC;AACA7U,QAAAA,CAAC,CAACiV,cAAF;AACA,eAAOlE,QAAP,KAAoB,UAApB,GAAiCA,QAAQ,EAAzC,GAA8CsB,KAAK,CAACtB,QAAN,EAA9C;AACD;;AAED,UAAI/Q,CAAC,CAACgV,OAAF,KAAc,EAAd,IAAoB,CAACF,cAAzB,EAAyC;AACvC;AACA9U,QAAAA,CAAC,CAACiV,cAAF;AACA,eAAOjE,QAAP,KAAoB,UAApB,GAAiCA,QAAQ,EAAzC,GAA8CqB,KAAK,CAACrB,QAAN,EAA9C;AACD;AACF,KAtCc,CAAf;;AAwCAqB,IAAAA,KAAK,CAACK,KAAN,GAAc;AACZ5C,MAAAA,MAAM,EAAE,KADI;AAEZ9E,MAAAA,OAAO,EAAE,CAFG;AAGZnF,MAAAA,GAAG,EAAE,CAHO;AAIZC,MAAAA,KAAK,EAAE,CAJK;AAKZC,MAAAA,MAAM,EAAE,CALI;AAMZC,MAAAA,IAAI,EAAE,CANM;AAOZC,MAAAA,KAAK,EAAE,CAPK;AAQZC,MAAAA,MAAM,EAAE,CARI;AASZe,MAAAA,CAAC,EAAE,CATS;AAUZC,MAAAA,CAAC,EAAE,CAVS;AAWZgO,MAAAA,KAAK,EAAE,KAXK;AAYZnC,MAAAA,QAAQ,EAAE,IAZE;AAaZP,MAAAA,aAAa,EAAE;AAbH,KAAd;AAeAH,IAAAA,KAAK,CAACN,MAAN,GAAe,aAAatW,SAAS,EAArC;AACA4W,IAAAA,KAAK,CAAC8C,aAAN,GAAsB,IAAtB;AACA9C,IAAAA,KAAK,CAAC+C,iBAAN,GAA0BtZ,QAAQ,CAACuW,KAAK,CAACmC,QAAP,EAAiB,EAAjB,CAAlC;AACA,WAAOnC,KAAP;AACD;;AAEDjV,EAAAA,YAAY,CAAC8U,IAAD,EAAO,CAAC;AAClB/U,IAAAA,GAAG,EAAE,mBADa;AAElBO,IAAAA,KAAK,EAAE,SAAS2X,iBAAT,GAA6B;AAClC,UAAIC,YAAY,GAAG,KAAK5Y,KAAxB;AAAA,UACIoT,MAAM,GAAGwF,YAAY,CAACxF,MAD1B;AAAA,UAEIc,OAAO,GAAG0E,YAAY,CAAC1E,OAF3B;;AAIA,UAAId,MAAJ,EAAY;AACV,aAAKyF,IAAL,CAAU3E,OAAV;AACD;AACF;AAViB,GAAD,EAWhB;AACDzT,IAAAA,GAAG,EAAE,kCADJ;AAEDO,IAAAA,KAAK,EAAE,SAAS8X,gCAAT,CAA0CC,SAA1C,EAAqD;AAC1D,UAAIC,YAAY,GAAG,KAAKhZ,KAAxB;AAAA,UACIoT,MAAM,GAAG4F,YAAY,CAAC5F,MAD1B;AAAA,UAEI0B,MAAM,GAAGkE,YAAY,CAAClE,MAF1B;AAAA,UAGIC,WAAW,GAAGiE,YAAY,CAACjE,WAH/B;;AAKA,UAAI,CAAC3B,MAAD,IAAW2F,SAAS,CAAC3F,MAAzB,EAAiC;AAC/B,aAAKyF,IAAL,CAAUE,SAAS,CAAC7E,OAApB;AACD,OAFD,MAEO,IAAId,MAAM,IAAI,CAAC2F,SAAS,CAAC3F,MAAzB,EAAiC;AACtC,aAAK6F,KAAL;AACD;;AAED,UAAI7F,MAAM,IAAI0B,MAAM,KAAKiE,SAAS,CAACjE,MAAnC,EAA2C;AACzC,YAAIiE,SAAS,CAACxE,KAAV,CAAgB,KAAKyB,KAAL,CAAW1H,OAA3B,CAAJ,EAAyC;AACvCgI,UAAAA,UAAU,CAAC,KAAKwB,QAAN,EAAgB/C,WAAhB,CAAV;AACD,SAFD,MAEO;AACL,eAAK/U,KAAL,CAAW0T,cAAX;AACD;AACF;;AAED,UAAIN,MAAM,IAAI2F,SAAS,CAAC3F,MAApB,IAA8B,KAAK4C,KAAL,CAAW1H,OAAX,KAAuByK,SAAS,CAAC5E,QAAnE,EAA6E;AAC3E,aAAK+E,QAAL,CAAcH,SAAS,CAAC5E,QAAxB;AACD;AACF;AAzBA,GAXgB,EAqChB;AACD1T,IAAAA,GAAG,EAAE,sBADJ;AAEDO,IAAAA,KAAK,EAAE,SAASmY,oBAAT,GAAgC;AACrC,UAAI/F,MAAM,GAAG,KAAKpT,KAAL,CAAWoT,MAAxB;;AAEA,UAAIA,MAAJ,EAAY;AACV,aAAK6F,KAAL;AACD;;AAED,UAAI,KAAKjD,KAAL,CAAWK,QAAf,EAAyB;AACvB,aAAKL,KAAL,CAAWK,QAAX,CAAoBtE,UAApB;AACD;AACF;AAZA,GArCgB,EAkDhB;AACDtR,IAAAA,GAAG,EAAE,MADJ;AAEDO,IAAAA,KAAK,EAAE,SAAS6X,IAAT,CAAc3E,OAAd,EAAuB;AAC5B,UAAIkF,MAAM,GAAG,IAAb;;AAEA,UAAI5F,WAAW,GAAG,KAAKxT,KAAL,CAAWwT,WAA7B;AACA,WAAKqC,QAAL,CAAc,UAAUO,SAAV,EAAqB;AACjC,eAAO;AACLhD,UAAAA,MAAM,EAAE,IADH;AAEL9E,UAAAA,OAAO,EAAE4F,OAAO,KAAK7O,SAAZ,GAAwB6O,OAAxB,GAAkCkC,SAAS,CAAC9H;AAFhD,SAAP;AAID,OALD,EAKG,YAAY;AACbgI,QAAAA,UAAU,CAAC8C,MAAM,CAACtB,QAAR,EAAkB,CAAlB,CAAV;AACAsB,QAAAA,MAAM,CAACX,aAAP,GAAuBW,MAAM,CAAC/D,MAAP,CAAc/G,OAArC;AACA,YAAI,CAAC8K,MAAM,CAACpZ,KAAP,CAAa8S,gBAAlB,EAAoCsG,MAAM,CAAC/D,MAAP,CAAc/G,OAAd,CAAsB+K,KAAtB;;AAEpC,YAAI7F,WAAJ,EAAiB;AACfA,UAAAA,WAAW,CAAC4F,MAAM,CAACX,aAAR,CAAX;AACD;AACF,OAbD;AAcAzB,MAAAA,MAAM,CAACsC,gBAAP,CAAwB,QAAxB,EAAkC,KAAKZ,iBAAvC,EAA0D,KAA1D;AACA1B,MAAAA,MAAM,CAACsC,gBAAP,CAAwB,SAAxB,EAAmC,KAAKC,cAAxC,EAAwD,KAAxD;AACD;AAtBA,GAlDgB,EAyEhB;AACD9Y,IAAAA,GAAG,EAAE,OADJ;AAEDO,IAAAA,KAAK,EAAE,SAASiY,KAAT,GAAiB;AACtB,WAAKpD,QAAL,CAAc,UAAUO,SAAV,EAAqB;AACjC,YAAIA,SAAS,CAACC,QAAd,EAAwB;AACtBD,UAAAA,SAAS,CAACC,QAAV,CAAmBtE,UAAnB;AACD;;AAED,eAAO;AACLqB,UAAAA,MAAM,EAAE,KADH;AAELiD,UAAAA,QAAQ,EAAE;AAFL,SAAP;AAID,OATD,EASG,KAAK5C,aATR;AAUAuD,MAAAA,MAAM,CAACwC,mBAAP,CAA2B,QAA3B,EAAqC,KAAKd,iBAA1C;AACA1B,MAAAA,MAAM,CAACwC,mBAAP,CAA2B,SAA3B,EAAsC,KAAKD,cAA3C;AACD;AAfA,GAzEgB,EAyFhB;AACD9Y,IAAAA,GAAG,EAAE,eADJ;AAEDO,IAAAA,KAAK,EAAE,SAASyS,aAAT,GAAyB;AAC9B,UAAIA,aAAa,GAAG,KAAKzT,KAAL,CAAWyT,aAA/B;;AAEA,UAAIA,aAAJ,EAAmB;AACjBA,QAAAA,aAAa,CAAC,KAAKgF,aAAN,CAAb;AACD;AACF;AARA,GAzFgB,EAkGhB;AACDhY,IAAAA,GAAG,EAAE,QADJ;AAEDO,IAAAA,KAAK,EAAE,SAASyY,MAAT,GAAkB;AACvB,UAAIC,MAAM,GAAG,IAAb;;AAEA,UAAIC,YAAY,GAAG,KAAK3Z,KAAxB;AAAA,UACIyH,SAAS,GAAGkS,YAAY,CAAClS,SAD7B;AAAA,UAEI8M,KAAK,GAAGoF,YAAY,CAACpF,KAFzB;AAAA,UAGI5F,aAAa,GAAGgL,YAAY,CAAChL,aAHjC;AAAA,UAIImF,WAAW,GAAG6F,YAAY,CAAC7F,WAJ/B;AAAA,UAKIC,eAAe,GAAG4F,YAAY,CAAC5F,eALnC;AAAA,UAMIC,cAAc,GAAG2F,YAAY,CAAC3F,cANlC;AAAA,UAOIC,oBAAoB,GAAG0F,YAAY,CAAC1F,oBAPxC;AAAA,UAQIzF,UAAU,GAAGmL,YAAY,CAACnL,UAR9B;AAAA,UASIkF,cAAc,GAAGiG,YAAY,CAACjG,cATlC;AAAA,UAUIJ,SAAS,GAAGqG,YAAY,CAACrG,SAV7B;AAAA,UAWID,kBAAkB,GAAGsG,YAAY,CAACtG,kBAXtC;AAAA,UAYIE,UAAU,GAAGoG,YAAY,CAACpG,UAZ9B;AAAA,UAaII,UAAU,GAAGgG,YAAY,CAAChG,UAb9B;AAAA,UAcIZ,YAAY,GAAG4G,YAAY,CAAC5G,YAdhC;AAAA,UAeIC,wBAAwB,GAAG2G,YAAY,CAAC3G,wBAf5C;AAAA,UAgBIhE,kBAAkB,GAAG2K,YAAY,CAAC3K,kBAhBtC;AAAA,UAiBIgG,qBAAqB,GAAG2E,YAAY,CAAC3E,qBAjBzC;AAAA,UAkBIX,QAAQ,GAAGsF,YAAY,CAACtF,QAlB5B;AAAA,UAmBIC,QAAQ,GAAGqF,YAAY,CAACrF,QAnB5B;AAAA,UAoBIrI,OAAO,GAAG0N,YAAY,CAAC1N,OApB3B;AAAA,UAqBIF,WAAW,GAAG4N,YAAY,CAAC5N,WArB/B;AAAA,UAsBI6N,YAAY,GAAGD,YAAY,CAACC,YAtBhC;AAAA,UAuBI9G,gBAAgB,GAAG6G,YAAY,CAAC7G,gBAvBpC;AAAA,UAwBI5D,iBAAiB,GAAGyK,YAAY,CAACzK,iBAxBrC;AAyBA,UAAI2K,YAAY,GAAG,KAAK7D,KAAxB;AAAA,UACI5C,MAAM,GAAGyG,YAAY,CAACzG,MAD1B;AAAA,UAEI9E,OAAO,GAAGuL,YAAY,CAACvL,OAF3B;AAAA,UAGIkK,KAAK,GAAGqB,YAAY,CAACrB,KAHzB;AAAA,UAIItM,SAAS,GAAG2N,YAAY,CAAC1Q,GAJ7B;AAAA,UAKIgD,WAAW,GAAG0N,YAAY,CAACzQ,KAL/B;AAAA,UAMIgD,YAAY,GAAGyN,YAAY,CAACxQ,MANhC;AAAA,UAOIgD,UAAU,GAAGwN,YAAY,CAACvQ,IAP9B;AAAA,UAQIuF,WAAW,GAAGgL,YAAY,CAACtQ,KAR/B;AAAA,UASIuF,YAAY,GAAG+K,YAAY,CAACrQ,MAThC;AAAA,UAUIwB,WAAW,GAAG6O,YAAY,CAACtP,CAV/B;AAAA,UAWIW,YAAY,GAAG2O,YAAY,CAACrP,CAXhC;AAAA,UAYI8B,WAAW,GAAGuN,YAAY,CAACvN,WAZ/B;AAAA,UAaIC,YAAY,GAAGsN,YAAY,CAACtN,YAbhC;AAAA,UAcIC,cAAc,GAAGqN,YAAY,CAACrN,cAdlC;AAeIqN,MAAAA,YAAY,CAAC/D,aAAb;;AAEJ,UAAI1C,MAAJ,EAAY;AACV,eAAO,aAAazU,KAAK,CAACkJ,aAAN,CAAoB2K,MAApB,EAA4B,IAA5B,EAAkC,aAAa7T,KAAK,CAACkJ,aAAN,CAAoBf,WAApB,EAAiC,IAAjC,CAA/C,EAAuF,aAAanI,KAAK,CAACkJ,aAAN,CAAoBoI,sBAApB,EAA4C;AAClKtJ,UAAAA,IAAI,EAAE4N,KAAK,CAACjG,OAAD,CADuJ;AAElK4B,UAAAA,OAAO,EAAE,SAASA,OAAT,GAAmB;AAC1B,mBAAOwJ,MAAM,CAACI,eAAP,CAAuBvF,KAAK,CAACjG,OAAD,CAA5B,CAAP;AACD;AAJiK,SAA5C,CAApG,EAKhB,aAAa3P,KAAK,CAACkJ,aAAN,CAAoBwK,wBAApB,EAA8C;AAC7D1L,UAAAA,IAAI,EAAE4N,KAAK,CAACjG,OAAD,CADkD;AAE7D4B,UAAAA,OAAO,EAAE,SAASA,OAAT,GAAmB;AAC1B,mBAAOwJ,MAAM,CAACI,eAAP,CAAuBvF,KAAK,CAACjG,OAAD,CAA5B,CAAP;AACD;AAJ4D,SAA9C,CALG,EAUhB,aAAa3P,KAAK,CAACkJ,aAAN,CAAoB+G,OAApB,EAA6B;AAC5ClH,UAAAA,OAAO,EAAE,KAAKqS,gBAD8B;AAE5CC,UAAAA,UAAU,EAAE,SAASA,UAAT,CAAoBC,CAApB,EAAuB;AACjC,mBAAOP,MAAM,CAAChK,IAAP,GAAcuK,CAArB;AACD,WAJ2C;AAK5CjP,UAAAA,WAAW,EAAEA,WAL+B;AAM5CE,UAAAA,YAAY,EAAEA,YAN8B;AAO5C2D,UAAAA,WAAW,EAAEA,WAP+B;AAQ5CC,UAAAA,YAAY,EAAEA,YAR8B;AAS5C5C,UAAAA,SAAS,EAAEA,SATiC;AAU5CG,UAAAA,UAAU,EAAEA,UAVgC;AAW5CI,UAAAA,OAAO,EAAE6G,SAXmC;AAY5CrH,UAAAA,OAAO,EAAEA,OAZmC;AAa5C8C,UAAAA,WAAW,EAAEwF,KAAK,CAACjG,OAAD,CAAL,CAAeS,WAbgB;AAc5CtH,UAAAA,SAAS,EAAEkH,aAdiC;AAe5CK,UAAAA,kBAAkB,EAAEuF,KAAK,CAACjG,OAAD,CAAL,CAAesG,eAAf,KAAmC,KAAnC,IAA4C5F,kBAA5C,GAAiE,CAACuF,KAAK,CAACjG,OAAD,CAAL,CAAesG,eAAjF,GAAmG5F,kBAf3E;AAgB5CC,UAAAA,2BAA2B,EAAE,GAAGnH,MAAH,CAAUqN,EAAE,CAACzF,IAAH,CAAQV,kBAAlB,EAAsC,GAAtC,EAA2ClH,MAA3C,CAAkDkL,wBAAlD,CAhBe;AAiB5C9D,UAAAA,iBAAiB,EAAEA;AAjByB,SAA7B,CAVG,EA4BhB,aAAavQ,KAAK,CAACkJ,aAAN,CAAoBxI,SAApB,EAA+B;AAC9C6H,UAAAA,QAAQ,EAAE4L;AADoC,SAA/B,EAEd,aAAanU,KAAK,CAACkJ,aAAN,CAAoBgE,KAApB,EAA2B;AACzC6G,UAAAA,GAAG,EAAE,KAAK2C,MAD+B;AAEzCvG,UAAAA,YAAY,EAAEA,YAF2B;AAGzCD,UAAAA,WAAW,EAAEA,WAH4B;AAIzC3C,UAAAA,SAAS,EAAEA,SAJ8B;AAKzCC,UAAAA,WAAW,EAAEA,WAL4B;AAMzCC,UAAAA,YAAY,EAAEA,YAN2B;AAOzCC,UAAAA,UAAU,EAAEA,UAP6B;AAQzCrB,UAAAA,WAAW,EAAEA,WAR4B;AASzCE,UAAAA,YAAY,EAAEA,YAT2B;AAUzCoB,UAAAA,WAAW,EAAEA,WAV4B;AAWzCC,UAAAA,YAAY,EAAEA,YAX2B;AAYzCC,UAAAA,cAAc,EAAEA,cAZyB;AAazCC,UAAAA,OAAO,EAAE6G,SAbgC;AAczC4G,UAAAA,QAAQ,EAAE,CAAC,CAd8B;AAezC5L,UAAAA,OAAO,EAAEA,OAfgC;AAgBzCpE,UAAAA,KAAK,EAAEqK,KAAK,CAACjG,OAAD,CAAL,CAAepE,KAAf,GAAuBqK,KAAK,CAACjG,OAAD,CAAL,CAAepE,KAAtC,GAA8C,EAhBZ;AAiBzC+B,UAAAA,OAAO,EAAEA,OAjBgC;AAkBzCxE,UAAAA,SAAS,EAAExI,EAAE,CAACkW,EAAE,CAACE,MAAH,CAAUD,IAAX,EAAiB3N,SAAjB,EAA4B3G,eAAe,CAAC,EAAD,EAAKqU,EAAE,CAACE,MAAH,CAAUjC,MAAf,EAAuBA,MAAvB,CAA3C,CAlB4B;AAmBzCrH,UAAAA,WAAW,EAAEA,WAnB4B;AAoBzCC,UAAAA,aAAa,EAAE,CAAC4N,YApByB;AAqBzCO,UAAAA,IAAI,EAAE;AArBmC,SAA3B,EAsBbP,YAAY,GAAG,aAAajb,KAAK,CAACkJ,aAAN,CAAoB+R,YAApB,EAAkC;AAC/DtL,UAAAA,OAAO,EAAEA,OADsD;AAE/D8L,UAAAA,UAAU,EAAE7F,KAAK,CAACrU,MAF6C;AAG/DgZ,UAAAA,QAAQ,EAAE,KAAKA,QAHgD;AAI/DD,UAAAA,KAAK,EAAEvF,cAJwD;AAK/De,UAAAA,OAAO,EAAEF,KAAK,CAACjG,OAAD,CAAL,KAAmB,OAAOiG,KAAK,CAACjG,OAAD,CAAL,CAAemG,OAAtB,KAAkC,UAAlC,GAA+CF,KAAK,CAACjG,OAAD,CAAL,CAAemG,OAAf,CAAuB;AAChGwE,YAAAA,KAAK,EAAEvF,cADyF;AAEhG2G,YAAAA,IAAI,EAAE,KAAKnB,QAFqF;AAGhGV,YAAAA,KAAK,EAAEA,KAHyF;AAIhG7R,YAAAA,IAAI,EAAE2H,OAAO,GAAG;AAJgF,WAAvB,CAA/C,GAKvBiG,KAAK,CAACjG,OAAD,CAAL,CAAemG,OALX;AALsD,SAAlC,EAW5B,KAAKzU,KAAL,CAAWyS,QAXiB,CAAhB,GAWW,aAAa9T,KAAK,CAACkJ,aAAN,CAAoBlJ,KAAK,CAAC2b,QAA1B,EAAoC,IAApC,EAA0C,KAAKta,KAAL,CAAWyS,QAArD,EAA+D8B,KAAK,CAACjG,OAAD,CAAL,KAAmB,OAAOiG,KAAK,CAACjG,OAAD,CAAL,CAAemG,OAAtB,KAAkC,UAAlC,GAA+CF,KAAK,CAACjG,OAAD,CAAL,CAAemG,OAAf,CAAuB;AAC7LwE,UAAAA,KAAK,EAAEvF,cADsL;AAE7L2G,UAAAA,IAAI,EAAE,KAAKnB,QAFkL;AAG7LV,UAAAA,KAAK,EAAEA,KAHsL;AAI7L7R,UAAAA,IAAI,EAAE2H,OAAO,GAAG;AAJ6K,SAAvB,CAA/C,GAKpHiG,KAAK,CAACjG,OAAD,CAAL,CAAemG,OALkF,CAA/D,EAKTjG,UAAU,IAAI,aAAa7P,KAAK,CAACkJ,aAAN,CAAoBiG,KAApB,EAA2B;AAClF,4BAAkB,OADgE;AAElF/B,UAAAA,WAAW,EAAEA;AAFqE,SAA3B,EAGtD,OAAOgH,YAAP,KAAwB,UAAxB,GAAqCA,YAAY,CAACzE,OAAO,GAAG,CAAX,EAAciG,KAAK,CAACrU,MAApB,CAAjD,GAA+EoO,OAAO,GAAG,CAHnC,CALlB,EAQyD,CAACwF,WAAW,IAAIE,cAAhB,KAAmC,aAAarV,KAAK,CAACkJ,aAAN,CAAoBmG,QAApB,EAA8B;AAC5K,4BAAkB;AAD0J,SAA9B,EAE7I8F,WAAW,IAAI,aAAanV,KAAK,CAACkJ,aAAN,CAAoBe,OAApB,EAA6B;AAC1DlB,UAAAA,OAAO,EAAE,OAAO4M,QAAP,KAAoB,UAApB,GAAiCA,QAAjC,GAA4C,KAAKA,QADA;AAE1DpN,UAAAA,QAAQ,EAAEoH,OAAO,KAAK,CAFoC;AAG1D1G,UAAAA,KAAK,EAAE+L,UAAU,GAAGA,UAAH,GAAgB;AAHyB,SAA7B,CAFiH,EAM5IK,cAAc,IAAI,aAAarV,KAAK,CAACkJ,aAAN,CAAoBqG,UAApB,EAAgC;AACjE,4BAAkB;AAD+C,SAAhC,EAEhCqG,KAAK,CAAChJ,GAAN,CAAU,UAAUhF,CAAV,EAAatG,CAAb,EAAgB;AAC3B,iBAAO,aAAatB,KAAK,CAACkJ,aAAN,CAAoBwG,GAApB,EAAyB;AAC3C5N,YAAAA,GAAG,EAAE,GAAGqH,MAAH,CAAUvB,CAAC,CAACuD,QAAF,GAAavD,CAAC,CAACuD,QAAf,GAA0B,OAApC,EAA6C,GAA7C,EAAkDhC,MAAlD,CAAyD7H,CAAzD,CADsC;AAE3CyH,YAAAA,OAAO,EAAE,SAASA,OAAT,GAAmB;AAC1B,qBAAOgS,MAAM,CAACR,QAAP,CAAgBjZ,CAAhB,CAAP;AACD,aAJ0C;AAK3CqO,YAAAA,OAAO,EAAEA,OALkC;AAM3CC,YAAAA,KAAK,EAAEtO,CANoC;AAO3C8L,YAAAA,WAAW,EAAEA,WAP8B;AAQ3C7E,YAAAA,QAAQ,EAAEoH,OAAO,KAAKrO,CAAZ,IAAiB+U,qBARgB;AAS3CxG,YAAAA,UAAU,EAAEyF,oBAT+B;AAU3C,8BAAkB,KAVyB;AAW3CxM,YAAAA,SAAS,EAAExI,EAAE,CAACkW,EAAE,CAACG,GAAH,CAAOF,IAAR,EAActU,eAAe,CAAC,EAAD,EAAKqU,EAAE,CAACG,GAAH,CAAOC,MAAZ,EAAoBjH,OAAO,KAAKrO,CAAhC,CAA7B,CAX8B;AAY3C,0BAAcsG,CAAC,CAACsO;AAZ2B,WAAzB,CAApB;AAcD,SAfE,CAFgC,CAN6G,EAuB3If,WAAW,IAAI,aAAanV,KAAK,CAACkJ,aAAN,CAAoBe,OAApB,EAA6B;AAC5DlB,UAAAA,OAAO,EAAE4G,OAAO,KAAKiG,KAAK,CAACrU,MAAN,GAAe,CAA3B,GAA+BmT,kBAAkB,GAAGK,cAAH,GAAoB,YAAY,CAAE,CAAnF,GAAsF,OAAOW,QAAP,KAAoB,UAApB,GAAiCA,QAAjC,GAA4C,KAAKA,QADpF;AAE5DnN,UAAAA,QAAQ,EAAE,CAACmM,kBAAD,IAAuB/E,OAAO,KAAKiG,KAAK,CAACrU,MAAN,GAAe,CAFA;AAG5DyH,UAAAA,QAAQ,EAAE,IAHkD;AAI5DC,UAAAA,KAAK,EAAEyL,kBAAkB,IAAI/E,OAAO,KAAKiG,KAAK,CAACrU,MAAN,GAAe,CAAjD,GAAqDmT,kBAArD,GAA0EE,UAAU,GAAGA,UAAH,GAAgB;AAJ/C,SAA7B,CAvB+G,CARzG,EAoClCQ,eAAe,GAAG,aAAapV,KAAK,CAACkJ,aAAN,CAAoBkB,WAApB,EAAiC;AACnErB,UAAAA,OAAO,EAAEgM,cAD0D;AAEnEjM,UAAAA,SAAS,EAAE;AAFwD,SAAjC,CAAhB,GAGf,IAvCkC,CAjCvB,CAFC,CA5BG,CAApB;AAuGD;;AAED,aAAO,IAAP;AACD;AA1JA,GAlGgB,CAAP,CAAZ;;AA+PA,SAAO+N,IAAP;AACD,CAhhBuB,CAghBtBxW,SAhhBsB,CAAxB;;AAkhBA,IAAI4X,YAAY,GAAG,SAASA,YAAT,CAAsBjO,IAAtB,EAA4BhC,IAA5B,EAAkC0O,MAAlC,EAA0C;AAC3D,MAAI9K,CAAC,GAAGoD,IAAI,CAACmJ,GAAL,CAAS9M,QAAQ,CAACyH,eAAT,CAAyBsF,WAAlC,EAA+CC,MAAM,CAACC,UAAP,IAAqB,CAApE,CAAR;AACA,MAAIzM,CAAC,GAAGmD,IAAI,CAACmJ,GAAL,CAAS9M,QAAQ,CAACyH,eAAT,CAAyByF,YAAlC,EAAgDF,MAAM,CAACG,WAAP,IAAsB,CAAtE,CAAR;;AAEA,MAAIoD,eAAe,GAAGvR,WAAW,CAACqM,MAAD,CAAjC;AAAA,MACI/I,WAAW,GAAGiO,eAAe,CAAChR,KADlC;AAAA,MAEIgD,YAAY,GAAGgO,eAAe,CAAC/Q,MAFnC;;AAIA,MAAIG,KAAK,GAAG;AACVR,IAAAA,GAAG,EAAEqB,CAAC,GAAG,EADC;AAEVpB,IAAAA,KAAK,EAAEmB,CAAC,GAAG,CAAJ,GAAQ,CAFL;AAGVlB,IAAAA,MAAM,EAAEmB,CAAC,GAAG,CAAJ,GAAQ,CAHN;AAIVlB,IAAAA,IAAI,EAAEiB,CAAC,GAAG,CAAJ,GAAQ+B,WAAW,GAAG,CAJlB;AAKV/C,IAAAA,KAAK,EAAE,CALG;AAMVC,IAAAA,MAAM,EAAE,CANE;AAOVe,IAAAA,CAAC,EAAEA,CAPO;AAQVC,IAAAA,CAAC,EAAEA,CARO;AASVgC,IAAAA,cAAc,EAAE;AATN,GAAZ;;AAYA,MAAI7D,IAAJ,EAAU;AACRgB,IAAAA,KAAK,GAAGF,kBAAkB,CAACd,IAAD,EAAOhC,IAAP,CAA1B;AACD;;AAED,SAAO,SAASmO,MAAT,GAAkB;AACvB,WAAOlT,cAAc,CAACA,cAAc,CAAC;AACnC2I,MAAAA,CAAC,EAAEA,CADgC;AAEnCC,MAAAA,CAAC,EAAEA,CAFgC;AAGnC8B,MAAAA,WAAW,EAAEA,WAHsB;AAInCC,MAAAA,YAAY,EAAEA,YAJqB;AAKnCC,MAAAA,cAAc,EAAE7F,IAAI,CAAC6E;AALc,KAAD,EAMjC7B,KANiC,CAAf,EAMV,EANU,EAMN;AACb6O,MAAAA,KAAK,EAAE7P,IAAI,GAAG,IAAH,GAAU;AADR,KANM,CAArB;AASD,GAVD;AAWD,CAnCD;;AAqCA6M,IAAI,CAAClN,SAAL,GAAiBA,SAAjB;AACAkN,IAAI,CAACN,YAAL,GAAoBA,YAApB;AAEA,eAAeM,IAAf;AACA,SAAS5M,OAAO,IAAIrB,KAApB,EAA2BuG,KAA3B,EAAkC/E,WAAW,IAAID,KAAjD,EAAwDkF,QAAxD,EAAkEK,GAAlE,EAAuEH,UAAvE","sourcesContent":["import 'focus-outline-manager';\nimport React, { useState, useEffect, useRef, createRef, Component } from 'react';\nimport cn from 'classnames';\nimport scrollSmooth from 'scroll-smooth';\nimport Scrollparent from 'scrollparent';\nimport debounce from 'lodash.debounce';\nimport FocusLock from 'react-focus-lock';\nimport styled, { createGlobalStyle } from 'styled-components';\nimport PropTypes from 'prop-types';\nimport { createPortal } from 'react-dom';\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (typeof call === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return _possibleConstructorReturn(this, result);\n  };\n}\n\nfunction _taggedTemplateLiteral(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n\n  return arr2;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n\n      var F = function () {};\n\n      return {\n        s: F,\n        n: function () {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function (e) {\n          throw e;\n        },\n        f: F\n      };\n    }\n\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var normalCompletion = true,\n      didErr = false,\n      err;\n  return {\n    s: function () {\n      it = o[Symbol.iterator]();\n    },\n    n: function () {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function (e) {\n      didErr = true;\n      err = e;\n    },\n    f: function () {\n      try {\n        if (!normalCompletion && it.return != null) it.return();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\n\nvar _templateObject;\nvar GlobalStyle = createGlobalStyle(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  .focus-outline-hidden :focus {\\n      outline: none;\\n  }\\n\"])));\n\nvar _templateObject$1;\nvar SvgButton = styled.button(_templateObject$1 || (_templateObject$1 = _taggedTemplateLiteral([\"\\n  display: block;\\n  padding: 0;\\n  border: 0;\\n  background: none;\\n  font-size: 0;\\n  cursor: \", \";\\n\"])), function (props) {\n  return props.disabled ? 'not-allowed' : 'pointer';\n});\n\nvar _templateObject$2, _templateObject2;\nvar Label = styled.span(_templateObject$2 || (_templateObject$2 = _taggedTemplateLiteral([\"\\n  font-size: 12px;\\n  line-height: 1;\\n\"])));\n\nfunction Arrow(_ref) {\n  var className = _ref.className,\n      onClick = _ref.onClick,\n      inverted = _ref.inverted,\n      label = _ref.label,\n      disabled = _ref.disabled;\n  return /*#__PURE__*/React.createElement(SvgButton, {\n    className: className,\n    onClick: onClick,\n    \"data-tour-elem\": \"\".concat(inverted ? 'right' : 'left', \"-arrow\"),\n    disabled: disabled\n  }, label ? /*#__PURE__*/React.createElement(Label, null, label) : /*#__PURE__*/React.createElement(\"svg\", {\n    viewBox: \"0 0 18.4 14.4\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: inverted ? 'M17 7.2H1M10.8 1L17 7.2l-6.2 6.2' : 'M1.4 7.2h16M7.6 1L1.4 7.2l6.2 6.2',\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: \"2\",\n    strokeLinecap: \"round\",\n    strokeMiterlimit: \"10\"\n  })));\n}\n\nArrow.propTypes = {\n  className: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired,\n  inverted: PropTypes.bool,\n  label: PropTypes.node,\n  disabled: PropTypes.bool\n};\nvar Arrow$1 = styled(Arrow)(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n  color: \", \";\\n\\n  \", \";\\n  \", \";\\n\\n  &:hover {\\n    color: \", \";\\n  }\\n\"])), function (props) {\n  return props.disabled ? '#caccce' : '#646464';\n}, function (props) {\n  return props.inverted ? 'margin-left: 24px;' : 'margin-right: 24px;';\n}, function (props) {\n  return !props.label && \"\\n    width: 16px;\\n    height: 12px;\\n    flex: 0 0 16px;\\n  \";\n}, function (props) {\n  return props.disabled ? '#caccce' : '#000';\n});\n\nvar _templateObject$3;\n\nfunction Close(_ref) {\n  var className = _ref.className,\n      onClick = _ref.onClick;\n  return /*#__PURE__*/React.createElement(SvgButton, {\n    className: className,\n    onClick: onClick\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    viewBox: \"0 0 9.1 9.1\"\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"currentColor\",\n    d: \"M5.9 4.5l2.8-2.8c.4-.4.4-1 0-1.4-.4-.4-1-.4-1.4 0L4.5 3.1 1.7.3C1.3-.1.7-.1.3.3c-.4.4-.4 1 0 1.4l2.8 2.8L.3 7.4c-.4.4-.4 1 0 1.4.2.2.4.3.7.3s.5-.1.7-.3L4.5 6l2.8 2.8c.3.2.5.3.8.3s.5-.1.7-.3c.4-.4.4-1 0-1.4L5.9 4.5z\"\n  })));\n}\n\nClose.propTypes = {\n  className: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired\n};\nvar StyledClose = styled(Close)(_templateObject$3 || (_templateObject$3 = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  top: 22px;\\n  right: 22px;\\n  width: 9px;\\n  height: 9px;\\n  color: #5e5e5e;\\n  &:hover {\\n    color: #000;\\n  }\\n\"])));\n\nfunction getNodeRect(node) {\n  var _node$getBoundingClie = node.getBoundingClientRect(),\n      top = _node$getBoundingClie.top,\n      right = _node$getBoundingClie.right,\n      bottom = _node$getBoundingClie.bottom,\n      left = _node$getBoundingClie.left,\n      width = _node$getBoundingClie.width,\n      height = _node$getBoundingClie.height;\n\n  return {\n    top: top,\n    right: right,\n    bottom: bottom,\n    left: left,\n    width: width,\n    height: height\n  };\n}\nfunction getHighlightedRect(node, step) {\n  if (!step.highlightedSelectors) {\n    return getNodeRect(node);\n  }\n\n  var attrs = getNodeRect(node);\n\n  var _iterator = _createForOfIteratorHelper(step.highlightedSelectors),\n      _step;\n\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var selector = _step.value;\n      var element = document.querySelector(selector);\n\n      if (!element || element.style.display === 'none' || element.style.visibility === 'hidden') {\n        continue;\n      }\n\n      var rect = getNodeRect(element);\n\n      if (rect.top < attrs.top) {\n        attrs.top = rect.top;\n      }\n\n      if (rect.right > attrs.right) {\n        attrs.right = rect.right;\n      }\n\n      if (rect.bottom > attrs.bottom) {\n        attrs.bottom = rect.bottom;\n      }\n\n      if (rect.left < attrs.left) {\n        attrs.left = rect.left;\n      }\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n\n  attrs.width = attrs.right - attrs.left;\n  attrs.height = attrs.bottom - attrs.top;\n  return attrs;\n}\nfunction inView(_ref) {\n  var top = _ref.top,\n      right = _ref.right,\n      bottom = _ref.bottom,\n      left = _ref.left,\n      w = _ref.w,\n      h = _ref.h,\n      _ref$threshold = _ref.threshold,\n      threshold = _ref$threshold === void 0 ? 0 : _ref$threshold;\n  return top >= 0 + threshold && left >= 0 + threshold && bottom <= h - threshold && right <= w - threshold;\n}\nfunction isBody(node) {\n  return node === document.querySelector('body') || node === document.querySelector('html');\n}\nvar isHoriz = function isHoriz(pos) {\n  return /(left|right)/.test(pos);\n};\nvar isOutsideX = function isOutsideX(val, windowWidth) {\n  return val > windowWidth;\n};\nvar isOutsideY = function isOutsideY(val, windowHeight) {\n  return val > windowHeight;\n};\nvar safe = function safe(sum) {\n  return sum < 0 ? 0 : sum;\n};\nfunction bestPositionOf(positions) {\n  return Object.keys(positions).map(function (p) {\n    return {\n      position: p,\n      value: positions[p]\n    };\n  }).sort(function (a, b) {\n    return b.value - a.value;\n  }).map(function (p) {\n    return p.position;\n  });\n}\n\nvar _templateObject$4;\nvar Guide = styled.div(_templateObject$4 || (_templateObject$4 = _taggedTemplateLiteral([\"\\n  --reactour-accent: \", \";\\n  \", \"\\n  position: fixed;\\n  transition: transform 0.3s;\\n  top: 0;\\n  left: 0;\\n  z-index: 1000000;\\n\\n  transform: \", \";\\n\"])), function (props) {\n  return props.accentColor;\n}, function (props) {\n  return props.defaultStyles ? \"\\n  max-width: 331px;\\n  min-width: 150px;\\n  padding-right: 40px;\\n  border-radius: \".concat(props.rounded, \"px;\\n  background-color: #fff;\\n  padding: 24px 30px;\\n  box-shadow: 0 0.5em 3em rgba(0, 0, 0, 0.3);\\n  color: inherit;\\n  \") : '';\n}, function (props) {\n  var targetTop = props.targetTop,\n      targetRight = props.targetRight,\n      targetBottom = props.targetBottom,\n      targetLeft = props.targetLeft,\n      windowWidth = props.windowWidth,\n      windowHeight = props.windowHeight,\n      helperWidth = props.helperWidth,\n      helperHeight = props.helperHeight,\n      helperPosition = props.helperPosition,\n      padding = props.padding;\n  var available = {\n    left: targetLeft,\n    right: windowWidth - targetRight,\n    top: targetTop,\n    bottom: windowHeight - targetBottom\n  };\n\n  var couldPositionAt = function couldPositionAt(position) {\n    return available[position] > (isHoriz(position) ? helperWidth + padding * 2 : helperHeight + padding * 2);\n  };\n\n  var autoPosition = function autoPosition(coords) {\n    var positionsOrder = bestPositionOf(available);\n\n    for (var j = 0; j < positionsOrder.length; j++) {\n      if (couldPositionAt(positionsOrder[j])) {\n        return coords[positionsOrder[j]];\n      }\n    }\n\n    return coords.center;\n  };\n\n  var pos = function pos(helperPosition) {\n    if (Array.isArray(helperPosition)) {\n      var isOutX = isOutsideX(helperPosition[0], windowWidth);\n      var isOutY = isOutsideY(helperPosition[1], windowHeight);\n\n      var warn = function warn(axis, num) {\n        console.warn(\"\".concat(axis, \":\").concat(num, \" is outside window, falling back to center\"));\n      };\n\n      if (isOutX) warn('x', helperPosition[0]);\n      if (isOutY) warn('y', helperPosition[1]);\n      return [isOutX ? windowWidth / 2 - helperWidth / 2 : helperPosition[0], isOutY ? windowHeight / 2 - helperHeight / 2 : helperPosition[1]];\n    }\n\n    var hX = isOutsideX(targetLeft + helperWidth, windowWidth) ? isOutsideX(targetRight + padding, windowWidth) ? targetRight - helperWidth : targetRight - helperWidth + padding : targetLeft - padding;\n    var x = hX > padding ? hX : padding;\n    var hY = isOutsideY(targetTop + helperHeight, windowHeight) ? isOutsideY(targetBottom + padding, windowHeight) ? targetBottom - helperHeight : targetBottom - helperHeight + padding : targetTop - padding;\n    var y = hY > padding ? hY : padding;\n    var coords = {\n      top: [x, targetTop - helperHeight - padding * 2],\n      right: [targetRight + padding * 2, y],\n      bottom: [x, targetBottom + padding * 2],\n      left: [targetLeft - helperWidth - padding * 2, y],\n      center: [windowWidth / 2 - helperWidth / 2, windowHeight / 2 - helperHeight / 2]\n    };\n\n    if (helperPosition === 'center' || couldPositionAt(helperPosition)) {\n      return coords[helperPosition];\n    }\n\n    return autoPosition(coords);\n  };\n\n  var p = pos(helperPosition);\n  return \"translate(\".concat(Math.round(p[0]), \"px, \").concat(Math.round(p[1]), \"px)\");\n});\n\nvar _templateObject$5;\nvar Badge = styled.span(_templateObject$5 || (_templateObject$5 = _taggedTemplateLiteral([\"\\n  position: absolute;\\n  font-family: monospace;\\n  background: var(--reactour-accent);\\n  background: \", \";\\n  height: 1.875em;\\n  line-height: 2;\\n  padding-left: 0.8125em;\\n  padding-right: 0.8125em;\\n  font-size: 1em;\\n  border-radius: 1.625em;\\n  color: white;\\n  text-align: center;\\n  box-shadow: 0 0.25em 0.5em rgba(0, 0, 0, 0.3);\\n  top: -0.8125em;\\n  left: -0.8125em;\\n\"])), function (props) {\n  return props.accentColor;\n});\n\nvar _templateObject$6;\nvar Controls = styled.div(_templateObject$6 || (_templateObject$6 = _taggedTemplateLiteral([\"\\n  display: flex;\\n  margin-top: 24px;\\n  align-items: center;\\n\"])));\n\nvar _templateObject$7;\nvar Navigation = styled.nav(_templateObject$7 || (_templateObject$7 = _taggedTemplateLiteral([\"\\n  counter-reset: dot;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  flex-wrap: wrap;\\n\"])));\n\nvar _templateObject$8;\nvar Dot = styled.button(_templateObject$8 || (_templateObject$8 = _taggedTemplateLiteral([\"\\n  counter-increment: dot;\\n  width: 8px;\\n  height: 8px;\\n  border: \", \";\\n\\n  border-radius: 100%;\\n  padding: 0;\\n  display: block;\\n  margin: 4px;\\n  transition: opacity 0.3s, transform 0.3s;\\n  cursor: \", \";\\n  transform: scale(\", \");\\n\\n  color: \", \";\\n  background: \", \";\\n\\n  color: \", \";\\n  background: \", \";\\n\\n  &:before {\\n    content: counter(dot);\\n    position: absolute;\\n    bottom: calc(100% + 0.25em);\\n    left: 50%;\\n    opacity: 0;\\n    transform: translate(-50%, 1em);\\n    transition: 0.3s;\\n    display: \", \";\\n  }\\n\\n  &:hover {\\n    background-color: currentColor;\\n\\n    &:before {\\n      opacity: 0.5;\\n      transform: translate(-50%, -2px);\\n    }\\n  }\\n\"])), function (props) {\n  return props.current === props.index ? '0' : '1px solid #caccce';\n}, function (props) {\n  return props.disabled ? 'not-allowed' : 'pointer';\n}, function (props) {\n  return props.current === props.index ? 1.25 : 1;\n}, function (props) {\n  return props.current === props.index ? 'var(--reactour-accent)' : '#caccce';\n}, function (props) {\n  return props.current === props.index ? 'var(--reactour-accent)' : 'none';\n}, function (props) {\n  return props.current === props.index ? props.accentColor : '#caccce';\n}, function (props) {\n  return props.current === props.index ? props.accentColor : 'none';\n}, function (props) {\n  return props.showNumber ? 'block' : 'none';\n});\n\nvar _templateObject$9;\nvar SvgMaskWrapper = styled.div(_templateObject$9 || (_templateObject$9 = _taggedTemplateLiteral([\"\\n  opacity: \", \";\\n  color: \", \";\\n  width: 100%;\\n  left: 0;\\n  top: 0;\\n  height: 100%;\\n  position: fixed;\\n  z-index: 99999;\\n  pointer-events: none;\\n\"])), function (props) {\n  return !props.maskClassName && 0.7;\n}, function (props) {\n  return !props.maskClassName && '#000';\n});\nfunction SvgMask(_ref) {\n  var windowWidth = _ref.windowWidth,\n      windowHeight = _ref.windowHeight,\n      targetWidth = _ref.targetWidth,\n      targetHeight = _ref.targetHeight,\n      targetTop = _ref.targetTop,\n      targetLeft = _ref.targetLeft,\n      padding = _ref.padding,\n      rounded = _ref.rounded,\n      roundedStep = _ref.roundedStep,\n      disableInteraction = _ref.disableInteraction,\n      disableInteractionClassName = _ref.disableInteractionClassName,\n      className = _ref.className,\n      onClick = _ref.onClick,\n      highlightedBorder = _ref.highlightedBorder;\n  var width = safe(targetWidth + padding * 2);\n  var height = safe(targetHeight + padding * 2);\n  var top = safe(targetTop - padding);\n  var left = safe(targetLeft - padding);\n  var roundedRadius = roundedStep ? Math.min(width / 2, height / 2) : rounded;\n  return /*#__PURE__*/React.createElement(SvgMaskWrapper, {\n    onClick: onClick,\n    maskClassName: className\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    width: windowWidth,\n    height: windowHeight,\n    xmlns: \"http://www.w3.org/2000/svg\",\n    className: className\n  }, /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"mask\", {\n    id: \"mask-main\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    x: 0,\n    y: 0,\n    width: windowWidth,\n    height: windowHeight,\n    fill: \"white\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: left,\n    y: top,\n    width: width,\n    height: height,\n    fill: \"black\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: left - 1,\n    y: top - 1,\n    width: roundedRadius,\n    height: roundedRadius,\n    fill: \"white\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: left + roundedRadius,\n    cy: top + roundedRadius,\n    r: roundedRadius,\n    fill: \"black\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: left + width - roundedRadius + 1,\n    y: top - 1,\n    width: roundedRadius,\n    height: roundedRadius,\n    fill: \"white\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: left + width - roundedRadius,\n    cy: top + roundedRadius,\n    r: roundedRadius,\n    fill: \"black\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: left - 1,\n    y: top + height - roundedRadius + 1,\n    width: roundedRadius,\n    height: roundedRadius,\n    fill: \"white\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: left + roundedRadius,\n    cy: top + height - roundedRadius,\n    r: roundedRadius,\n    fill: \"black\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: left + width - roundedRadius + 1,\n    y: top + height - roundedRadius + 1,\n    width: roundedRadius,\n    height: roundedRadius,\n    fill: \"white\"\n  }), /*#__PURE__*/React.createElement(\"circle\", {\n    cx: left + width - roundedRadius,\n    cy: top + height - roundedRadius,\n    r: roundedRadius,\n    fill: \"black \"\n  })), /*#__PURE__*/React.createElement(\"clipPath\", {\n    id: \"clip-path\"\n  }, /*#__PURE__*/React.createElement(\"rect\", {\n    x: 0,\n    y: 0,\n    width: windowWidth,\n    height: top\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: 0,\n    y: top,\n    width: left,\n    height: height\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: targetLeft + targetWidth + padding,\n    y: top,\n    width: safe(windowWidth - targetWidth - left),\n    height: height\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: 0,\n    y: targetTop + targetHeight + padding,\n    width: windowWidth,\n    height: safe(windowHeight - targetHeight - top)\n  }))), /*#__PURE__*/React.createElement(\"rect\", {\n    x: 0,\n    y: 0,\n    width: windowWidth,\n    height: windowHeight,\n    fill: \"currentColor\",\n    mask: \"url(#mask-main)\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: 0,\n    y: 0,\n    width: windowWidth,\n    height: windowHeight,\n    fill: \"currentColor\",\n    clipPath: \"url(#clip-path)\",\n    pointerEvents: \"auto\"\n  }), /*#__PURE__*/React.createElement(\"rect\", {\n    x: left,\n    y: top,\n    width: width,\n    height: height,\n    pointerEvents: \"auto\",\n    fill: \"transparent\",\n    display: disableInteraction ? 'block' : 'none',\n    className: disableInteractionClassName\n  }), highlightedBorder && /*#__PURE__*/React.createElement(\"rect\", {\n    x: safe(left + highlightedBorder.width / 2.0),\n    y: safe(top + highlightedBorder.width / 2.0),\n    width: safe(width - highlightedBorder.width),\n    height: safe(height - highlightedBorder.width),\n    pointerEvents: \"auto\",\n    fill: \"none\",\n    strokeWidth: highlightedBorder.width,\n    stroke: highlightedBorder.color,\n    rx: roundedRadius - 2\n  })));\n}\nSvgMask.propTypes = {\n  windowWidth: PropTypes.number.isRequired,\n  windowHeight: PropTypes.number.isRequired,\n  targetWidth: PropTypes.number.isRequired,\n  targetHeight: PropTypes.number.isRequired,\n  targetTop: PropTypes.number.isRequired,\n  targetLeft: PropTypes.number.isRequired,\n  padding: PropTypes.number.isRequired,\n  rounded: PropTypes.number.isRequired,\n  roundedStep: PropTypes.bool,\n  disableInteraction: PropTypes.bool.isRequired,\n  disableInteractionClassName: PropTypes.string.isRequired,\n  highlightedBorder: PropTypes.shape({\n    color: PropTypes.string.isRequired,\n    width: PropTypes.number.isRequired\n  })\n};\n\nvar ReactourResizeObserver = (function (_ref) {\n  var step = _ref.step,\n      refresh = _ref.refresh;\n\n  var _useState = useState(0),\n      _useState2 = _slicedToArray(_useState, 2),\n      mutationsCounter = _useState2[0],\n      setMutationsCounter = _useState2[1]; // only use to notify main logic below\n  // that a resizeObservable has been added to DOM (or removed from it)\n\n\n  useEffect(function () {\n    if (!step.resizeObservables) {\n      return;\n    }\n\n    var incrementMutationsCounterIfObservable = function incrementMutationsCounterIfObservable(nodes) {\n      var _iterator = _createForOfIteratorHelper(nodes),\n          _step;\n\n      try {\n        var _loop = function _loop() {\n          var node = _step.value;\n\n          if (!node.attributes) {\n            return \"continue\";\n          }\n\n          var found = step.resizeObservables.find(function (observable) {\n            return node.matches(observable);\n          });\n\n          if (found) {\n            setMutationsCounter(mutationsCounter + 1);\n          }\n        };\n\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var _ret = _loop();\n\n          if (_ret === \"continue\") continue;\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    };\n\n    var mutationObserver = new MutationObserver(function (mutationsList) {\n      var _iterator2 = _createForOfIteratorHelper(mutationsList),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var mutation = _step2.value;\n\n          if (0 !== mutation.addedNodes.length) {\n            incrementMutationsCounterIfObservable(mutation.addedNodes);\n          }\n\n          if (0 !== mutation.removedNodes.length) {\n            incrementMutationsCounterIfObservable(mutation.removedNodes);\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    });\n    var observable = document.documentElement || document.body;\n    var config = {\n      childList: true,\n      subtree: true\n    };\n    mutationObserver.observe(observable, config);\n    return function () {\n      mutationObserver.disconnect();\n    };\n  }, [step, mutationsCounter]); // the main logic is here\n\n  useEffect(function () {\n    if (!step.resizeObservables) {\n      return;\n    }\n\n    var resizeObserver = new ResizeObserver(function (entries) {\n      refresh();\n    });\n\n    var _iterator3 = _createForOfIteratorHelper(step.resizeObservables),\n        _step3;\n\n    try {\n      for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n        var observable = _step3.value;\n        var element = document.querySelector(observable);\n\n        if (element) {\n          resizeObserver.observe(element);\n        }\n      }\n    } catch (err) {\n      _iterator3.e(err);\n    } finally {\n      _iterator3.f();\n    }\n\n    return function () {\n      resizeObserver.disconnect();\n    };\n  }, [step, mutationsCounter]);\n  return null;\n});\n\nvar ReactourMutationObserver = (function (_ref) {\n  var step = _ref.step,\n      refresh = _ref.refresh;\n  useEffect(function () {\n    if (!step.mutationObservables) {\n      return;\n    }\n\n    var refreshHighlightedRegionIfObservable = function refreshHighlightedRegionIfObservable(nodes) {\n      var _iterator = _createForOfIteratorHelper(nodes),\n          _step;\n\n      try {\n        var _loop = function _loop() {\n          var node = _step.value;\n\n          if (!node.attributes) {\n            return \"continue\";\n          }\n\n          var found = step.mutationObservables.find(function (observable) {\n            return node.matches(observable);\n          });\n\n          if (found) {\n            refresh();\n          }\n        };\n\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var _ret = _loop();\n\n          if (_ret === \"continue\") continue;\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    };\n\n    var mutationObserver = new MutationObserver(function (mutationsList) {\n      var _iterator2 = _createForOfIteratorHelper(mutationsList),\n          _step2;\n\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var mutation = _step2.value;\n\n          if (0 !== mutation.addedNodes.length) {\n            refreshHighlightedRegionIfObservable(mutation.addedNodes);\n          }\n\n          if (0 !== mutation.removedNodes.length) {\n            refreshHighlightedRegionIfObservable(mutation.removedNodes);\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    });\n    var observable = document.documentElement || document.body;\n    var config = {\n      childList: true,\n      subtree: true\n    };\n    mutationObserver.observe(observable, config);\n    return function () {\n      mutationObserver.disconnect();\n    };\n  }, [step]);\n  return null;\n});\n\nfunction Portal(_ref) {\n  var children = _ref.children;\n  var ref = useRef(null);\n\n  if (ref.current === null) {\n    ref.current = document.createElement('div');\n    ref.current.setAttribute('id', '___reactour');\n  }\n\n  useEffect(function () {\n    document.body.appendChild(ref.current);\n    return function () {\n      document.body.removeChild(ref.current);\n    };\n  }, [ref]);\n  return /*#__PURE__*/createPortal(children, ref.current);\n}\n\nvar propTypes = {\n  disableFocusLock: PropTypes.bool,\n  badgeContent: PropTypes.func,\n  highlightedMaskClassName: PropTypes.string,\n  children: PropTypes.oneOfType([PropTypes.node, PropTypes.element]),\n  className: PropTypes.string,\n  closeWithMask: PropTypes.bool,\n  inViewThreshold: PropTypes.number,\n  isOpen: PropTypes.bool.isRequired,\n  lastStepNextButton: PropTypes.node,\n  maskClassName: PropTypes.string,\n  maskSpace: PropTypes.number,\n  nextButton: PropTypes.node,\n  onAfterOpen: PropTypes.func,\n  onBeforeClose: PropTypes.func,\n  onRequestClose: PropTypes.func,\n  prevButton: PropTypes.node,\n  scrollDuration: PropTypes.number,\n  scrollOffset: PropTypes.number,\n  showButtons: PropTypes.bool,\n  showCloseButton: PropTypes.bool,\n  showNavigation: PropTypes.bool,\n  showNavigationNumber: PropTypes.bool,\n  showNumber: PropTypes.bool,\n  startAt: PropTypes.number,\n  goToStep: PropTypes.number,\n  getCurrentStep: PropTypes.func,\n  nextStep: PropTypes.func,\n  prevStep: PropTypes.func,\n  steps: PropTypes.arrayOf(PropTypes.shape({\n    selector: PropTypes.string,\n    content: PropTypes.oneOfType([PropTypes.node, PropTypes.element, PropTypes.func]).isRequired,\n    position: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.number), PropTypes.oneOf(['top', 'right', 'bottom', 'left', 'center'])]),\n    action: PropTypes.func,\n    style: PropTypes.object,\n    stepInteraction: PropTypes.bool,\n    navDotAriaLabel: PropTypes.string,\n    roundedStep: PropTypes.bool\n  })),\n  update: PropTypes.string,\n  updateDelay: PropTypes.number,\n  disableInteraction: PropTypes.bool,\n  disableDotsNavigation: PropTypes.bool,\n  disableKeyboardNavigation: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOf(['esc', 'right', 'left'])), PropTypes.bool]),\n  rounded: PropTypes.number,\n  accentColor: PropTypes.string,\n  highlightedBorder: PropTypes.shape({\n    color: PropTypes.string.isRequired,\n    width: PropTypes.number.isRequired\n  })\n};\nvar defaultProps = {\n  disableFocusLock: false,\n  showNavigation: true,\n  showNavigationNumber: true,\n  showButtons: true,\n  showCloseButton: true,\n  showNumber: true,\n  scrollDuration: 1,\n  maskSpace: 10,\n  updateDelay: 1,\n  disableInteraction: false,\n  rounded: 0,\n  accentColor: '#007aff',\n  closeWithMask: true\n};\n\nvar CN = {\n  mask: {\n    base: 'reactour__mask',\n    isOpen: 'reactour__mask--is-open',\n    disableInteraction: 'reactour__mask--disable-interaction'\n  },\n  helper: {\n    base: 'reactour__helper',\n    isOpen: 'reactour__helper--is-open'\n  },\n  dot: {\n    base: 'reactour__dot',\n    active: 'reactour__dot--is-active'\n  }\n};\n\nvar Tour = /*#__PURE__*/function (_Component) {\n  _inherits(Tour, _Component);\n\n  var _super = _createSuper(Tour);\n\n  function Tour() {\n    var _this;\n\n    _classCallCheck(this, Tour);\n\n    _this = _super.call(this);\n\n    _defineProperty(_assertThisInitialized(_this), \"unlockFocus\", function (callback) {\n      _this.setState({\n        focusUnlocked: true\n      }, callback());\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"showStep\", function () {\n      if (!_this.helper || !_this.helper.current) return;\n      var steps = _this.props.steps;\n      var _this$state = _this.state,\n          current = _this$state.current,\n          focusUnlocked = _this$state.focusUnlocked;\n\n      if (focusUnlocked) {\n        _this.setState({\n          focusUnlocked: false\n        });\n      }\n\n      var step = steps[current];\n      var node = step.selector ? document.querySelector(step.selector) : null;\n\n      var stepCallback = function stepCallback(o) {\n        if (step.action && typeof step.action === 'function') {\n          _this.unlockFocus(function () {\n            return step.action(o);\n          });\n        }\n      };\n\n      if (step.observe) {\n        var target = document.querySelector(step.observe);\n        var config = {\n          attributes: true,\n          childList: true,\n          characterData: true\n        };\n\n        _this.setState(function (prevState) {\n          if (prevState.observer) {\n            setTimeout(function () {\n              prevState.observer.disconnect();\n            }, 0);\n          }\n\n          return {\n            observer: new MutationObserver(function (mutations) {\n              mutations.forEach(function (mutation) {\n                if (mutation.type === 'childList' && mutation.addedNodes.length > 0) {\n                  var cb = function cb() {\n                    return stepCallback(mutation.addedNodes[0]);\n                  };\n\n                  setTimeout(function () {\n                    return _this.calculateNode(mutation.addedNodes[0], step, cb);\n                  }, 100);\n                } else if (mutation.type === 'childList' && mutation.removedNodes.length > 0) {\n                  var _cb = function _cb() {\n                    return stepCallback(node);\n                  };\n\n                  _this.calculateNode(node, step, _cb);\n                }\n              });\n            })\n          };\n        }, function () {\n          return _this.state.observer.observe(target, config);\n        });\n      } else {\n        if (_this.state.observer) {\n          _this.state.observer.disconnect();\n\n          _this.setState({\n            observer: null\n          });\n        }\n      }\n\n      if (node) {\n        var cb = function cb() {\n          return stepCallback(node);\n        };\n\n        _this.calculateNode(node, step, cb);\n      } else {\n        _this.setState(setNodeState(null, step, _this.helper.current), stepCallback);\n\n        step.selector && console.warn(\"Doesn't find a DOM node '\".concat(step.selector, \"'. Please check the 'steps' Tour prop Array at position \").concat(current, \".\"));\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"calculateNode\", function (node, step, cb) {\n      var _this$props = _this.props,\n          scrollDuration = _this$props.scrollDuration,\n          inViewThreshold = _this$props.inViewThreshold,\n          scrollOffset = _this$props.scrollOffset;\n      var attrs = getHighlightedRect(node, step);\n      var w = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n      var h = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n\n      if (!inView(_objectSpread2(_objectSpread2({}, attrs), {}, {\n        w: w,\n        h: h,\n        threshold: inViewThreshold\n      }))) {\n        var parentScroll = Scrollparent(node);\n        var offset = scrollOffset ? scrollOffset : attrs.height > h ? -25 : -(h / 2) + attrs.height / 2;\n        scrollSmooth.to(node, {\n          context: isBody(parentScroll) ? window : parentScroll,\n          duration: scrollDuration,\n          offset: offset,\n          callback: function callback(nd) {\n            _this.setState(setNodeState(nd, step, _this.helper.current), cb);\n          }\n        });\n      } else {\n        _this.setState(setNodeState(node, step, _this.helper.current), cb);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"recalculateNode\", function (step) {\n      var node = document.querySelector(step.selector);\n\n      var stepCallback = function stepCallback(o) {\n        if (step.action && typeof step.action === 'function') {\n          _this.unlockFocus(function () {\n            return step.action(o);\n          });\n        }\n      };\n\n      _this.calculateNode(node, step, function () {\n        return stepCallback(node);\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"maskClickHandler\", function (e) {\n      var _this$props2 = _this.props,\n          closeWithMask = _this$props2.closeWithMask,\n          onRequestClose = _this$props2.onRequestClose;\n\n      if (closeWithMask && !e.target.classList.contains(CN.mask.disableInteraction)) {\n        onRequestClose(e);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"nextStep\", function () {\n      var _this$props3 = _this.props,\n          steps = _this$props3.steps,\n          getCurrentStep = _this$props3.getCurrentStep;\n\n      _this.setState(function (prevState) {\n        var nextStep = prevState.current < steps.length - 1 ? prevState.current + 1 : prevState.current;\n\n        if (typeof getCurrentStep === 'function') {\n          getCurrentStep(nextStep);\n        }\n\n        return {\n          current: nextStep\n        };\n      }, _this.showStep);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"prevStep\", function () {\n      var getCurrentStep = _this.props.getCurrentStep;\n\n      _this.setState(function (prevState) {\n        var nextStep = prevState.current > 0 ? prevState.current - 1 : prevState.current;\n\n        if (typeof getCurrentStep === 'function') {\n          getCurrentStep(nextStep);\n        }\n\n        return {\n          current: nextStep\n        };\n      }, _this.showStep);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"gotoStep\", function (n) {\n      var _this$props4 = _this.props,\n          steps = _this$props4.steps,\n          getCurrentStep = _this$props4.getCurrentStep;\n\n      _this.setState(function (prevState) {\n        var nextStep = steps[n] ? n : prevState.current;\n\n        if (typeof getCurrentStep === 'function') {\n          getCurrentStep(nextStep);\n        }\n\n        return {\n          current: nextStep\n        };\n      }, _this.showStep);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"keyDownHandler\", function (e) {\n      var _this$props5 = _this.props,\n          onRequestClose = _this$props5.onRequestClose,\n          nextStep = _this$props5.nextStep,\n          prevStep = _this$props5.prevStep,\n          disableKeyboardNavigation = _this$props5.disableKeyboardNavigation;\n          _this$props5.showCloseButton;\n      e.stopPropagation();\n\n      if (disableKeyboardNavigation === true) {\n        return;\n      }\n\n      var isEscDisabled, isRightDisabled, isLeftDisabled;\n\n      if (disableKeyboardNavigation) {\n        isEscDisabled = disableKeyboardNavigation.includes('esc');\n        isRightDisabled = disableKeyboardNavigation.includes('right');\n        isLeftDisabled = disableKeyboardNavigation.includes('left');\n      }\n\n      if (e.keyCode === 27 && !isEscDisabled) {\n        // esc\n        e.preventDefault();\n        onRequestClose();\n      }\n\n      if (e.keyCode === 39 && !isRightDisabled) {\n        // right\n        e.preventDefault();\n        typeof nextStep === 'function' ? nextStep() : _this.nextStep();\n      }\n\n      if (e.keyCode === 37 && !isLeftDisabled) {\n        // left\n        e.preventDefault();\n        typeof prevStep === 'function' ? prevStep() : _this.prevStep();\n      }\n    });\n\n    _this.state = {\n      isOpen: false,\n      current: 0,\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0,\n      width: 0,\n      height: 0,\n      w: 0,\n      h: 0,\n      inDOM: false,\n      observer: null,\n      focusUnlocked: false\n    };\n    _this.helper = /*#__PURE__*/createRef();\n    _this.helperElement = null;\n    _this.debouncedShowStep = debounce(_this.showStep, 70);\n    return _this;\n  }\n\n  _createClass(Tour, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this$props6 = this.props,\n          isOpen = _this$props6.isOpen,\n          startAt = _this$props6.startAt;\n\n      if (isOpen) {\n        this.open(startAt);\n      }\n    }\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      var _this$props7 = this.props,\n          isOpen = _this$props7.isOpen,\n          update = _this$props7.update,\n          updateDelay = _this$props7.updateDelay;\n\n      if (!isOpen && nextProps.isOpen) {\n        this.open(nextProps.startAt);\n      } else if (isOpen && !nextProps.isOpen) {\n        this.close();\n      }\n\n      if (isOpen && update !== nextProps.update) {\n        if (nextProps.steps[this.state.current]) {\n          setTimeout(this.showStep, updateDelay);\n        } else {\n          this.props.onRequestClose();\n        }\n      }\n\n      if (isOpen && nextProps.isOpen && this.state.current !== nextProps.goToStep) {\n        this.gotoStep(nextProps.goToStep);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var isOpen = this.props.isOpen;\n\n      if (isOpen) {\n        this.close();\n      }\n\n      if (this.state.observer) {\n        this.state.observer.disconnect();\n      }\n    }\n  }, {\n    key: \"open\",\n    value: function open(startAt) {\n      var _this2 = this;\n\n      var onAfterOpen = this.props.onAfterOpen;\n      this.setState(function (prevState) {\n        return {\n          isOpen: true,\n          current: startAt !== undefined ? startAt : prevState.current\n        };\n      }, function () {\n        setTimeout(_this2.showStep, 1);\n        _this2.helperElement = _this2.helper.current;\n        if (!_this2.props.disableFocusLock) _this2.helper.current.focus();\n\n        if (onAfterOpen) {\n          onAfterOpen(_this2.helperElement);\n        }\n      });\n      window.addEventListener('resize', this.debouncedShowStep, false);\n      window.addEventListener('keydown', this.keyDownHandler, false);\n    }\n  }, {\n    key: \"close\",\n    value: function close() {\n      this.setState(function (prevState) {\n        if (prevState.observer) {\n          prevState.observer.disconnect();\n        }\n\n        return {\n          isOpen: false,\n          observer: null\n        };\n      }, this.onBeforeClose);\n      window.removeEventListener('resize', this.debouncedShowStep);\n      window.removeEventListener('keydown', this.keyDownHandler);\n    }\n  }, {\n    key: \"onBeforeClose\",\n    value: function onBeforeClose() {\n      var onBeforeClose = this.props.onBeforeClose;\n\n      if (onBeforeClose) {\n        onBeforeClose(this.helperElement);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props8 = this.props,\n          className = _this$props8.className,\n          steps = _this$props8.steps,\n          maskClassName = _this$props8.maskClassName,\n          showButtons = _this$props8.showButtons,\n          showCloseButton = _this$props8.showCloseButton,\n          showNavigation = _this$props8.showNavigation,\n          showNavigationNumber = _this$props8.showNavigationNumber,\n          showNumber = _this$props8.showNumber,\n          onRequestClose = _this$props8.onRequestClose,\n          maskSpace = _this$props8.maskSpace,\n          lastStepNextButton = _this$props8.lastStepNextButton,\n          nextButton = _this$props8.nextButton,\n          prevButton = _this$props8.prevButton,\n          badgeContent = _this$props8.badgeContent,\n          highlightedMaskClassName = _this$props8.highlightedMaskClassName,\n          disableInteraction = _this$props8.disableInteraction,\n          disableDotsNavigation = _this$props8.disableDotsNavigation,\n          nextStep = _this$props8.nextStep,\n          prevStep = _this$props8.prevStep,\n          rounded = _this$props8.rounded,\n          accentColor = _this$props8.accentColor,\n          CustomHelper = _this$props8.CustomHelper,\n          disableFocusLock = _this$props8.disableFocusLock,\n          highlightedBorder = _this$props8.highlightedBorder;\n      var _this$state2 = this.state,\n          isOpen = _this$state2.isOpen,\n          current = _this$state2.current,\n          inDOM = _this$state2.inDOM,\n          targetTop = _this$state2.top,\n          targetRight = _this$state2.right,\n          targetBottom = _this$state2.bottom,\n          targetLeft = _this$state2.left,\n          targetWidth = _this$state2.width,\n          targetHeight = _this$state2.height,\n          windowWidth = _this$state2.w,\n          windowHeight = _this$state2.h,\n          helperWidth = _this$state2.helperWidth,\n          helperHeight = _this$state2.helperHeight,\n          helperPosition = _this$state2.helperPosition;\n          _this$state2.focusUnlocked;\n\n      if (isOpen) {\n        return /*#__PURE__*/React.createElement(Portal, null, /*#__PURE__*/React.createElement(GlobalStyle, null), /*#__PURE__*/React.createElement(ReactourResizeObserver, {\n          step: steps[current],\n          refresh: function refresh() {\n            return _this3.recalculateNode(steps[current]);\n          }\n        }), /*#__PURE__*/React.createElement(ReactourMutationObserver, {\n          step: steps[current],\n          refresh: function refresh() {\n            return _this3.recalculateNode(steps[current]);\n          }\n        }), /*#__PURE__*/React.createElement(SvgMask, {\n          onClick: this.maskClickHandler,\n          forwardRef: function forwardRef(c) {\n            return _this3.mask = c;\n          },\n          windowWidth: windowWidth,\n          windowHeight: windowHeight,\n          targetWidth: targetWidth,\n          targetHeight: targetHeight,\n          targetTop: targetTop,\n          targetLeft: targetLeft,\n          padding: maskSpace,\n          rounded: rounded,\n          roundedStep: steps[current].roundedStep,\n          className: maskClassName,\n          disableInteraction: steps[current].stepInteraction === false || disableInteraction ? !steps[current].stepInteraction : disableInteraction,\n          disableInteractionClassName: \"\".concat(CN.mask.disableInteraction, \" \").concat(highlightedMaskClassName),\n          highlightedBorder: highlightedBorder\n        }), /*#__PURE__*/React.createElement(FocusLock, {\n          disabled: disableFocusLock\n        }, /*#__PURE__*/React.createElement(Guide, {\n          ref: this.helper,\n          targetHeight: targetHeight,\n          targetWidth: targetWidth,\n          targetTop: targetTop,\n          targetRight: targetRight,\n          targetBottom: targetBottom,\n          targetLeft: targetLeft,\n          windowWidth: windowWidth,\n          windowHeight: windowHeight,\n          helperWidth: helperWidth,\n          helperHeight: helperHeight,\n          helperPosition: helperPosition,\n          padding: maskSpace,\n          tabIndex: -1,\n          current: current,\n          style: steps[current].style ? steps[current].style : {},\n          rounded: rounded,\n          className: cn(CN.helper.base, className, _defineProperty({}, CN.helper.isOpen, isOpen)),\n          accentColor: accentColor,\n          defaultStyles: !CustomHelper,\n          role: \"dialog\"\n        }, CustomHelper ? /*#__PURE__*/React.createElement(CustomHelper, {\n          current: current,\n          totalSteps: steps.length,\n          gotoStep: this.gotoStep,\n          close: onRequestClose,\n          content: steps[current] && (typeof steps[current].content === 'function' ? steps[current].content({\n            close: onRequestClose,\n            goTo: this.gotoStep,\n            inDOM: inDOM,\n            step: current + 1\n          }) : steps[current].content)\n        }, this.props.children) : /*#__PURE__*/React.createElement(React.Fragment, null, this.props.children, steps[current] && (typeof steps[current].content === 'function' ? steps[current].content({\n          close: onRequestClose,\n          goTo: this.gotoStep,\n          inDOM: inDOM,\n          step: current + 1\n        }) : steps[current].content), showNumber && /*#__PURE__*/React.createElement(Badge, {\n          \"data-tour-elem\": \"badge\",\n          accentColor: accentColor\n        }, typeof badgeContent === 'function' ? badgeContent(current + 1, steps.length) : current + 1), (showButtons || showNavigation) && /*#__PURE__*/React.createElement(Controls, {\n          \"data-tour-elem\": \"controls\"\n        }, showButtons && /*#__PURE__*/React.createElement(Arrow$1, {\n          onClick: typeof prevStep === 'function' ? prevStep : this.prevStep,\n          disabled: current === 0,\n          label: prevButton ? prevButton : null\n        }), showNavigation && /*#__PURE__*/React.createElement(Navigation, {\n          \"data-tour-elem\": \"navigation\"\n        }, steps.map(function (s, i) {\n          return /*#__PURE__*/React.createElement(Dot, {\n            key: \"\".concat(s.selector ? s.selector : 'undef', \"_\").concat(i),\n            onClick: function onClick() {\n              return _this3.gotoStep(i);\n            },\n            current: current,\n            index: i,\n            accentColor: accentColor,\n            disabled: current === i || disableDotsNavigation,\n            showNumber: showNavigationNumber,\n            \"data-tour-elem\": \"dot\",\n            className: cn(CN.dot.base, _defineProperty({}, CN.dot.active, current === i)),\n            \"aria-label\": s.navDotAriaLabel\n          });\n        })), showButtons && /*#__PURE__*/React.createElement(Arrow$1, {\n          onClick: current === steps.length - 1 ? lastStepNextButton ? onRequestClose : function () {} : typeof nextStep === 'function' ? nextStep : this.nextStep,\n          disabled: !lastStepNextButton && current === steps.length - 1,\n          inverted: true,\n          label: lastStepNextButton && current === steps.length - 1 ? lastStepNextButton : nextButton ? nextButton : null\n        })), showCloseButton ? /*#__PURE__*/React.createElement(StyledClose, {\n          onClick: onRequestClose,\n          className: \"reactour__close\"\n        }) : null))));\n      }\n\n      return null;\n    }\n  }]);\n\n  return Tour;\n}(Component);\n\nvar setNodeState = function setNodeState(node, step, helper) {\n  var w = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\n  var h = Math.max(document.documentElement.clientHeight, window.innerHeight || 0);\n\n  var _hx$getNodeRect = getNodeRect(helper),\n      helperWidth = _hx$getNodeRect.width,\n      helperHeight = _hx$getNodeRect.height;\n\n  var attrs = {\n    top: h + 10,\n    right: w / 2 + 9,\n    bottom: h / 2 + 9,\n    left: w / 2 - helperWidth / 2,\n    width: 0,\n    height: 0,\n    w: w,\n    h: h,\n    helperPosition: 'center'\n  };\n\n  if (node) {\n    attrs = getHighlightedRect(node, step);\n  }\n\n  return function update() {\n    return _objectSpread2(_objectSpread2({\n      w: w,\n      h: h,\n      helperWidth: helperWidth,\n      helperHeight: helperHeight,\n      helperPosition: step.position\n    }, attrs), {}, {\n      inDOM: node ? true : false\n    });\n  };\n};\n\nTour.propTypes = propTypes;\nTour.defaultProps = defaultProps;\n\nexport default Tour;\nexport { Arrow$1 as Arrow, Badge, StyledClose as Close, Controls, Dot, Navigation };\n"]},"metadata":{},"sourceType":"module"}